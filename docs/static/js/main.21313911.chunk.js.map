{"version":3,"sources":["components/RatingSpan.js","components/DatePreview.js","components/StyledButton.js","panels/Home.js","components/CenteredDiv.js","components/FilmListElem.js","panels/Popular.js","constants.js","components/ClickImage.js","components/CustomTruncate.js","components/DivBottom.js","components/Forms.js","components/FeedBackCard.js","components/Genres.js","panels/Film.js","panels/Future.js","panels/FuturePopular.js","panels/Active.js","panels/Featured.js","panels/Settings.js","panels/Genre.js","panels/Collection.js","panels/Collections.js","App.js","history.js","index.js"],"names":["RatingSpan","react_default","a","createElement","style","padding","borderRadius","backgroundColor","position","right","top","fontWeight","fontSize","this","props","rating","React","Component","DatePreview","color","marginLeft","Date","date","toLocaleString","month","day","itemStyle","flexShrink","width","height","flexDirection","alignItems","paddingLeft","collectionStyle","margin","textAlign","background","paddingBottom","imgStyle","nameStyle","marginTop","marginBottom","overflow","display","WebkitLineClamp","WebkitBoxOrient","Home","_ref","collections","id","openFilm","activePreview","go","futurePreview","futurePopular","setid","activePopular","vkui","level","onClick","data-to","asideContent","browser_forward_default","multiline","description","href","aside","map","item","i","data-fid","tmdbId","key","Object","objectSpread","tmdbFullData","vote_average","RatingSpan_RatingSpan","src","image","size","title","boxShadow","DatePreview_DatePreview","data-data","_id","CenteredDiv","left","transform","children","FilmListElem","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","n","text_forms","n1","Math","abs","datafid","gridGap","gridTemplateColumns","marginRight","verticalAlign","popularCount","s","osname","platform","Popular","_this","state","error","response","_this2","connect","subscribe","e","detail","type","data","scope","search","setState","tokenWithScope","send","method","params","v","access_token","loaded","friends","fetch","headers","Accept","Content-Type","body","JSON","stringify","then","res","json","values","result","token","app_id","_this3","theme","IOS","chevron_back_default","back_default","CenteredDiv_CenteredDiv","length","share","paddingTop","FilmListElem_FilmListElem","count","settings","image_url","server_url","ClickImage","back","filter","front","bottom","zIndex","paddingRight","CustomTruncate","expanded","expand","bind","assertThisInitialized","console","log","lib_default","line","truncateText","text","textTruncateChild","DivBottom","onClose","cancel_default","borderBottom","overflowY","FeedBackForm","_React$Component","feedback","rate","anon","submit","onChange","anonF","changeRate","inherits","createClass","value","_this$setState","_e$currentTarget","currentTarget","name","defineProperty","val","_submit","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","loading","filmId","filmid","sent","loadeddata","ok","close","stop","apply","arguments","placeholder","min","max","concat","step","disabled","FeedBackCard","renderPreparedUser","renderUser","user","fields","user_ids","vkId","catch","first_name","last_name","photo_50","rateList","before","user_default","GenresRender","string","charAt","toUpperCase","slice","genres","to","data-search","genreStyle","capitalizeFirstLetter","Film","qr","feedBack","watchLoaded","watch","QRModal","feedBackModal","location","currentFilm","going","authToken","message","ClickImage_ClickImage","backdrop_path","justifyContent","runtime","overview","CustomTruncate_CustomTruncate","align","qr_default","logo_livejournal_default","feedbacks","Genres_GenresRender","year","budget","revenue","video","frameBorder","allow","allowFullScreen","playlist","owner","hack","react_vk_umd_production_min_default","react_vk_umd_production_min","pointerEvents","ownerId","playlistId","hash","FeedBackCard_FeedBackCard","assign","DivBottom_DivBottom","dangerouslySetInnerHTML","__html","createQR","component","Forms_FeedBackForm","Future","futureList","searchRes","toLowerCase","indexOf","FuturePopular","Active","activeList","_this4","Featured","list","films","Settings","_isMounted","connectPromise","notifications","is_allowed","event","checked","defaultChecked","Genre","Collection","cid","Collections","App","goBack","historyv","toConsumableArray","activePanel","filmhistory","pop","includes","dataset","window","history","pushState","lol","push","additionalData","onStoryChange","story","fid","info","hasError","onpopstate","preventDefault","split","isWebView","reload","activeStory","tabbar","selected","data-story","home_default","favorite_default","settings_default","panels_Featured","panels_Settings","onSwipeBack","panels_Home","panels_Popular","updateToken","panels_Future","panels_FuturePopular","panels_Active","panels_Collections","panels_Collection","Film_Film","panels_Genre","createBrowserHistory","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.21313911.chunk.js","sourcesContent":["import React from 'react';\n\nexport default class RatingSpan extends React.Component{\n  render(){\n    return(\n      <span style={{\n        padding: '2px 10px',\n        borderRadius: 15,\n        backgroundColor: 'white',\n        position: 'absolute',\n        right: '20%',\n        top: '2%',\n        fontWeight: 'bold',\n        fontSize: 14\n      }}>\n        {this.props.rating}\n      </span>\n  )}\n\n}\n","import React from 'react';\n\nexport default class DatePreview extends React.Component{\n  render(){\n    return(\n      <span style={{\n        borderRadius: 15,\n        fontWeight: '600',\n        fontSize: 14,\n        color: 'grey',\n        marginLeft: '3px'\n      }}>\n        с {new Date(this.props.date).toLocaleString('ru', {month: 'long', day: 'numeric'})}\n      </span>\n  )}\n\n}\n","import React from 'react';\n\nexport default class StyledButton extends React.Component{\n  render(){\n    return(\n      <a style={{width: 80, textAlign: 'center', fontSize: 13, color: 'grey'}}>\n        <div style={{width: 80, height: 80, backgroundColor: this.props.color, marginBottom: 5, borderRadius: 15}}>\n        {this.props.image}\n        </div>\n        {this.props.value}\n      </a>\n  )}\n\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Panel, ListItem, Button, Group, Div, PanelHeader, Header, Link, HorizontalScroll, Avatar, Gallery, List, Cell } from '@vkontakte/vkui';\nimport RatingSpan from '../components/RatingSpan';\nimport DatePreview from '../components/DatePreview';\nimport StyledButton from '../components/StyledButton';\nimport Icon24BrowserForward from '@vkontakte/icons/dist/24/browser_forward';\n\nconst itemStyle = {\n\tflexShrink: 0,\n\twidth: 130,\n\theight: 'auto',\n\tflexDirection: 'column',\n\talignItems: 'center',\n\tfontSize: 16,\n\tpaddingLeft: 4\n};\n\nconst collectionStyle = {\n\tflexShrink: 0,\n\twidth: \"80%\",\n\tmargin: \"auto\",\n\ttextAlign: \"center\",\n\tflexDirection: 'column',\n\talignItems: 'center',\n\tfontSize: 16,\n\tpaddingLeft: 4,\n\tbackground: '#f4f4f4',\n\tborderRadius: 6,\n\tpaddingBottom: 5\n};\n\nconst imgStyle = {\n\twidth: 110,\n\theight: 150,\n\tborderRadius: 15\n};\n\nconst nameStyle = {\n\twidth: 100,\n\tmarginTop: 0,\n\tmarginBottom: 0,\n\tpadding: 3,\n\tpaddingBottom: 0,\n\toverflow: 'hidden',\n\tdisplay: '-webkit-box',\n\tWebkitLineClamp: 2,\n\tWebkitBoxOrient: 'vertical'\n};\n\nconst genre = {\n\tcolor: \"grey\",\n\tfontSize: 14,\n};\n\nconst Home = ({collections, id, openFilm, activePreview, go, futurePreview, setid, futurePopular, activePopular }) => (\n\n\n\t<Panel id={id}>\n\t\t<PanelHeader>Главная</PanelHeader>\n\n\t\t<Group style={{ paddingBottom: 8 }}>\n\t\t\t\t<Header level=\"1\">\n\t\t\t\t\t\tПолезные ссылки\n\t\t\t\t</Header>\n\t\t\t\t<List>\n          <Cell onClick={go} data-to=\"popular\" asideContent={<Icon24BrowserForward />} multiline description=\"В данном разделе мы собрали самые популярные фильмы среди твоих друзей!\">Популярное среди друзей</Cell>\n\t\t\t\t\t<Cell href=\"https://vk.com/findfilmgroup\" asideContent={<Icon24BrowserForward />} multiline description=\"Узнавай о новинках кино и интересных фактах у нас в группе!\">Наш паблик</Cell>\n\t\t\t\t\t\n        </List>\n    </Group>\n\n\t\t<Group style={{ paddingBottom: 8 }}>\n\t\t\t\t<Header level=\"1\" aside={<Link data-to='active' onClick={go}>Показать все</Link>}>\n\t\t\t\t\t\tСейчас в кино\n\t\t\t\t</Header>\n        <HorizontalScroll>\n          <div style={{ display: 'flex' }}>\n\t\t\t\t\t\t{\tactivePreview &&\n\t\t\t\t\t\t\tactivePreview.map(function(item, i){\n\t\t\t\t\t\t\t\treturn <Link onClick={openFilm} data-fid={item.tmdbId} data-to=\"film\" key={i} style={{ ...itemStyle }}>\n\t\t\t\t\t\t\t\t\t<div style={{position: 'relative'}}>\n\t\t\t\t\t\t\t\t\t\t{item.tmdbFullData.vote_average && <RatingSpan rating={item.tmdbFullData.vote_average}/>}\n\t\t\t              <img src={item.image} size={64} style={{...imgStyle, marginBottom: 8 }}></img>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{/*<p style={{...nameStyle, ...genre}}>{item.genre}</p>*/}\n\t\t\t\t\t\t\t\t\t<p style={nameStyle}>{item.title}</p>\n\t\t            </Link>\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n          </div>\n        </HorizontalScroll>\n      </Group>\n\t\t\t{/*<Group style={{ paddingBottom: 8 }}>\n\t\t\t\t\t<Header level=\"1\" aside={<Link data-to='active' onClick={go}>Показать все</Link>}>\n\t\t\t\t\t\t\tВ центре внимания\n\t\t\t\t\t</Header>\n\t\t\t\t\t<HorizontalScroll>\n\t\t\t\t\t\t<div style={{ display: 'flex' }}>\n\t\t\t\t\t\t\t{\tactivePopular &&\n\t\t\t\t\t\t\t\tactivePopular.map(function(item, i){\n\t\t\t\t\t\t\t\t\treturn <Link onClick={openFilm} data-fid={item.tmdbId} data-to=\"film\" key={i} style={{ ...itemStyle }}>\n\t\t\t\t\t\t\t\t\t\t<div style={{position: 'relative'}}>\n\t\t\t\t\t\t\t\t\t\t\t{item.tmdbFullData.vote_average && <RatingSpan rating={item.tmdbFullData.vote_average}/>}\n\t\t\t\t\t\t\t\t\t\t\t<img src={item.image} size={64} style={{...imgStyle, marginBottom: 8 }}></img>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<p style={nameStyle}>{item.title}</p>\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</HorizontalScroll>\n\t\t\t\t</Group>*/}\n\t\t\t<Group style={{ paddingBottom: 8 }}>\n\t\t\t\t\t<Header level=\"1\" aside={<Link data-to='future' onClick={go}>Показать все</Link>}>\n\t\t\t\t\t\t\tСкоро в кино\n\t\t\t\t\t</Header>\n\t\t\t\t\t<HorizontalScroll>\n\t\t\t\t\t\t<div style={{ display: 'flex' }}>\n\t\t\t\t\t\t{\tfuturePreview &&\n\t\t\t\t\t\t\tfuturePreview.map(function(item, i){\n\t\t\t\t\t\t\t\treturn <Link onClick={openFilm} data-fid={item.tmdbId} data-to=\"film\" key={i} style={{ ...itemStyle }}>\n\t\t\t\t\t\t\t\t\t<div style={{position: 'relative'}}>\n\t\t\t\t\t\t\t\t\t\t<img src={item.image} size={64} style={{...imgStyle, marginBottom: 8, boxShadow: \"inset 0px 0px 10px rgba(0,0,0,0.9)\" }}></img>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{/*<p style={{...nameStyle, ...genre}}>{item.genre}</p>*/}\n\t\t\t\t\t\t\t\t\t{item.date && <DatePreview date={item.date}/>}\n\t\t\t\t\t\t\t\t\t<p style={nameStyle}>{item.title}</p>\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</HorizontalScroll>\n\t\t\t\t</Group>\n\t\t\t\t\t<Group style={{ paddingBottom: 8 }}>\n\t\t\t\t\t\t\t<Header level=\"1\" aside={<Link data-to='futurepopular' onClick={go}>Показать все</Link>}>\n\t\t\t\t\t\t\t\tОжидаемые\n\t\t\t\t\t\t\t</Header>\n\t\t\t\t\t\t\t<HorizontalScroll>\n\t\t\t\t\t\t\t\t<div style={{ display: 'flex' }}>\n\t\t\t\t\t\t\t\t{\tfuturePopular &&\n\t\t\t\t\t\t\t\t\tfuturePopular.map(function(item, i){\n\t\t\t\t\t\t\t\t\t\treturn <Link onClick={openFilm} data-fid={item.tmdbId} data-to=\"film\" key={i} style={{ ...itemStyle }}>\n\t\t\t\t\t\t\t\t\t\t\t<div style={{position: 'relative'}}>\n\t\t\t\t\t\t\t\t\t\t\t\t<img src={item.image} size={64} style={{...imgStyle, marginBottom: 8}}></img>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t{/*<p style={{...nameStyle, ...genre}}>{item.genre}</p>*/}\n\t\t\t\t\t\t\t\t\t\t\t{item.date && <DatePreview date={item.date}/>}\n\t\t\t\t\t\t\t\t\t\t\t<p style={nameStyle}>{item.title}</p>\n\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</HorizontalScroll>\n\t\t\t\t\t\t</Group>\n\t\t\t\t<Group style={{ paddingBottom: 8 }}>\n\t\t\t\t\t\t<Header level=\"1\" aside={<Link data-to='collections' onClick={go}>Показать все</Link>}>\n\t\t\t\t\t\t\t\tКоллекции\n\t\t\t\t\t\t</Header>\n\t\t\t\t\t\t\t<div style={{ display: 'flex', flexDirection: 'column', }}>\n\t\t\t\t\t\t\t{\tcollections &&\n\t\t\t\t\t\t\t\tcollections.map(function(item, i){\n\t\t\t\t\t\t\t\t\treturn <div>\n\t\t\t\t\t\t\t\t\t\t<div onClick={go} data-data={item._id} data-to=\"collection\" key={i} style={{ ...collectionStyle }}>\n\t\t\t\t\t\t\t\t\t\t\t{/*<p style={{...nameStyle, ...genre}}>{item.genre}</p>*/}\n\t\t\t\t\t\t\t\t\t\t\t<img style={{borderRadius: 3, marginTop: 20, width: 200, marginBottom: 8 }} src={item.image}/>\n\t\t\t\t\t\t\t\t\t\t\t<p style={{fontWeight: 'bold', color: \"#5a5a5a\"}}>{item.title}</p>\n\t\t\t\t\t\t\t\t\t\t</div><br/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t</Group>\n\n\t</Panel>\n);\n\nexport default Home;\n","import React from 'react';\nimport TextTruncate from 'react-text-truncate';\n\nexport default class CenteredDiv extends React.Component{\n\n  render(){\n    return(\n      <div style={{\n        position: 'fixed',\n        top: \"50%\",\n        left: \"50%\",\n        transform: \"translate(-50%, -50%)\",\n        color: \"#656565\",\n        textAlign: \"center\",\n        display: \"flex\",\n        alignItems: \"center\",\n        flexDirection: \"column\"\n      }}>\n        {this.props.children}\n      </div>\n  )}\n\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport default class FilmListElem extends React.Component{\n  constructor(props) {\n    super(props);\n  }\n\n  s(n, text_forms){\n    n = Math.abs(n) % 100; var n1 = n % 10;\n    if (n > 10 && n < 20) { return text_forms[2]; }\n    if (n1 > 1 && n1 < 5) { return text_forms[1]; }\n    if (n1 == 1) { return text_forms[0]; }\n    return text_forms[2];\n  }\n\n  render(){\n    return(\n      <div data-fid={this.props.datafid} onClick={this.props.onClick} style={{padding: '10px', gridGap: \"20px\", display: 'grid', gridTemplateColumns: '23% 60%'}}>\n        <img style={{width:\"100%\", marginRight: 10, verticalAlign: 'top', borderRadius: 10}} src={this.props.image}/>\n        <div>\n          <div style={{verticalAlign: 'top', fontWeight: 'bold', fontSize: 16}}>\n            {this.props.title}\n          </div>\n          {this.props.popularCount &&\n            <div style={{fontSize: 14, color: 'grey'}}>{this.props.popularCount} {this.s(this.props.popularCount, ['друг хочет', 'друга хотят', 'друзей хотят'])} пойти на этот фильм</div>\n          }\n        </div>\n      </div>\n  )}\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {Panel, PanelHeader, HeaderButton, platform, IOS, Spinner, Button} from '@vkontakte/vkui';\nimport connect from '@vkontakte/vkui-connect';\n\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\n\nimport CenteredDiv from '../components/CenteredDiv';\nimport FilmListElem from '../components/FilmListElem';\n\nconst osname = platform();\n\nclass Popular extends React.Component {\n  constructor(props) {\n\t\tsuper(props);\n    this.state = {\n      error: false,\n      response: [],\n    }\n\t}\n\n  componentDidMount() {\n\n    connect.subscribe((e) => {\n      switch (e.detail.type) {\n        case 'VKWebAppAccessTokenReceived':\n          if(e.detail.data.scope.search(\"friends\") === -1){\n            break;\n          }\n          this.setState({ tokenWithScope: e.detail.data, error: false });\n          connect.send(\"VKWebAppCallAPIMethod\", {\"method\": \"friends.getAppUsers\", \"params\": {\"v\": 5.95, \"access_token\":e.detail.data.access_token}});\n          break;\n\n        case 'VKWebAppCallAPIMethodResult':\n          if(this.state.loaded) break;\n          var friends = e.detail.data.response;\n          fetch('https://cinema.voloshinskii.ru/popular/friends', {\n            method: 'POST',\n            headers: {\n              'Accept': 'application/json',\n              'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({friends: friends})\n          }).then(res => res.json())\n            .then(json => this.setState({ response: Object.values(json.result), loaded: true }))\n          break;\n\n      }\n    });\n\n    if (!this.props.token || this.props.token.scope.search(\"friends\") === -1){\n      this.setState({error: true})\n      connect.send(\"VKWebAppGetAuthToken\", {\"app_id\": 6977050, \"scope\": \"friends\"});\n    }\n    else{\n      connect.send(\"VKWebAppCallAPIMethod\", {\"method\": \"friends.getAppUsers\", \"params\": {\"v\": 5.95, \"access_token\":this.props.token.access_token}});\n    }\n  }\n\n  share(){\n    connect.send(\"VKWebAppTapticImpactOccurred\", {\"style\": \"light\"});\n    connect.send(\"VKWebAppShare\");\n  }\n\n\trender() {\n\t\treturn (\n      <Panel theme=\"white\" id={this.props.id}>\n    \t\t<PanelHeader\n    \t\t\tleft={<HeaderButton onClick={this.props.go} data-to=\"home\">\n    \t\t\t\t{osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\n    \t\t\t</HeaderButton>}\n    \t\t>\n    \t\t\tПопулярное\n    \t\t</PanelHeader>\n        {!this.state.error && !this.state.loaded && <Spinner size=\"large\" style={{marginTop: 30}}/>}\n        {this.state.error && <CenteredDiv>Для работы приложению необходимо иметь доступ к списку Ваших друзей</CenteredDiv>}\n        {!this.state.error && this.state.loaded && this.state.response.length == 0 &&\n          <CenteredDiv>\n            <span style={{paddingBottom: '20px'}}>Ни один из Ваших друзей ещё не пользуется нашим сервисом. Но это можно легко исправить!</span>\n            <Button onClick={this.share} size=\"xl\" style={{width:\"90%\", margin: \"auto\"}} level=\"secondary\">Давайте!</Button>\n          </CenteredDiv>\n        }\n        {!this.state.error && this.state.loaded && this.state.response.length > 0 && <div style={{paddingTop: '10px'}}>{this.state.response.map(item =>{\n          return <FilmListElem data-fid={item.data.tmdbId} datafid={item.data.tmdbId} onClick={this.props.openFilm} popularCount={item.count} key={item.data._id} title={item.data.title} image={item.data.image}/>\n        })}</div>}\n\n    \t</Panel>\n\t\t);\n\t}\n}\n\nexport default Popular;\n","const settings = {\n  image_url:  'https://image.tmdb.org/t/p/original',\n  server_url: 'https://cinema.voloshinskii.ru'\n};\n\nexport default settings;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport default class ClickImage extends React.Component{\n  constructor(props) {\n    super(props);\n  }\n\n  render(){\n    return(\n      <div style={{position: 'relative', marginBottom: 30}}>\n      {this.props.back == 'https://image.tmdb.org/t/p/originalnull' && <img src=\"https://image.tmdb.org/t/p/original/pKDVywMKjM7TeU739z7cR9wu9Sf.jpg\" style={{width: '100%', filter: 'blur(15px)'}}/>}\n      {this.props.back != 'https://image.tmdb.org/t/p/originalnull' &&<img src={this.props.back} style={{width: '100%', filter: 'blur(2.2px)'}}/>}\n        <div style={{position: 'absolute', top: 0, left: 0, width: '100%', height: '101%', backgroundColor: 'rgba(0, 0, 0, 0.40)'}}>\n\n        { this.props.front != 'https://image.tmdb.org/t/p/originalnull' &&\n          <img\n            src={this.props.front}\n            style={{\n              width: '27%',\n              position: 'absolute',\n              bottom: '-5%',\n              left: '8%',\n              borderRadius: 10,\n              boxShadow: '0 12px 30px 0 rgba(35,39,42,.4)',\n              zIndex: 1000\n            }}\n          />\n        }\n          <span style={{\n            position: 'absolute',\n            top: '40%',\n            left: '40%',\n            color: 'white',\n            fontWeight: 'bold',\n            fontSize: 19,\n            paddingRight: 20,\n          }}>\n            {this.props.title}\n          </span>\n        </div>\n      </div>\n  )}\n\n}\n\nClickImage.propTypes = {\n\tback: PropTypes.string.isRequired,\n  front: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n};\n","import React from 'react';\nimport TextTruncate from 'react-text-truncate';\n\nexport default class CustomTruncate extends React.Component{\n  constructor(props) {\n    super(props);\n    this.state = {\n      expanded: false\n    }\n    this.expand = this.expand.bind(this);\n  }\n\n  expand(){\n    var expand = !(this.state.expanded);\n    this.setState({expanded: expand});\n    console.log(this.state.expanded);\n  }\n\n  render(){\n    return(\n      <TextTruncate\n        line={this.state.expanded ? 9999999999 : 4}\n        truncateText={this.state.expanded ? '' : '...'}\n        text={this.props.text}\n        textTruncateChild={<a style={{color: '#528bcc'}} onClick={this.expand}>Показать больше</a>}\n      />\n  )}\n\n}\n","import React from 'react';\nimport TextTruncate from 'react-text-truncate';\nimport {Group, Div} from '@vkontakte/vkui';\n\nimport Icon24Cancel from '@vkontakte/icons/dist/24/cancel';\n\nexport default class DivBottom extends React.Component{\n\n  render(){\n    return(\n      <div>\n        <div onClick={this.props.onClose} style={{position: 'fixed', zIndex: '1999', background: 'rgba(0, 0, 0, 0.55)', width: '100%', height: '100%', bottom: 0}}/>\n        <div id=\"fixed\" style={{\n          height:'80%',\n          position: 'fixed',\n          bottom: 0,\n          borderRadius: \"20px 20px 0 0\",\n          background: 'white',\n          width: '100%',\n          zIndex: '2000',\n          paddingBottom: '30px'\n        }}>\n          <div style={{display: 'relative', textAlign: 'center', fontWeight: 'bold', margin: '20px 0'}}>\n              {this.props.title}\n              <span style={{padding: 3, borderRadius: '50%', background: '#ebeef1', position: 'absolute', top: '15px', right: '20px'}}><Icon24Cancel onClick={this.props.onClose} style={{color: '#828a96'}}/></span>\n              <div style={{marginTop: '15px', borderBottom: '1px solid #d7d8d9'}}/>\n          </div>\n          <div style={{position: 'fixed', bottom: '30px', overflowY: 'scroll', height: '70%', width: '100%'}}>\n            {this.props.children}\n          </div>\n        </div>\n      </div>\n  )}\n}\n","import React from 'react';\nimport {FormLayout, Input, FormLayoutGroup, Select, Radio, Textarea, Checkbox, Link, Button, Slider, Div, FormStatus, Spinner} from '@vkontakte/vkui';\nimport connect from '@vkontakte/vkui-connect';\n\nexport class FeedBackForm extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      feedback: '',\n      rate: 0,\n      anon: false\n    }\n    this.submit = this.submit.bind(this);\n    this.onChange = this.onChange.bind(this);\n    this.anonF = this.anonF.bind(this);\n    this.changeRate = this.changeRate.bind(this);\n  }\n\n  onChange(e) {\n    const { name, value } = e.currentTarget;\n    if(value.length <= 420) this.setState({ [name]: value, error: false});\n  }\n\n  anonF(){\n    connect.send(\"VKWebAppTapticImpactOccurred\", {\"style\": \"heavy\"});\n    var val = !this.state.anon;\n    this.setState({anon: val, error: false});\n  }\n\n  async submit(){\n    await this.setState({loading: true});\n    var response = await fetch('https://cinema.voloshinskii.ru/feedback/post', {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({filmId: this.props.filmid, token: this.props.token, ...this.state})\n    });\n    await this.setState({loadeddata: true});\n    var data = await response.json();\n    console.log(data);\n    if(data.ok){\n      await connect.send(\"VKWebAppTapticNotificationOccurred\", {\"type\": \"success\"});\n      this.props.close();\n    }\n    else if(data.error === \"Wrong request\" || data.error === \"empty\"){\n      await connect.send(\"VKWebAppTapticNotificationOccurred\", {\"type\": \"error\"});\n      await this.setState({loading: false, loadeddata: false, error: 'Отзыв не может быть с пустым текстом и оценкой одновременно'});\n    }\n  }\n\n  changeRate(rate){\n    if(rate.rate != this.state.rate) connect.send(\"VKWebAppTapticImpactOccurred\", {\"style\": \"medium\"});\n    this.setState({rate: rate.rate, error: false});\n  }\n\n  render() {\n    const rateList = [\"без оценки\", \"🤬 (1)\", \"🤮 (2)\", \"🤢 (3)\", \"😟 (4)\", \"😕 (5)\", \"😐 (6)\", \"🙂 (7)\", \"😃 (8)\", \"👍 (9)\", \"😍 (10)\"];\n    return (\n      <div>\n          {!this.state.loadeddata && <FormLayout>\n            {!this.state.error && <FormStatus style={{zIndex: -1}} title=\"Модерация\">\n              Твой отзыв будет опубликован сразу же после прохождения модерации. Обычно она занимает не более часа\n            </FormStatus>\n            }\n            {this.state.error && <FormStatus style={{zIndex: -1}} state=\"error\" title=\"Ошибка\">\n              {this.state.error}\n            </FormStatus>\n            }\n            <div>\n              <Textarea\n                  type=\"text\"\n                  top=\"Отзыв\"\n                  name=\"feedback\"\n                  value={this.state.feedback}\n                  onChange={this.onChange}\n                  placeholder=\"Напиши всё, что думаешь об этом фильме. В рамках приличия, конечно же\"\n              />\n              <div style={{textAlign: 'right', marginRight: '12px', color: 'grey', marginTop: '5px'}}>{420 - this.state.feedback.length}</div>\n            </div>\n            <Slider\n                min={0}\n                max={10}\n                onChange={rate => this.changeRate({rate})}\n                top={`Ваша оценка: ${rateList[this.state.rate]}`}\n                step={1}\n              />\n            <Checkbox\n              name=\"anon\"\n              onClick={this.anonF}\n            >\n              Анонимно\n            </Checkbox>\n            <Button size=\"xl\" disabled={this.state.loading || this.state.error} onClick={this.submit}>{this.state.loading? <Spinner size=\"regular\"/> :\"Опубликовать\"}</Button>\n          </FormLayout>}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport {Cell, Avatar, Div, Group, Link} from '@vkontakte/vkui';\nimport connect from '@vkontakte/vkui-connect-promise';\nimport Icon28User from '@vkontakte/icons/dist/28/user';\n\nexport default class FeedBackCard extends React.Component{\n  constructor(props) {\n    super(props);\n    this.renderPreparedUser = this.renderPreparedUser.bind(this);\n    this.renderUser = this.renderUser.bind(this);\n    this.state = {\n      user: null\n    }\n  }\n\n  componentDidMount(){\n\n    if(!this.props.user.user){\n      connect.send(\"VKWebAppCallAPIMethod\", {\"method\": \"users.get\", \"params\": {\"fields\": \"photo_50\", \"user_ids\": this.props.user.vkId, \"v\":\"5.95\", \"access_token\":this.props.token}})\n      .then(data => this.setState({user: data.data.response[0]}))\n      .catch(() => this.setState({user: {id: 0, first_name: 'Приватный', last_name: 'аккаунт', photo_50: 'https://sun1-19.userapi.com/c847124/v847124728/335f9/8POFsScEtc8.jpg?ava=1'}}))\n    }\n  }\n\n  renderPreparedUser(rateList){\n    return(\n      <div>\n        <Cell description={rateList[this.props.rate]} before={<Avatar><Icon28User/></Avatar>}>\n          {this.props.user.user.first_name} {this.props.user.user.last_name}\n        </Cell>\n        <p style={{padding: \"0 12px\"}}>{this.props.text}</p>\n      </div>\n    );\n  }\n\n  renderUser(rateList){\n    return(\n      <div>\n      {this.props.token &&\n        <Link style={{color: 'black'}} href={this.state.user.id != 0 && `https://vk.com/id${this.state.user.id}`}>\n          <Cell description={rateList[this.props.rate]} before={<Avatar src={this.state.user.photo_50}/>}>\n            {this.state.user.first_name} {this.state.user.last_name}\n          </Cell>\n        </Link>\n      }\n      {!this.props.token &&\n        <Cell description={rateList[this.props.rate]} before={<Avatar src={this.state.user.photo_50}/>}>\n          {this.state.user.first_name} {this.state.user.last_name}\n        </Cell>\n      }\n        <p style={{padding: \"0 12px\"}}>{this.props.text}</p>\n      </div>\n    );\n  }\n\n  render(){\n    const rateList = [\"без оценки\", \"🤬 (1)\", \"🤮 (2)\", \"🤢 (3)\", \"😟 (4)\", \"😕 (5)\", \"😐 (6)\", \"🙂 (7)\", \"😃 (8)\", \"👍 (9)\", \"😍 (10)\"];\n    return(\n      <Group>\n        <Div>\n          {this.props.user.user && this.renderPreparedUser(rateList)}\n          {this.state.user && this.renderUser(rateList)}\n        </Div>\n      </Group>\n  )}\n\n}\n","import React from 'react';\nimport {Group, Link, HorizontalScroll} from '@vkontakte/vkui';\n\nexport default class GenresRender extends React.Component{\n\n  capitalizeFirstLetter(string) {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  }\n\n  render(){\n    return(\n      <div style={{marginTop: '15px'}}>\n        <HorizontalScroll style={{overflow: 'unset'}}>\n          <div style={{ display: 'flex', paddingLeft: '10px'}}>\n            {this.props.genres.map(item => {\n              return <div key={item.id} style={itemStyle}><div onClick={this.props.go} data-to={this.props.to} data-search={item.id} key={item.id} style={genreStyle}>{this.capitalizeFirstLetter(item.name)}</div></div>\n            })}\n          </div>\n        </HorizontalScroll>\n      </div>\n  )}\n\n}\n\nconst itemStyle = {\n  flexShrink: 0,\n  display: 'flex',\n  flexDirection: 'column',\n  alignItems: 'center',\n};\n\nconst genreStyle = {\n  display: 'inline-block',\n\tbackgroundColor: '#f7f7f7',\n  padding: '12px 20px',\n  marginRight: '10px',\n  color: 'grey',\n  fontSize: 17,\n  fontWeight: 'bold',\n  borderRadius: 20,\n};\n","import React from 'react';\nimport {Panel, PanelHeader, HeaderButton, platform, IOS, Group, Button, Header, Div, InfoRow, List, Cell, Spinner, Counter, Link} from '@vkontakte/vkui';\nimport qr from '@vkontakte/vk-qr';\nimport settings from '../constants.js';\nimport connect from '@vkontakte/vkui-connect-promise';\nimport VK, { Playlist } from \"react-vk\";\nimport TextTruncate from 'react-text-truncate';\n\n\nimport Icon24Qr from '@vkontakte/icons/dist/24/qr';\nimport Icon24Info from '@vkontakte/icons/dist/24/info';\nimport Icon24Like from '@vkontakte/icons/dist/24/like';\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\nimport Icon24LogoLivejournal from '@vkontakte/icons/dist/24/logo_livejournal';\n\nimport ClickImage from '../components/ClickImage';\nimport CustomTruncate from '../components/CustomTruncate';\nimport DivBottom from '../components/DivBottom';\nimport {FeedBackForm} from '../components/Forms';\nimport FeedBackCard from '../components/FeedBackCard';\nimport {Genres} from '../components/Exporter';\n\nconst osname = platform();\n\n\nexport default class Film extends React.Component{\n  constructor(props) {\n\t\tsuper(props);\n\n    this.state = {\n      qr: false,\n      feedBack: false,\n      watchLoaded: true\n    }\n\n    this.watch = this.watch.bind(this);\n    this.QRModal = this.QRModal.bind(this);\n    this.feedBackModal = this.feedBackModal.bind(this);\n\t}\n\n  componentDidMount(){\n    connect.send(\"VKWebAppSetLocation\", {\"location\": `film_${this.props.filmid}`});\n  }\n\n  watch(token, filmid){\n    this.setState({watchLoaded: false});\n    if(token){\n      connect.send(\"VKWebAppTapticNotificationOccurred\", {\"type\": \"success\"});\n      if(!this.props.currentFilm.going){\n      this.props.currentFilm.watch++;\n      fetch(`https://cinema.voloshinskii.ru/watch?token=${token}&filmId=${filmid}`)\n        .then(res => this.setState({watchLoaded: true}))\n      }\n      else{\n        this.props.currentFilm.watch--;\n        fetch(`https://cinema.voloshinskii.ru/unwatch?token=${token}&filmId=${filmid}`)\n          .then(res => this.setState({watchLoaded: true}))\n      }\n      this.props.currentFilm.going = !this.props.currentFilm.going;\n      this.setState({going: this.props.currentFilm.going});\n    }\n    else{\n      connect.send(\"VKWebAppGetAuthToken\", {\"app_id\": 6977050, \"scope\": \"\"}).then(data => {\n        this.watch(data.data.access_token, this.props.currentFilm._id);\n        this.props.authToken = data.data.access_token;\n      }).catch(()=> this.setState({watchLoaded: true}));\n    }\n  }\n\n\n  share(filmid, title){\n    connect.send(\"VKWebAppTapticImpactOccurred\", {\"style\": \"light\"});\n      connect.send(\"VKWebAppShowWallPostBox\", {\"message\": `Я иду на фильм: ${title}! https://vk.com/app6977050#film_${filmid}. Хочешь со мной 🍿🍿?`});\n  }\n\n  QRModal(){\n    var value = !this.state.qr;\n    if(value){\n      connect.send('VKWebAppEnableSwipeBack');\n    }\n    else{\n      connect.send('VKWebAppDisableSwipeBack');\n    }\n\n    this.setState({qr: value});\n  }\n\n  feedBackModal(){\n    var value = !this.state.feedBack;\n    if(value){\n      connect.send('VKWebAppEnableSwipeBack');\n    }\n    else{\n      connect.send('VKWebAppDisableSwipeBack');\n    }\n\n    this.setState({feedBack: value});\n  }\n\n  render(){\n    return(\n      <Panel id={this.props.id}>\n    \t\t<PanelHeader\n    \t\t\tleft={!this.state.qr && !this.state.feedBack && <HeaderButton onClick={this.props.go} data-to=\"home\">\n    \t\t\t\t{osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\n    \t\t\t</HeaderButton>}\n    \t\t>\n    \t\t\tФильм\n    \t\t</PanelHeader>\n        <div style={{background: 'white'}}>\n            {!this.props.currentFilm && <div style={{zIndex: 10000, position: 'absolute', background: 'white', top: 0, width: '100%', height: '100%'}}><Spinner size=\"large\" style={{marginTop: 30}}/></div>}\n            {this.props.currentFilm &&\n              <ClickImage back={settings.image_url + this.props.currentFilm.tmdbFullData.backdrop_path}\n                          front={this.props.currentFilm.image}\n                          title={this.props.currentFilm.title}\n              />\n            }\n            <Group>\n              <Div style={{display: 'flex', justifyContent: 'space-between', flexDirection: 'row' }}>\n                {this.props.currentFilm && this.props.currentFilm.tmdbFullData.vote_average > 0 &&\n                  <InfoRow style={{display: 'inline-block'}} title='Рейтинг'>\n                    <span style={{color: '#528bcc', fontWeight: 'bold', fontSize: 20}}>\n                      {this.props.currentFilm.tmdbFullData.vote_average}\n                    </span>\n                  </InfoRow>\n                }\n\n                {this.props.currentFilm && this.props.currentFilm.tmdbFullData.runtime > 0 &&\n                  <InfoRow style={{display: 'inline-block'}} title='Продолжительность'>\n                    <span style={{color: 'grey', fontWeight: 'bold', fontSize: 20}}>\n                      {this.props.currentFilm.tmdbFullData.runtime} мин\n                    </span>\n                  </InfoRow>\n                }\n                {this.props.currentFilm && this.props.currentFilm.date && new Date(this.props.currentFilm.date) > new Date() &&\n                  <InfoRow style={{display: 'inline-block'}} title='Премьера'>\n                    <span style={{color: 'grey', fontWeight: 'bold', fontSize: 20}}>\n                      {new Date(this.props.currentFilm.date).toLocaleString('ru', {month: 'long', day: 'numeric'})}\n                    </span>\n                  </InfoRow>\n                }\n              </Div>\n            </Group>\n\n            <Div>\n              {this.props.currentFilm && this.props.currentFilm.tmdbFullData.overview &&\n                <CustomTruncate\n                  text={this.props.currentFilm.tmdbFullData.overview}\n                />\n              }\n            </Div>\n\n            <div style={{width: '95%', margin: 'auto', display: 'flex', flexDirection: 'row', justifyContent: 'space-between'}}>\n              {this.props.currentFilm && !this.props.currentFilm.going && <Button align='left' size=\"xl\" style={{width: '100%', display: \"inline-block\", marginRight:'1%'}}  disabled={!this.state.watchLoaded} level=\"primary\" onClick={() => { this.watch(this.props.authToken, this.props.currentFilm._id) }}>{this.state.watchLoaded ? \"Иду на фильм\" : <Spinner size=\"regular\"/>}</Button>}\n              {this.props.currentFilm && this.props.currentFilm.going && <Button  align='left' size=\"xl\" style={{width: '100%', display: \"inline-block\",  marginRight:'1%'}} disabled={!this.state.watchLoaded} level=\"primary\" onClick={() => {  this.watch(this.props.authToken, this.props.currentFilm._id) }}>{this.state.watchLoaded ? \"Удалить из списка\" : <Spinner size=\"regular\"/>}</Button>}\n              {this.props.currentFilm && <Button size=\"xl\" onClick={this.QRModal} style={{width:\"16%\", display: \"inline-block\"}} level=\"secondary\"><Icon24Qr/></Button>}\n              {this.props.currentFilm && this.props.authToken && new Date(this.props.currentFilm.date) < new Date() && <Button size=\"xl\" onClick={this.feedBackModal} style={{width:\"16%\", display: \"inline-block\", marginLeft:'1%'}} level=\"secondary\"><Icon24LogoLivejournal/></Button>}\n            </div>\n\n            <Group>\n              <Div style={{display: 'flex', justifyContent: 'space-between', flexDirection: 'row' }}>\n                {this.props.currentFilm && this.props.currentFilm.watch > 0 &&\n                  <InfoRow style={{display: 'inline-block', textAlign: 'center'}} title='Посмотрят'>\n                    <span style={{color: 'grey', fontWeight: 'bold', fontSize: 20}}>\n                      {this.props.currentFilm.watch}\n                    </span>\n                  </InfoRow>\n                }\n                {this.props.currentFilm && this.props.currentFilm.feedbacks &&\n                  <InfoRow style={{display: 'inline-block', textAlign: 'center'}} title='Отзывы'>\n                    <span style={{color: 'grey', fontWeight: 'bold', fontSize: 20}}>\n                      {this.props.currentFilm.feedbacks.length}\n                    </span>\n                  </InfoRow>\n                }\n              </Div>\n            </Group>\n            {this.props.currentFilm && this.props.currentFilm.tmdbFullData.genres.length !== 0 && <Genres to=\"genre\" go={this.props.go} data-to=\"genre\" genres={this.props.currentFilm.tmdbFullData.genres}/>}\n          </div>\n\n          <Group>\n            {this.props.currentFilm &&  !(this.props.currentFilm.date && new Date(this.props.currentFilm.date) > new Date()) && <Div><InfoRow title='Премьера'>{new Date(this.props.currentFilm.date).toLocaleString('ru', {year: 'numeric',month: 'long',day: 'numeric'})}</InfoRow></Div>}\n            {this.props.currentFilm && (this.props.currentFilm.tmdbFullData.budget > 0)   && <Div><InfoRow title='Общий бюджет'>{this.props.currentFilm.tmdbFullData.budget.toLocaleString('ru')}$</InfoRow></Div>}\n            {this.props.currentFilm && (this.props.currentFilm.tmdbFullData.revenue > 0)  && <Div><InfoRow title='Сборы'>{this.props.currentFilm.tmdbFullData.revenue.toLocaleString('ru')}$</InfoRow></Div>}\n          </Group>\n\n          {this.props.currentFilm && this.props.currentFilm.video && <Group title='Трейлер' style={{marginTop: '30px'}}>\n            <iframe width=\"100%\" height=\"204\" style={{margin:'auto'}} src={`https://www.youtube.com/embed/${this.props.currentFilm.video}`} frameBorder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowFullScreen/>\n          </Group>\n          }\n\n          {this.props.currentFilm && this.props.currentFilm.playlist &&\n            <Group title='Плейлист'>\n                <Div style={{position: 'relative'}}>\n                  <a style={{display: 'block', position: 'absolute', top: 0, width: '95%', height: '100%'}} href={`https://vk.com/audio?z=audio_playlist-${this.props.currentFilm.playlist.owner}_${this.props.currentFilm.playlist.playlist}/${this.props.currentFilm.playlist.hack}`}/>\n                  <VK>\n                    <Playlist style={{pointerEvents: 'none'}}\n                              ownerId={this.props.currentFilm.playlist.owner}\n                              playlistId={this.props.currentFilm.playlist.playlist}\n                              hash={this.props.currentFilm.playlist.hash}\n                    />\n                  </VK>\n                </Div>\n            </Group>\n          }\n\n\n          {this.props.currentFilm && this.props.currentFilm.feedbacks.length > 0 &&\n            <div>\n            <Group style={{marginTop: \"40px\"}}>\n               <Header level=\"2\">\n                 Отзывы\n               </Header>\n             </Group>\n            {this.props.currentFilm.feedbacks.map(item =>{\n              return <FeedBackCard token={this.props.authToken} key={item._id}{...item}/>\n            })}\n            </div>\n          }\n\n          { this.props.currentFilm && this.state.qr &&\n            <DivBottom title='Поделиться фильмом' onClose={this.QRModal}>\n            <Div>\n              <InfoRow><div style={{width: '256px', margin: 'auto', marginBottom: '10px'}} dangerouslySetInnerHTML={{__html: qr.createQR(`https://vk.com/app6977050#film_${this.props.currentFilm.tmdbId}`, 256, 'qr-code-class', true)}}/></InfoRow>\n              <div style={{width: '256px', margin: 'auto', textAlign: 'center', color: 'grey', marginBottom: '20px'}}>Ты можешь поделиться данной страницей со своими друзьями. При наведении на QR-код откроется данная страница</div>\n              <div style={{width: '90%', margin: 'auto', display: 'flex', flexDirection: 'column'}}>\n                <Button size=\"xl\" style={{width:\"100%\", marginBottom: '10px'}} level=\"primary\" onClick={() => { this.share(this.props.currentFilm.tmdbId, this.props.currentFilm.title) }}>Поделиться</Button>\n                <Button size=\"xl\" style={{width:\"100%\"}} component=\"a\" href=\"https://vk.com/wall-58810575_52712\" level=\"secondary\">Как сканировать?</Button>\n              </div>\n            </Div>\n            </DivBottom>\n          }\n\n          { this.props.currentFilm && this.state.feedBack &&\n            <DivBottom title='Написать отзыв' onClose={this.feedBackModal}>\n              <FeedBackForm filmid={this.props.currentFilm._id} close={this.feedBackModal} token={this.props.authToken}/>\n            </DivBottom>\n          }\n      </Panel>\n  )}\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {Panel, PanelHeader, HeaderButton, platform, IOS, Search, List, Cell, Spinner} from '@vkontakte/vkui';\n\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\nimport {CenteredDiv} from '../components/Exporter';\n\nconst osname = platform();\n\nclass Future extends React.Component {\n  constructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n      search: '',\n\t\t\tfutureList: [],\n\n\t\t};\n    this.onChange = this.onChange.bind(this);\n    this.searchRes = this.searchRes.bind(this);\n\t}\n\n  onChange (search) { this.setState({ search }); }\n\n  searchRes() {\n      const search = this.state.search.toLowerCase();\n      return this.state.futureList.filter(({title}) => title.toLowerCase().indexOf(search) > -1);\n    }\n\n  componentDidMount(){\n    fetch(`https://cinema.voloshinskii.ru/future/preview?limit=10000`)\n      .then(res => res.json())\n      .then(json => this.setState({ futureList: json }));\n  }\n\n\trender() {\n\t\treturn (\n      <Panel id={this.props.id}>\n    \t\t<PanelHeader\n    \t\t\tleft={<HeaderButton onClick={this.props.go} data-to=\"home\">\n    \t\t\t\t{osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\n    \t\t\t</HeaderButton>}\n    \t\t>\n    \t\t\tСкоро в кино\n    \t\t</PanelHeader>\n        <Search value={this.state.search} onChange={this.onChange}/>\n        {this.state.futureList.length == 0 && <Spinner size=\"large\" style={{marginTop: 30}}/>}\n        {this.state.futureList.length > 0 &&\n          <div>\n            {this.searchRes().length === 0 && <p style={{marginTop: '20px', textAlign: 'center', fontSize: 16, color: 'grey'}}>Поиск не дал результатов</p>}\n            <List>\n              {this.searchRes().map(item => <Cell data-fid={item.tmdbId} key={item.tmdbId} onClick={this.props.openFilm}>{item.title}</Cell>)}\n            </List>\n          </div>\n        }\n    \t</Panel>\n\t\t);\n\t}\n}\n\nexport default Future;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {Panel, PanelHeader, HeaderButton, platform, IOS, Search, List, Cell, Spinner} from '@vkontakte/vkui';\n\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\nimport {CenteredDiv} from '../components/Exporter';\n\nconst osname = platform();\n\nclass FuturePopular extends React.Component {\n  constructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n      search: '',\n\t\t\tfutureList: [],\n\n\t\t};\n    this.onChange = this.onChange.bind(this);\n    this.searchRes = this.searchRes.bind(this);\n\t}\n\n  onChange (search) { this.setState({ search }); }\n\n  searchRes() {\n      const search = this.state.search.toLowerCase();\n      return this.state.futureList.filter(({title}) => title.toLowerCase().indexOf(search) > -1);\n    }\n\n  componentDidMount(){\n    fetch(`https://cinema.voloshinskii.ru/future/popular?limit=10000`)\n      .then(res => res.json())\n      .then(json => this.setState({ futureList: json }));\n  }\n\n\trender() {\n\t\treturn (\n      <Panel id={this.props.id}>\n    \t\t<PanelHeader\n    \t\t\tleft={<HeaderButton onClick={this.props.go} data-to=\"home\">\n    \t\t\t\t{osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\n    \t\t\t</HeaderButton>}\n    \t\t>\n    \t\t\tОжидаемые\n    \t\t</PanelHeader>\n        <Search value={this.state.search} onChange={this.onChange}/>\n        {this.state.futureList.length == 0 && <Spinner size=\"large\" style={{marginTop: 30}}/>}\n        {this.state.futureList.length > 0 &&\n          <div>\n            {this.searchRes().length === 0 && <p style={{marginTop: '20px', textAlign: 'center', fontSize: 16, color: 'grey'}}>Поиск не дал результатов</p>}\n            <List>\n              {this.searchRes().map(item => <Cell data-fid={item.tmdbId} key={item.tmdbId} onClick={this.props.openFilm}>{item.title}</Cell>)}\n            </List>\n          </div>\n        }\n    \t</Panel>\n\t\t);\n\t}\n}\n\nexport default FuturePopular;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {Panel, PanelHeader, HeaderButton, platform, IOS, Search, List, Cell, Spinner} from '@vkontakte/vkui';\n\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\nimport {CenteredDiv} from '../components/Exporter';\n\nconst osname = platform();\n\nclass Active extends React.Component {\n  constructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n      search: '',\n\t\t\tactiveList: [],\n\n\t\t};\n    this.onChange = this.onChange.bind(this);\n    this.searchRes = this.searchRes.bind(this);\n\t}\n\n  onChange (search) {\n    if(this.state.activeList.length == 0){\n      fetch(`https://cinema.voloshinskii.ru/active/preview?limit=10000`)\n        .then(res => res.json())\n        .then(json => this.setState({ activeList: json }));\n    }\n    this.setState({ search });\n  }\n\n  searchRes() {\n      const search = this.state.search.toLowerCase();\n      return this.state.activeList.filter(({title}) => title.toLowerCase().indexOf(search) > -1);\n    }\n\n  componentDidMount(){\n    fetch(`https://cinema.voloshinskii.ru/active/preview?limit=10000`)\n      .then(res => res.json())\n      .then(json => this.setState({ activeList: json }));\n  }\n\n\trender() {\n\t\treturn (\n      <Panel id={this.props.id}>\n    \t\t<PanelHeader\n    \t\t\tleft={<HeaderButton onClick={this.props.go} data-to=\"home\">\n    \t\t\t\t{osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\n    \t\t\t</HeaderButton>}\n    \t\t>\n    \t\t\tСейчас в кино\n    \t\t</PanelHeader>\n        <Search value={this.state.search} onChange={this.onChange}/>\n        {this.state.activeList.length == 0 && <Spinner size=\"large\" style={{marginTop: 30}}/>}\n        {this.state.activeList.length > 0 &&\n          <div>\n            {this.searchRes().length === 0 && <p style={{marginTop: '20px', textAlign: 'center', fontSize: 16, color: 'grey'}}>Поиск не дал результатов</p>}\n            <List>\n              {this.searchRes().map(item => <Cell data-fid={item.tmdbId} key={item.tmdbId} onClick={this.props.openFilm}>{item.title}</Cell>)}\n            </List>\n          </div>\n        }\n    \t</Panel>\n\t\t);\n\t}\n}\n\nexport default Active;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {Panel, PanelHeader, HeaderButton, platform, IOS, Search, List, Cell, Spinner} from '@vkontakte/vkui';\nimport connect from '@vkontakte/vkui-connect';\n\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\n\nimport CenteredDiv from '../components/CenteredDiv';\nimport FilmListElem from '../components/FilmListElem';\n\nconst osname = platform();\n\nclass Featured extends React.Component {\n  constructor(props) {\n\t\tsuper(props);\n    this.state = {\n      list: [],\n      loaded: false\n    }\n\t}\n\n  componentDidMount(){\n\n    connect.subscribe((e) => {\n      switch (e.detail.type) {\n        case 'VKWebAppAccessTokenReceived':\n          this.setState({ tokenWithScope: e.detail.data, error: false });\n          fetch(`https://cinema.voloshinskii.ru/user/getwishlist?token=${e.detail.data.access_token}`)\n            .then(res => res.json())\n            .then(json => this.setState({ list: json.user && json.user.films, loaded: true }));\n          break;\n      }\n    });\n\n    if (this.props.token){\n      fetch(`https://cinema.voloshinskii.ru/user/getwishlist?token=${this.props.token}`)\n        .then(res => res.json())\n        .then(json => this.setState({ list: json.user && json.user.films, loaded: true }));\n    }\n    else{\n      this.setState({error: true});\n      connect.send(\"VKWebAppGetAuthToken\", {\"app_id\": 6977050, \"scope\": \"\"});\n    }\n  }\n\n\n\trender() {\n\t\treturn (\n      <Panel theme=\"white\" id={this.props.id}>\n    \t\t<PanelHeader>\n    \t\t\tМой список\n    \t\t</PanelHeader>\n        {this.state.error && <CenteredDiv>Для работы приложению необходимо иметь доступ к Вашему профилю</CenteredDiv>}\n        {!this.state.error && !this.state.loaded && <Spinner size=\"large\" style={{marginTop: 30}}/>}\n        {!this.state.error && this.state.loaded && this.state.list.length === 0 &&\n          <CenteredDiv style={{marginTop: '20px'}}>В Вашем списке пока что нет ни одного фильма</CenteredDiv>\n        }\n        {this.state.list && this.state.list.length > 0 && <div style={{paddingTop: '10px'}}>{this.state.list.map(item =>{\n          return <FilmListElem datafid={item.tmdbId} data-fid={item.tmdbId} onClick={this.props.openFilm} key={item._id} title={item.title} image={item.image}/>\n        })}</div>}\n    \t</Panel>\n\t\t);\n\t}\n}\n\nexport default Featured;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {Panel, PanelHeader, HeaderButton, platform, IOS, Spinner, Button, Group, Div, List, Cell, Switch} from '@vkontakte/vkui';\nimport connect from '@vkontakte/vkui-connect';\nimport connectPromise from '@vkontakte/vkui-connect-promise';\n\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\n\nconst osname = platform();\n\nclass Settings extends React.Component {\n  constructor(props) {\n\t\tsuper(props);\n    this.state = {\n      loaded: false\n    }\n    this._isMounted = false;\n    this.subscribe = this.subscribe.bind(this);\n\t}\n\n  componentDidMount() {\n    this._isMounted = true;\n\n    if (!this.props.token){\n      connectPromise.send(\"VKWebAppGetAuthToken\", {\"app_id\": 6977050, \"scope\": \"\"}).then(data => {\n        console.log(data);\n        this.setState({ tokenWithScope: data.data, error: false });\n        this.props.token = data.data.access_token;\n      });\n    }\n\n    else{\n      connect.send(\"VKWebAppCallAPIMethod\", {\"method\": \"apps.isNotificationsAllowed\", \"params\": {\"v\":\"5.95\", \"access_token\":this.props.token}});\n    }\n\n    connect.subscribe((e) => {\n      switch (e.detail.type) {\n\n        case 'VKWebAppCallAPIMethodResult':\n          this._isMounted && this.setState({notifications: e.detail.data.response.is_allowed})\n          break;\n\n        case 'VKWebAppAllowNotificationsResult':\n          if(e.detail.data.result){\n            connect.send(\"VKWebAppTapticNotificationOccurred\", {\"type\": \"success\"});\n            fetch(`https://cinema.voloshinskii.ru/user/subscribe?token=${this.props.token}`)\n            this._isMounted && this.setState({notifications: true});\n          }\n            break;\n\n        case 'VKWebAppDenyNotificationsResult':\n          fetch(`https://cinema.voloshinskii.ru/user/unsubscribe?token=${this.props.token}`)\n          this._isMounted && this.setState({notifications: false});\n          break;\n      }\n    });\n  }\n\n  componentWillUnmount(){\n    this._isMounted = false;\n  }\n\n  subscribe(event){\n    connect.send(\"VKWebAppTapticImpactOccurred\", {\"style\": \"heavy\"});\n    if(!this.state.notifications){\n      connect.send(\"VKWebAppAllowNotifications\", {});\n\n    }\n    else{\n      connect.send(\"VKWebAppDenyNotifications\", {});\n      connect.send(\"VKWebAppTapticNotificationOccurred\", {\"type\": \"success\"});\n    }\n  }\n\n\trender() {\n\t\treturn (\n      <Panel theme=\"white\" id={this.props.id}>\n    \t\t<PanelHeader\n    \t\t>\n    \t\t\tНастройки\n    \t\t</PanelHeader>\n\n        <Group title=\"Настройки профиля\">\n        <List>\n        {this.state.notifications !== null &&\n          <Cell multiline={true} description={this.state.notifications ? \"Молодец, так держать! Теперь ты будешь в курсе всех интересующих тебя новинок 😎\" : \"Включи, чтобы мы могли отправлять тебе уведомления о вышедших фильмах из твоего списка\"} asideContent={<Switch checked={this.state.notifications} defaultChecked={this.state.notifications} onClick={this.subscribe}/>}>\n            Уведомления\n          </Cell>\n        }\n        </List>\n        </Group>\n        <p style={{color: 'grey', textAlign: 'center'}}>Номер сборки: 1.1.1-3</p>\n        <p style={{color: 'grey', textAlign: 'center'}}>Данные о фильмах взяты с помощью API TMDb</p>\n    \t</Panel>\n\t\t);\n\t}\n}\n\nexport default Settings;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {Panel, PanelHeader, HeaderButton, platform, IOS, Search, List, Cell, Spinner} from '@vkontakte/vkui';\n\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\nimport {CenteredDiv} from '../components/Exporter';\n\nconst osname = platform();\n\nclass Genre extends React.Component {\n  constructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n      search: '',\n\t\t\tfutureList: [],\n\n\t\t};\n    this.onChange = this.onChange.bind(this);\n    this.searchRes = this.searchRes.bind(this);\n\t}\n\n  onChange (search) {\n    if(this.state.futureList.length == 0){\n      fetch(`https://cinema.voloshinskii.ru/search/genre/${this.props.search}`)\n        .then(res => res.json())\n        .then(json => this.setState({ futureList: json }));\n    }\n    this.setState({ search });\n  }\n\n  searchRes() {\n      const search = this.state.search.toLowerCase();\n      return this.state.futureList.filter(({title}) => title.toLowerCase().indexOf(search) > -1);\n    }\n\n  componentDidMount(){\n    fetch(`https://cinema.voloshinskii.ru/search/genre/${this.props.search}`)\n      .then(res => res.json())\n      .then(json => this.setState({ futureList: json }));\n  }\n\n\trender() {\n\t\treturn (\n      <Panel id={this.props.id}>\n    \t\t<PanelHeader\n    \t\t\tleft={<HeaderButton onClick={this.props.go} data-to=\"home\">\n    \t\t\t\t{osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\n    \t\t\t</HeaderButton>}\n    \t\t>\n    \t\t\tПоиск по жанру\n    \t\t</PanelHeader>\n        <Search value={this.state.search} onChange={this.onChange}/>\n        {this.state.futureList.length == 0 && <Spinner size=\"large\" style={{marginTop: 30}}/>}\n        {this.state.futureList.length > 0 &&\n          <div>\n            {this.searchRes().length === 0 && <p style={{marginTop: '20px', textAlign: 'center', fontSize: 16, color: 'grey'}}>Поиск не дал результатов</p>}\n            <List>\n              {this.searchRes().map(item => <Cell data-fid={item.tmdbId} key={item.tmdbId} onClick={this.props.openFilm}>{item.title}</Cell>)}\n            </List>\n          </div>\n        }\n    \t</Panel>\n\t\t);\n\t}\n}\n\nexport default Genre;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {Panel, PanelHeader, HeaderButton, platform, IOS, Search, List, Cell, Spinner} from '@vkontakte/vkui';\nimport connect from '@vkontakte/vkui-connect';\n\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\n\nimport CenteredDiv from '../components/CenteredDiv';\nimport FilmListElem from '../components/FilmListElem';\n\nconst osname = platform();\n\nclass Collection extends React.Component {\n  constructor(props) {\n\t\tsuper(props);\n    this.state = {\n      list: [],\n      loaded: false,\n      title: \"Загрузка...\"\n    }\n\t}\n\n  componentDidMount(){\n\n    fetch(`https://cinema.voloshinskii.ru/collection/getInfo/${this.props.cid}`)\n      .then(res => res.json())\n      .then(json => this.setState({ title: json.title, list: json.films, loaded: true }));\n\n  }\n\n\n\trender() {\n\t\treturn (\n      <Panel theme=\"white\" id={this.props.id}>\n\n        <PanelHeader\n          left={<HeaderButton onClick={this.props.go} data-to=\"home\">\n            {osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\n          </HeaderButton>}\n        >\n    \t\t\tКоллекция\n    \t\t</PanelHeader>\n        {!this.state.error && !this.state.loaded && <Spinner size=\"large\" style={{marginTop: 30}}/>}\n        {this.state.list && this.state.list.length > 0 && <div style={{paddingTop: '10px'}}>{this.state.list.map(item =>{\n          return <FilmListElem datafid={item.tmdbId} data-fid={item.tmdbId} onClick={this.props.openFilm} key={item._id} title={item.title} image={item.image}/>\n        })}</div>}\n    \t</Panel>\n\t\t);\n\t}\n}\n\nexport default Collection;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {Panel, PanelHeader, HeaderButton, platform, IOS, Search, List, Cell, Spinner} from '@vkontakte/vkui';\n\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\nimport {CenteredDiv} from '../components/Exporter';\nconst osname = platform();\n\nclass Collections extends React.Component {\n  constructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n      search: '',\n\t\t\tfutureList: [],\n\n\t\t};\n    this.onChange = this.onChange.bind(this);\n    this.searchRes = this.searchRes.bind(this);\n\t}\n\n  onChange (search) {\n    if(this.state.futureList.length == 0){\n      fetch(`https://cinema.voloshinskii.ru/collection/getList`)\n        .then(res => res.json())\n        .then(json => this.setState({ futureList: json }));\n    }\n    this.setState({ search });\n  }\n\n  searchRes() {\n      const search = this.state.search.toLowerCase();\n      return this.state.futureList.filter(({title}) => title.toLowerCase().indexOf(search) > -1);\n    }\n\n  componentDidMount(){\n    fetch(`https://cinema.voloshinskii.ru/collection/getList`)\n      .then(res => res.json())\n      .then(json => this.setState({ futureList: json }));\n  }\n\n\trender() {\n\t\treturn (\n      <Panel id={this.props.id}>\n    \t\t<PanelHeader\n    \t\t\tleft={<HeaderButton onClick={this.props.go} data-to=\"home\">\n    \t\t\t\t{osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\n    \t\t\t</HeaderButton>}\n    \t\t>\n    \t\t\tКоллекции\n    \t\t</PanelHeader>\n        <Search value={this.state.search} onChange={this.onChange}/>\n        {this.state.futureList.length == 0 && <Spinner size=\"large\" style={{marginTop: 30}}/>}\n        {this.state.futureList.length > 0 &&\n          <div>\n            {this.searchRes().length === 0 && <p style={{marginTop: '20px', textAlign: 'center', fontSize: 16, color: 'grey'}}>Поиск не дал результатов</p>}\n            <List>\n              {this.searchRes().map(item => <Cell data-to=\"collection\" data-data={item._id} key={item._id} onClick={this.props.go}>{item.title}</Cell>)}\n            </List>\n          </div>\n        }\n    \t</Panel>\n\t\t);\n\t}\n}\n\nexport default Collections;\n","import React from 'react';\nimport connect from '@vkontakte/vkui-connect';\nimport { View, Epic, Tabbar, TabbarItem, ConfigProvider, Button } from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport Icon28Favorite from '@vkontakte/icons/dist/28/favorite';\nimport Icon24Home from '@vkontakte/icons/dist/24/home';\nimport Icon28Settings from '@vkontakte/icons/dist/28/settings';\nimport HashChange from \"react-hashchange\";\n\nimport Home from './panels/Home';\nimport Popular from './panels/Popular';\nimport Film from './panels/Film';\nimport Future from './panels/Future';\nimport FuturePopular from './panels/FuturePopular';\nimport Active from './panels/Active';\nimport Featured from './panels/Featured';\nimport Settings from './panels/Settings';\nimport Genre from './panels/Genre';\nimport Collection from './panels/Collection';\nimport Collections from './panels/Collections';\n\nimport CenteredDiv from './components/CenteredDiv';\n\nclass App extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tactivePanel: 'home',\n\t\t\tactivePreview: null,\n\t\t\tfuturePreview: null,\n\t\t\tcurrentFilm: null,\n\t\t\tloading: true,\n\t\t\tauthToken: null,\n\t\t\ttokenWithScope: null,\n\t\t\tloaded: false,\n\t\t\tcollections: null,\n\t\t\thistoryv: ['home'],\n\t\t\tsearch: null,\n\t\t\tfilmhistory: [],\n\t\t\tadditionalData: null,\n\t\t};\n\t}\n\n\tcomponentDidCatch(error, info) {\n    this.setState({ hasError: true });\n  }\n\n\tcomponentDidUpdate(){\n\t\twindow.onpopstate  = (e) => {\n\t\t\tif(this.state.historyv !== ['home']){\n\t\t\t\te.preventDefault();\n\t\t\t\tthis.goBack();\n\t\t\t}\n\t\t }\n\t}\n\n\tcomponentDidMount() {\n\t\tconnect.send('VKWebAppEnableSwipeBack');\n\n\t\tconnect.subscribe((e) => {\n\t\t\tswitch (e.detail.type) {\n\n\t\t\t\tcase 'VKWebAppGetUserInfoResult':\n\t\t\t\t\tthis.setState({ user: e.detail.data});\n\t\t\t\t\tvar hash = window.location.href.split('#');\n\n\t\t\t\t\tfetch(`https://cinema.voloshinskii.ru/user/active?id=${e.detail.data.id}`)\n\t\t\t\t\t\t.then(res => res.json())\n\t\t\t\t\t\t.then(json => {\n\t\t\t\t\t\t\tif(json.result){\n\t\t\t\t\t\t\t\tconnect.send(\"VKWebAppGetAuthToken\", {\"app_id\": 6977050, \"scope\": \"\"});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\tif(hash[1] && hash[1].split('_')[0] === 'film' && this.state.loaded === false){\n\n\t\t\t\t\t\tfetch(`https://cinema.voloshinskii.ru/film/gettmdb/${hash[1].split('_')[1]}?id=${this.state.user.id}`)\n\t\t\t\t\t\t\t.then(res => res.json())\n\t\t\t\t\t\t\t.then(json => this.setState({ currentFilm: json }));\n\n\t\t\t\t\t\tconst filmhistory = [...this.state.filmhistory];\n\t\t\t\t\t\tfilmhistory.push(hash[1].split('_')[1]);\n\n\t\t\t\t\t\tthis.setState({ filmhistory, historyv: ['home', 'film'], loaded: true, activePanel: 'film', filmid: hash[1].split('_')[1]})\n\t\t\t\t\t\tconnect.send(\"VKWebAppSetLocation\", {\"location\": \"home\"});\n\t\t\t\t\t}\n\n\t\t\t\t\telse if(hash[1] && hash[1].split('_')[0] === 'collection' && this.state.loaded === false){\n\t\t\t\t\t\tthis.setState({ historyv: ['home', 'collection'], loaded: true, activePanel: 'collection', additionalData: hash[1].split('_')[1]})\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'VKWebAppAccessTokenReceived':\n\t\t\t\t\tfetch(`https://cinema.voloshinskii.ru/user/createUser?token=${e.detail.data.access_token}`);\n\t\t\t\t\tthis.setState({ authToken: e.detail.data.access_token, tokenWithScope: e.detail.data});\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\t\t});\n\n\t\tconnect.send(\"VKWebAppGetUserInfo\", {});\n\n\t\tfetch(`https://cinema.voloshinskii.ru/active/preview`)\n      .then(res => res.json())\n      .then(json => this.setState({ activePreview: json }));\n\n\t\tfetch(`https://cinema.voloshinskii.ru/future/preview`)\n\t    .then(res => res.json())\n\t    .then(json => this.setState({ futurePreview: json }));\n\n\t\tfetch(`https://cinema.voloshinskii.ru/active/popular`)\n\t\t\t.then(res => res.json())\n\t\t\t.then(json => this.setState({ activePopular: json }));\n\n\t\tfetch(`https://cinema.voloshinskii.ru/future/popular`)\n\t\t\t.then(res => res.json())\n\t\t\t.then(json => this.setState({ futurePopular: json }));\n\n\t\tfetch(`https://cinema.voloshinskii.ru/collection/getList`)\n\t\t\t.then(res => res.json())\n\t\t\t.then(json => this.setState({ collections: json }));\n\t}\n\n\tgoBack = () => {\n    const historyv = [...this.state.historyv];\n\n\t\tconst from = this.state.activePanel;\n\t\tif (from === 'film'){\n\t\t\tvar filmhistory = [...this.state.filmhistory];\n\t\t\tfilmhistory.pop();\n\t\t\tthis.setState({ filmhistory: filmhistory, currentFilm: null })\n\t\t}\n\n    historyv.pop();\n\n    const activePanel = historyv[historyv.length - 1];\n    if (['home', 'featured', 'settings'].includes(activePanel)) {\n      connect.send('VKWebAppDisableSwipeBack');\n\t\t\tthis.setState({ historyv, activePanel });\n    }\n\t\telse if (activePanel === 'film'){\n\t\t\tconst filmhistory = [...this.state.filmhistory];\n\t\t\tfetch(`https://cinema.voloshinskii.ru/film/gettmdb/${filmhistory.slice(-1)[0]}?id=${this.state.user.id}`)\n\t\t\t\t.then(res => res.json())\n\t\t\t\t.then(json => this.setState({ historyv, activePanel, currentFilm: json }));\n\t\t}\n\t\telse{\n\t\t\tthis.setState({ historyv, activePanel });\n\t\t}\n  }\n\n\tgo = (e) => {\n\t\tif(e)\n\t\tif(e.currentTarget.dataset.to === 'home'){\n\t\t\tthis.goBack();\n\t\t}\n\t\telse{\n\t\t\twindow.history.pushState({lol: 1}, \"lol 1\");\n\t\t\tconst historyv = [...this.state.historyv];\n\t    historyv.push(e.currentTarget.dataset.to);\n\n\t    if (this.state.activePanel === 'home') connect.send('VKWebAppEnableSwipeBack');\n\n\t    this.setState({ historyv, currentFilm: null, activePanel: e.currentTarget.dataset.to, search: e.currentTarget.dataset.search});\n\t\t\tif(e.currentTarget.dataset.data) this.setState({additionalData: e.currentTarget.dataset.data});\n\t\t\tconnect.send(\"VKWebAppSetLocation\", {\"location\": e.currentTarget.dataset.to});\n\t\t}\n\t};\n\n\tonStoryChange = (e) => {\n\t var historyv = [...this.state.historyv];\n\t historyv[0] = e.currentTarget.dataset.story;\n\t this.setState({ historyv, activePanel: e.currentTarget.dataset.story })\n }\n\n\topenFilm = (e) => {\n\t\twindow.history.pushState({lol: 1}, \"lol 1\");\n\t\tconst historyv = [...this.state.historyv];\n    historyv.push('film');\n\t\tconnect.send('VKWebAppDisableSwipeBack');\n\t\tconst filmhistory = [...this.state.filmhistory];\n\t\tfilmhistory.push(e.currentTarget.dataset.fid);\n\n\t\tthis.setState({ filmhistory, historyv, activePanel: 'film', filmid: e.currentTarget.dataset.fid});\n\n\t\tfetch(`https://cinema.voloshinskii.ru/film/gettmdb/${e.currentTarget.dataset.fid}?id=${this.state.user.id}`)\n\t\t\t.then(res => res.json())\n\t\t\t.then(json => this.setState({ currentFilm: json }));\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<ConfigProvider isWebView={true}>\n\t\t\t{this.state.hasError && <CenteredDiv><span style={{paddingBottom: '20px'}}>Нам неприятно это осознавать, но что-то вызвало непредвиденную ошибку в работе приложения :(</span><Button onClick={() => window.location.reload()} size=\"xl\" style={{width:\"90%\", margin: \"auto\"}} level=\"secondary\">Перезагрузить сервис</Button></CenteredDiv>}\n\t\t\t{!this.state.hasError &&\n\t\t\t <Epic activeStory={this.state.activePanel} tabbar={\n\t        ['home', 'featured', 'settings'].includes(this.state.activePanel) && <Tabbar>\n\t          <TabbarItem\n\t            onClick={this.onStoryChange}\n\t            selected={this.state.activePanel === 'home'}\n\t            data-story=\"home\"\n\t            text=\"Главная\"\n\t          ><Icon24Home/></TabbarItem>\n\t\t\t\t\t\t<TabbarItem\n\t            onClick={this.onStoryChange}\n\t            selected={this.state.activePanel === 'featured'}\n\t            data-story=\"featured\"\n\t            text=\"Список\"\n\t          ><Icon28Favorite/></TabbarItem>\n\t\t\t\t\t\t<TabbarItem\n\t\t\t\t\t\t\tonClick={this.onStoryChange}\n\t\t\t\t\t\t\tselected={this.state.activePanel === 'settings'}\n\t\t\t\t\t\t\tdata-story=\"settings\"\n\t\t\t\t\t\t\ttext=\"Настройки\"\n\t\t\t\t\t\t><Icon28Settings/></TabbarItem>\n\t        </Tabbar>\n\t      }>\n\n\t\t\t\t\t<View id=\"featured\" activePanel=\"featured\">\n\t\t\t\t\t\t<Featured openFilm={this.openFilm} token={this.state.authToken} id=\"featured\" go={this.go} />\n\t\t\t\t\t</View>\n\t\t\t\t\t<View id=\"settings\" activePanel=\"settings\">\n\t\t\t\t\t\t<Settings token={this.state.authToken} id=\"settings\" go={this.go} />\n\t\t\t\t\t</View>\n\t\t\t\t\t<View id={this.state.activePanel} activePanel={this.state.activePanel} onSwipeBack={this.state.activePanel !== 'film' && this.goBack} history={this.state.historyv}>\n\t\t\t\t\t\t<Home collections={this.state.collections} id=\"home\" activePreview={this.state.activePreview} activePopular={this.state.activePopular} futurePopular={this.state.futurePopular} futurePreview={this.state.futurePreview} go={this.go} openFilm={this.openFilm} setid={this.setid} />\n\t\t\t\t\t\t<Featured openFilm={this.openFilm} token={this.state.authToken} id=\"featured\" go={this.go} />\n\t\t\t\t\t\t<Popular openFilm={this.openFilm} token={this.state.tokenWithScope} updateToken={this.updateToken} id=\"popular\" go={this.go} />\n\t\t\t\t\t\t<Future id=\"future\" go={this.go} openFilm={this.openFilm} />\n\t\t\t\t\t\t<FuturePopular id=\"futurepopular\" go={this.go} openFilm={this.openFilm} />\n\t\t\t\t\t\t<Active id=\"active\" go={this.go} openFilm={this.openFilm} />\n\t\t\t\t\t\t<Collections id=\"collections\" go={this.go}/>\n\t\t\t\t\t\t<Collection id=\"collection\" cid={this.state.additionalData} go={this.go} openFilm={this.openFilm} />\n\t\t\t\t\t\t<Film filmid={this.state.filmid} authToken={this.state.authToken} currentFilm={this.state.currentFilm} id=\"film\" go={this.go} />\n\t\t\t\t\t\t<Genre id=\"genre\" search={this.state.search} go={this.go} openFilm={this.openFilm} />\n\t\t\t\t\t</View>\n\t\t\t\t</Epic>}\n\t\t\t</ConfigProvider>\n\t\t);\n\t}\n}\n\nexport default App;\n","import { createBrowserHistory } from 'history';\n\nexport default createBrowserHistory();\n","import 'core-js/es6/map';\nimport 'core-js/es6/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vkui-connect';\nimport App from './App';\nimport { Router, Route } from 'react-router-dom';\nimport history from './history';\n// import registerServiceWorker from './sw';\n\n// Init VK App\nconnect.send('VKWebAppInit', {});\n\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT\n// registerServiceWorker();\nReactDOM.render(<App/>, document.getElementById('root'));\n"],"sourceRoot":""}