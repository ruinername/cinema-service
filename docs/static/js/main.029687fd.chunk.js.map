{"version":3,"sources":["img/banner-1.png","components/RatingSpan.js","panels/Home.js","components/CenteredDiv.js","components/FilmListElem.js","panels/Popular.js","constants.js","components/ClickImage.js","components/CustomTruncate.js","components/DivBottom.js","components/Forms.js","components/FeedBackCard.js","panels/Film.js","panels/Future.js","panels/Active.js","panels/Featured.js","panels/Settings.js","App.js","history.js","index.js"],"names":["module","exports","__webpack_require__","p","RatingSpan","react_default","a","createElement","style","padding","borderRadius","backgroundColor","position","right","top","fontWeight","fontSize","this","props","rating","React","Component","itemStyle","flexShrink","width","height","flexDirection","alignItems","paddingLeft","imgStyle","nameStyle","marginTop","marginBottom","overflow","display","WebkitLineClamp","WebkitBoxOrient","Home","_ref","id","openFilm","activePreview","go","futurePreview","setid","vkui","slideWidth","marginLeft","marginRight","bullets","autoplay","onClick","data-to","src","banner1","paddingBottom","level","aside","map","item","i","data-fid","tmdbId","key","Object","objectSpread","tmdbFullData","vote_average","RatingSpan_RatingSpan","image","size","title","CenteredDiv","left","transform","color","textAlign","children","FilmListElem","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","n","text_forms","n1","Math","abs","datafid","gridGap","gridTemplateColumns","verticalAlign","popularCount","s","osname","platform","Popular","_this","state","error","response","_this2","connect","subscribe","e","detail","type","setState","tokenWithScope","data","send","method","params","v","access_token","loaded","friends","fetch","headers","Accept","Content-Type","body","JSON","stringify","then","res","json","values","result","token","scope","search","app_id","console","log","_this3","theme","IOS","chevron_back_default","back_default","CenteredDiv_CenteredDiv","length","share","margin","paddingTop","FilmListElem_FilmListElem","count","_id","settings","image_url","server_url","ClickImage","back","filter","front","bottom","boxShadow","zIndex","CustomTruncate","expanded","expand","bind","assertThisInitialized","lib_default","line","truncateText","text","textTruncateChild","DivBottom","background","clear_default","onClose","borderBottom","FeedBackForm","_React$Component","rate","anon","submit","onChange","anonF","changeRate","inherits","createClass","value","_e$currentTarget","currentTarget","name","defineProperty","val","filmId","filmid","close","placeholder","min","max","concat","step","FeedBackCard","renderPreparedUser","renderUser","user","fields","user_ids","vkId","rateList","description","before","user_default","first_name","last_name","photo_50","href","Film","qr","feedBack","watch","QRModal","feedBackModal","location","currentFilm","authToken","going","message","ClickImage_ClickImage","backdrop_path","runtime","float","overview","CustomTruncate_CustomTruncate","justifyContent","qr_default","Date","date","logo_livejournal_default","feedbacks","video","frameBorder","allow","allowFullScreen","release_date","toLocaleString","year","month","day","budget","revenue","playlist","react_vk_umd_production_min_default","react_vk_umd_production_min","ownerId","owner","playlistId","hash","indicator","FeedBackCard_FeedBackCard","assign","DivBottom_DivBottom","dangerouslySetInnerHTML","__html","createQR","component","Forms_FeedBackForm","Future","futureList","searchRes","toLowerCase","indexOf","Active","activeList","Featured","list","films","Settings","notifications","is_allowed","event","multiline","asideContent","defaultChecked","App","createBrowserHistory","goBack","historyv","toConsumableArray","pop","activePanel","dataset","to","push","onStoryChange","story","updateToken","fid","window","split","activeStory","tabbar","includes","selected","data-story","home_default","favorite_default","settings_default","panels_Featured","panels_Settings","Film_Film","onSwipeBack","history","panels_Home","panels_Future","panels_Active","panels_Popular","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.029687fd.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/banner-1.be3b55c6.png\";","import React from 'react';\r\n\r\nexport default class RatingSpan extends React.Component{\r\n  render(){\r\n    return(\r\n      <span style={{\r\n        padding: '2px 10px',\r\n        borderRadius: 15,\r\n        backgroundColor: 'white',\r\n        position: 'absolute',\r\n        right: '20%',\r\n        top: '2%',\r\n        fontWeight: 'bold',\r\n        fontSize: 14\r\n      }}>\r\n        {this.props.rating}\r\n      </span>\r\n  )}\r\n\r\n}\r\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Panel, ListItem, Button, Group, Div, PanelHeader, Header, Link, HorizontalScroll, Avatar, Gallery } from '@vkontakte/vkui';\nimport banner1 from '../img/banner-1.png';\nimport RatingSpan from '../components/RatingSpan';\n\n\nconst itemStyle = {\n\tflexShrink: 0,\n\twidth: 130,\n\theight: 'auto',\n\tflexDirection:\n\t'column',\n\talignItems: 'center',\n\tfontSize: 16,\n\tpaddingLeft: 4\n};\n\nconst imgStyle = {\n\twidth: 110,\n\theight: 150,\n\tborderRadius: 15\n};\n\nconst nameStyle = {\n\twidth: 100,\n\tmarginTop: 0,\n\tmarginBottom: 0,\n\tpadding: 3,\n\toverflow: 'hidden',\n\tdisplay: '-webkit-box',\n\tWebkitLineClamp: 2,\n\tWebkitBoxOrient: 'vertical'\n};\n\nconst genre = {\n\tcolor: \"grey\",\n\tfontSize: 14,\n};\n\nconst Home = ({id, openFilm, activePreview, go, futurePreview, setid }) => (\n\n\n\t<Panel id={id}>\n\t\t<PanelHeader>–ì–ª–∞–≤–Ω–∞—è</PanelHeader>\n    <Gallery\n      slideWidth=\"100%\"\n      style={{ height: 150, borderRadius: 10, marginLeft: 15, marginRight: 15, marginTop: 15, marginBottom: 15 }}\n      bullets=\"dark\"\n\t\t\tautoplay={3000}\n    >\n\t\t<Link onClick={go} data-to=\"popular\"><img style={{height: 150, width:'100%'}} src={banner1}/></Link>\n    </Gallery>\n\t\t<Group style={{ paddingBottom: 8 }}>\n\t\t\t\t<Header level=\"2\" aside={<Link data-to='active' onClick={go}>–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ</Link>}>\n\t\t\t\t\t\t–°–µ–π—á–∞—Å –≤ –∫–∏–Ω–æ\n\t\t\t\t</Header>\n        <HorizontalScroll>\n          <div style={{ display: 'flex' }}>\n\t\t\t\t\t\t{\tactivePreview &&\n\t\t\t\t\t\t\tactivePreview.map(function(item, i){\n\t\t\t\t\t\t\t\treturn <Link onClick={openFilm} data-fid={item.tmdbId} data-to=\"film\" key={i} style={{ ...itemStyle }}>\n\t\t\t\t\t\t\t\t\t<div style={{position: 'relative'}}>\n\t\t\t\t\t\t\t\t\t\t{item.tmdbFullData.vote_average && <RatingSpan rating={item.tmdbFullData.vote_average}/>}\n\t\t\t              <img src={item.image} size={64} style={{...imgStyle, marginBottom: 8 }}></img>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{/*<p style={{...nameStyle, ...genre}}>{item.genre}</p>*/}\n\t\t\t\t\t\t\t\t\t<p style={nameStyle}>{item.title}</p>\n\t\t            </Link>\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n          </div>\n        </HorizontalScroll>\n      </Group>\n\t\t\t<Group style={{ paddingBottom: 8 }}>\n\t\t\t\t\t<Header level=\"2\" aside={<Link data-to='future' onClick={go}>–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ</Link>}>\n\t\t\t\t\t\t\t–°–∫–æ—Ä–æ –≤ –∫–∏–Ω–æ\n\t\t\t\t\t</Header>\n\t\t\t\t\t<HorizontalScroll>\n\t\t\t\t\t\t<div style={{ display: 'flex' }}>\n\t\t\t\t\t\t{\tfuturePreview &&\n\t\t\t\t\t\t\tfuturePreview.map(function(item, i){\n\t\t\t\t\t\t\t\treturn <Link onClick={openFilm} data-fid={item.tmdbId} data-to=\"film\" key={i} style={{ ...itemStyle }}>\n\t\t\t\t\t\t\t\t\t<div style={{display: 'relative'}}>\n\t\t\t\t\t\t\t\t\t\t<img src={item.image} size={64} style={{...imgStyle, marginBottom: 8 }}></img>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{/*<p style={{...nameStyle, ...genre}}>{item.genre}</p>*/}\n\t\t\t\t\t\t\t\t\t<p style={nameStyle}>{item.title}</p>\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</HorizontalScroll>\n\t\t\t\t</Group>\n\n\t</Panel>\n);\n\nexport default Home;\n","import React from 'react';\r\nimport TextTruncate from 'react-text-truncate';\r\n\r\nexport default class CenteredDiv extends React.Component{\r\n\r\n  render(){\r\n    return(\r\n      <div style={{\r\n        position: 'fixed',\r\n        top: \"50%\",\r\n        left: \"50%\",\r\n        transform: \"translate(-50%, -50%)\",\r\n        color: \"#656565\",\r\n        textAlign: \"center\"\r\n      }}>\r\n        {this.props.children}\r\n      </div>\r\n  )}\r\n\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default class FilmListElem extends React.Component{\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  s(n, text_forms){\r\n    n = Math.abs(n) % 100; var n1 = n % 10;\r\n    if (n > 10 && n < 20) { return text_forms[2]; }\r\n    if (n1 > 1 && n1 < 5) { return text_forms[1]; }\r\n    if (n1 == 1) { return text_forms[0]; }\r\n    return text_forms[2];\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <div data-fid={this.props.datafid} onClick={this.props.onClick} style={{padding: '10px', gridGap: \"20px\", display: 'grid', gridTemplateColumns: '23% 60%'}}>\r\n        <img style={{width:\"100%\", marginRight: 10, verticalAlign: 'top', borderRadius: 10}} src={this.props.image}/>\r\n        <div>\r\n          <div style={{verticalAlign: 'top', fontWeight: 'bold', fontSize: 16}}>\r\n            {this.props.title}\r\n          </div>\r\n          {this.props.popularCount &&\r\n            <div style={{fontSize: 14, color: 'grey'}}>{this.props.popularCount} {this.s(this.props.popularCount, ['–¥—Ä—É–≥ —Ö–æ—á–µ—Ç', '–¥—Ä—É–≥–∞ —Ö–æ—Ç—è—Ç', '–¥—Ä—É–∑–µ–π —Ö–æ—Ç—è—Ç'])} –ø–æ–π—Ç–∏ –Ω–∞ —ç—Ç–æ—Ç —Ñ–∏–ª—å–º</div>\r\n          }\r\n        </div>\r\n      </div>\r\n  )}\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Panel, PanelHeader, HeaderButton, platform, IOS, Spinner, Button} from '@vkontakte/vkui';\r\nimport connect from '@vkontakte/vkui-connect';\r\n\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\n\r\nimport CenteredDiv from '../components/CenteredDiv';\r\nimport FilmListElem from '../components/FilmListElem';\r\n\r\nconst osname = platform();\r\n\r\nclass Popular extends React.Component {\r\n  constructor(props) {\r\n\t\tsuper(props);\r\n    this.state = {\r\n      error: false,\r\n      response: [],\r\n    }\r\n\t}\r\n\r\n  componentDidMount() {\r\n\r\n    connect.subscribe((e) => {\r\n      switch (e.detail.type) {\r\n        case 'VKWebAppAccessTokenReceived':\r\n          this.setState({ tokenWithScope: e.detail.data, error: false });\r\n          connect.send(\"VKWebAppCallAPIMethod\", {\"method\": \"friends.getAppUsers\", \"params\": {\"v\": 5.95, \"access_token\":e.detail.data.access_token}});\r\n          break;\r\n\r\n        case 'VKWebAppCallAPIMethodResult':\r\n          if(this.state.loaded) break;\r\n          var friends = e.detail.data.response;\r\n          fetch('https://cinema.voloshinskii.ru/popular/friends', {\r\n            method: 'POST',\r\n            headers: {\r\n              'Accept': 'application/json',\r\n              'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({friends: friends})\r\n          }).then(res => res.json())\r\n            .then(json => this.setState({ response: Object.values(json.result), loaded: true }))\r\n          break;\r\n\r\n      }\r\n    });\r\n\r\n    if (!this.props.token || this.props.token.scope.search(\"friends\") === -1){\r\n      this.setState({error: true})\r\n      connect.send(\"VKWebAppGetAuthToken\", {\"app_id\": 6977050, \"scope\": \"friends\"});\r\n    }\r\n    else{\r\n      connect.send(\"VKWebAppCallAPIMethod\", {\"method\": \"friends.getAppUsers\", \"params\": {\"v\": 5.95, \"access_token\":this.props.token.access_token}});\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(){\r\n    console.log(this.state);\r\n  }\r\n\r\n  share(){\r\n    connect.send(\"VKWebAppTapticImpactOccurred\", {\"style\": \"light\"});\r\n    connect.send(\"VKWebAppShare\");\r\n  }\r\n\r\n\trender() {\r\n\t\treturn (\r\n      <Panel theme=\"white\" id={this.props.id}>\r\n    \t\t<PanelHeader\r\n    \t\t\tleft={<HeaderButton onClick={this.props.go} data-to=\"home\">\r\n    \t\t\t\t{osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n    \t\t\t</HeaderButton>}\r\n    \t\t>\r\n    \t\t\t–ü–æ–ø—É–ª—è—Ä–Ω–æ–µ\r\n    \t\t</PanelHeader>\r\n        {!this.state.error && !this.state.loaded && <Spinner size=\"large\" style={{marginTop: 30}}/>}\r\n        {this.state.error && <CenteredDiv>–î–ª—è —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏–º–µ—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Å–ø–∏—Å–∫—É –í–∞—à–∏—Ö –¥—Ä—É–∑–µ–π</CenteredDiv>}\r\n        {!this.state.error && this.state.loaded && this.state.response.length == 0 &&\r\n          <CenteredDiv>\r\n            <span>–ù–∏ –æ–¥–∏–Ω –∏–∑ –í–∞—à–∏—Ö –¥—Ä—É–∑–µ–π –µ—â—ë –Ω–µ –ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞—à–∏–º —Å–µ—Ä–≤–∏—Å–æ–º. –ù–æ —ç—Ç–æ –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å!</span>\r\n            <Button onClick={this.share} size=\"xl\" style={{width:\"90%\", margin: \"auto\"}} level=\"secondary\">–î–∞–≤–∞–π—Ç–µ!</Button>\r\n          </CenteredDiv>\r\n        }\r\n        {!this.state.error && this.state.loaded && this.state.response.length > 0 && <div style={{paddingTop: '35px'}}>{this.state.response.map(item =>{\r\n          return <FilmListElem data-fid={item.data.tmdbId} datafid={item.data.tmdbId} onClick={this.props.openFilm} popularCount={item.count} key={item.data._id} title={item.data.title} image={item.data.image}/>\r\n        })}</div>}\r\n\r\n    \t</Panel>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Popular;\r\n","const settings = {\r\n  image_url:  'https://image.tmdb.org/t/p/original',\r\n  server_url: 'https://cinema.voloshinskii.ru'\r\n};\r\n\r\nexport default settings;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default class ClickImage extends React.Component{\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <div style={{position: 'relative'}}>\r\n      {this.props.back == 'https://image.tmdb.org/t/p/originalnull' && <img src=\"https://image.tmdb.org/t/p/original/pKDVywMKjM7TeU739z7cR9wu9Sf.jpg\" style={{width: '100%', filter: 'blur(15px)'}}/>}\r\n        <img src={this.props.back} style={{width: '100%', filter: 'blur(2.2px)'}}/>\r\n        <div style={{position: 'absolute', top: 0, left: 0, width: '100%', height: '98%', backgroundColor: 'rgba(0, 0, 0, 0.40)'}}>\r\n          <img\r\n            src={this.props.front}\r\n            style={{\r\n              width: '27%',\r\n              position: 'absolute',\r\n              bottom: '-5%',\r\n              left: '8%',\r\n              borderRadius: 10,\r\n              boxShadow: '0 12px 30px 0 rgba(35,39,42,.4)',\r\n              zIndex: 1000\r\n            }}\r\n          />\r\n          <span style={{\r\n            position: 'absolute',\r\n            top: '40%',\r\n            left: '40%',\r\n            color: 'white',\r\n            fontWeight: 'bold',\r\n            fontSize: 19\r\n          }}>\r\n            {this.props.title}\r\n          </span>\r\n        </div>\r\n      </div>\r\n  )}\r\n\r\n}\r\n\r\nClickImage.propTypes = {\r\n\tback: PropTypes.string.isRequired,\r\n  front: PropTypes.string.isRequired,\r\n  title: PropTypes.string.isRequired,\r\n};\r\n","import React from 'react';\r\nimport TextTruncate from 'react-text-truncate';\r\n\r\nexport default class CustomTruncate extends React.Component{\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      expanded: false\r\n    }\r\n    this.expand = this.expand.bind(this);\r\n  }\r\n\r\n  expand(){\r\n    var expand = !(this.state.expanded);\r\n    this.setState({expanded: expand});\r\n    console.log(this.state.expanded);\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <TextTruncate\r\n        line={this.state.expanded ? 9999999999 : 4}\r\n        truncateText={this.state.expanded ? '' : '...'}\r\n        text={this.props.text}\r\n        textTruncateChild={<a style={{color: '#528bcc'}} onClick={this.expand}>–ü–æ–∫–∞–∑–∞—Ç—å –±–æ–ª—å—à–µ</a>}\r\n      />\r\n  )}\r\n\r\n}\r\n","import React from 'react';\r\nimport TextTruncate from 'react-text-truncate';\r\nimport {Group, Div} from '@vkontakte/vkui';\r\n\r\nimport Icon16Clear from '@vkontakte/icons/dist/16/clear';\r\n\r\nexport default class DivBottom extends React.Component{\r\n\r\n  render(){\r\n    return(\r\n      <div>\r\n        <div style={{position: 'fixed', zIndex: '1999', background: 'rgba(0, 0, 0, 0.55)', width: '100%', height: '100%', bottom: 0}}/>\r\n        <div style={{\r\n          position: 'fixed',\r\n          bottom: 0,\r\n          borderRadius: \"20px 20px 0 0\",\r\n          background: 'white',\r\n          width: '100%',\r\n          zIndex: '2000'\r\n        }}>\r\n\r\n          <div style={{display: 'relative', textAlign: 'center', fontWeight: 'bold', margin: '20px 0'}}>\r\n              {this.props.title}\r\n              <Icon16Clear onClick={this.props.onClose} style={{width: '42px', color: '#edeef0', position: 'absolute', top: '10px', right: '15px'}}/>\r\n              <div style={{marginTop: '15px', borderBottom: '1px solid #d7d8d9'}}/>\r\n          </div>\r\n          {this.props.children}\r\n        </div>\r\n      </div>\r\n  )}\r\n\r\n}\r\n","import React from 'react';\r\nimport {FormLayout, Input, FormLayoutGroup, Select, Radio, Textarea, Checkbox, Link, Button, Slider, Div, FormStatus} from '@vkontakte/vkui';\r\nimport connect from '@vkontakte/vkui-connect';\r\n\r\nexport class FeedBackForm extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      text: '',\r\n      rate: 0,\r\n      anon: false\r\n    }\r\n    this.submit = this.submit.bind(this);\r\n    this.onChange = this.onChange.bind(this);\r\n    this.anonF = this.anonF.bind(this);\r\n    this.changeRate = this.changeRate.bind(this);\r\n  }\r\n\r\n  onChange(e) {\r\n    const { name, value } = e.currentTarget;\r\n    this.setState({ [name]: value });\r\n  }\r\n\r\n  anonF(){\r\n    connect.send(\"VKWebAppTapticImpactOccurred\", {\"style\": \"heavy\"});\r\n    var val = !this.state.anon;\r\n    this.setState({anon: val});\r\n  }\r\n\r\n  submit(){\r\n    fetch('https://cinema.voloshinskii.ru/feedback/post', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({filmId: this.props.filmid, token: this.props.token, ...this.state})\r\n    })\r\n    connect.send(\"VKWebAppTapticNotificationOccurred\", {\"type\": \"success\"});\r\n    this.props.close();\r\n  }\r\n\r\n  changeRate(rate){\r\n    if(rate.rate != this.state.rate) connect.send(\"VKWebAppTapticImpactOccurred\", {\"style\": \"medium\"});\r\n    this.setState({rate: rate.rate});\r\n  }\r\n\r\n  render() {\r\n    const rateList = [\"–±–µ–∑ –æ—Ü–µ–Ω–∫–∏\", \"ü§¨ (1)\", \"ü§Æ (2)\", \"ü§¢ (3)\", \"üòü (4)\", \"üòï (5)\", \"üòê (6)\", \"üôÇ (7)\", \"üòÉ (8)\", \"üëç (9)\", \"üòç (10)\"];\r\n    return (\r\n          <FormLayout>\r\n            <FormStatus title=\"–ú–æ–¥–µ—Ä–∞—Ü–∏—è\">\r\n              –í–∞—à –æ—Ç–∑—ã–≤ –±—É–¥–µ—Ç –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω —Å—Ä–∞–∑—É –∂–µ –ø–æ—Å–ª–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –º–æ–¥–µ—Ä–∞—Ü–∏–∏. –û–±—ã—á–Ω–æ –æ–Ω–∞ –∑–∞–Ω–∏–º–∞–µ—Ç –Ω–µ –±–æ–ª–µ–µ —á–∞—Å–∞\r\n            </FormStatus>\r\n            <Textarea\r\n                type=\"text\"\r\n                top=\"–û—Ç–∑—ã–≤\"\r\n                name=\"feedback\"\r\n                onChange={this.onChange}\r\n                placeholder=\"–ù–∞–ø–∏—à–∏ –≤—Å—ë, —á—Ç–æ –¥—É–º–∞–µ—à—å –æ–± —ç—Ç–æ–º —Ñ–∏–ª—å–º–µ. –í —Ä–∞–º–∫–∞—Ö –ø—Ä–∏–ª–∏—á–∏—è, –∫–æ–Ω–µ—á–Ω–æ –∂–µ\"\r\n            />\r\n            <Slider\r\n                min={0}\r\n                max={10}\r\n                onChange={rate => this.changeRate({rate})}\r\n                top={`–í–∞—à–∞ –æ—Ü–µ–Ω–∫–∞: ${rateList[this.state.rate]}`}\r\n                step={1}\r\n              />\r\n            <Checkbox\r\n              name=\"anon\"\r\n              onClick={this.anonF}\r\n            >\r\n              –ê–Ω–æ–Ω–∏–º–Ω–æ\r\n            </Checkbox>\r\n            <Button size=\"xl\" onClick={this.submit}>–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å</Button>\r\n          </FormLayout>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport {Cell, Avatar, Div, Group, Link} from '@vkontakte/vkui';\r\nimport connect from '@vkontakte/vkui-connect-promise';\r\nimport Icon28User from '@vkontakte/icons/dist/28/user';\r\n\r\nexport default class FeedBackCard extends React.Component{\r\n  constructor(props) {\r\n    super(props);\r\n    this.renderPreparedUser = this.renderPreparedUser.bind(this);\r\n    this.renderUser = this.renderUser.bind(this);\r\n    this.state = {\r\n      user: null\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n\r\n    if(!this.props.user.user){\r\n      connect.send(\"VKWebAppCallAPIMethod\", {\"method\": \"users.get\", \"params\": {\"fields\": \"photo_50\", \"user_ids\": this.props.user.vkId, \"v\":\"5.95\", \"access_token\":this.props.token}})\r\n      .then(data => this.setState({user: data.data.response[0]}))\r\n    }\r\n  }\r\n\r\n  renderPreparedUser(rateList){\r\n    return(\r\n      <div>\r\n        <Cell description={rateList[this.props.rate]} before={<Avatar><Icon28User/></Avatar>}>\r\n          {this.props.user.user.first_name} {this.props.user.user.last_name}\r\n        </Cell>\r\n        <p style={{padding: \"0 12px\"}}>{this.props.text}</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderUser(rateList){\r\n    return(\r\n      <div>\r\n        <Cell description={rateList[this.props.rate]} before={<Avatar src={this.state.user.photo_50}/>}>\r\n          <Link style={{color: 'black'}} href={`https://vk.com/id${this.state.user.id}`}>{this.state.user.first_name} {this.state.user.last_name}</Link>\r\n        </Cell>\r\n        <p style={{padding: \"0 12px\"}}>{this.props.text}</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render(){\r\n    const rateList = [\"–±–µ–∑ –æ—Ü–µ–Ω–∫–∏\", \"ü§¨ (1)\", \"ü§Æ (2)\", \"ü§¢ (3)\", \"üòü (4)\", \"üòï (5)\", \"üòê (6)\", \"üôÇ (7)\", \"üòÉ (8)\", \"üëç (9)\", \"üòç (10)\"];\r\n    return(\r\n      <Group>\r\n        <Div>\r\n          {this.props.user.user && this.renderPreparedUser(rateList)}\r\n          {this.state.user && this.renderUser(rateList)}\r\n        </Div>\r\n      </Group>\r\n  )}\r\n\r\n}\r\n","import React from 'react';\r\nimport {Panel, PanelHeader, HeaderButton, platform, IOS, Group, Button, Header, Div, InfoRow, List, Cell, Spinner, Counter, Link} from '@vkontakte/vkui';\r\nimport qr from '@vkontakte/vk-qr';\r\n\r\nimport settings from '../constants.js';\r\nimport connect from '@vkontakte/vkui-connect';\r\nimport VK, { Playlist } from \"react-vk\";\r\n\r\n\r\nimport Icon24Qr from '@vkontakte/icons/dist/24/qr';\r\nimport Icon24Info from '@vkontakte/icons/dist/24/info';\r\nimport Icon24Like from '@vkontakte/icons/dist/24/like';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\nimport Icon24LogoLivejournal from '@vkontakte/icons/dist/24/logo_livejournal';\r\n\r\nimport ClickImage from '../components/ClickImage';\r\nimport CustomTruncate from '../components/CustomTruncate';\r\nimport DivBottom from '../components/DivBottom';\r\nimport {FeedBackForm} from '../components/Forms';\r\nimport FeedBackCard from '../components/FeedBackCard';\r\n\r\nconst osname = platform();\r\n\r\n\r\nexport default class Film extends React.Component{\r\n  constructor(props) {\r\n\t\tsuper(props);\r\n\r\n    this.state = {\r\n      qr: false,\r\n      feedBack: false\r\n    }\r\n\r\n    this.watch = this.watch.bind(this);\r\n    this.QRModal = this.QRModal.bind(this);\r\n    this.feedBackModal = this.feedBackModal.bind(this);\r\n\t}\r\n\r\n  componentDidMount(){\r\n    connect.send(\"VKWebAppSetLocation\", {\"location\": `film_${this.props.filmid}`});\r\n\r\n    connect.subscribe((e) => {\r\n      switch (e.detail.type) {\r\n        case 'VKWebAppAccessTokenReceived':\r\n          this.watch(e.detail.data.access_token, this.props.currentFilm._id);\r\n          this.props.authToken = e.detail.data.access_token;\r\n        break;\r\n      }\r\n    });\r\n  }\r\n\r\n  watch(token, filmid){\r\n    if(token){\r\n      connect.send(\"VKWebAppTapticNotificationOccurred\", {\"type\": \"success\"});\r\n      if(!this.props.currentFilm.going){\r\n      this.props.currentFilm.watch++;\r\n      fetch(`https://cinema.voloshinskii.ru/watch?token=${token}&filmId=${filmid}`)\r\n        .then(res => res.json())\r\n      }\r\n      else{\r\n        this.props.currentFilm.watch--;\r\n        fetch(`https://cinema.voloshinskii.ru/unwatch?token=${token}&filmId=${filmid}`)\r\n          .then(res => res.json())\r\n      }\r\n      this.props.currentFilm.going = !this.props.currentFilm.going;\r\n      this.setState({going: this.props.currentFilm.going});\r\n    }\r\n    else{\r\n      connect.send(\"VKWebAppGetAuthToken\", {\"app_id\": 6977050, \"scope\": \"\"});\r\n    }\r\n  }\r\n\r\n\r\n  share(filmid){\r\n    connect.send(\"VKWebAppTapticImpactOccurred\", {\"style\": \"light\"});\r\n      connect.send(\"VKWebAppShowWallPostBox\", {\"message\": `https://vk.com/app6977050#film_${filmid}`});\r\n  }\r\n\r\n  QRModal(){\r\n    var value = !this.state.qr;\r\n    if(value){\r\n      connect.send('VKWebAppDisableSwipeBack');\r\n    }\r\n    else{\r\n      connect.send('VKWebAppEnableSwipeBack');\r\n    }\r\n\r\n    this.setState({qr: value});\r\n  }\r\n\r\n  feedBackModal(){\r\n    var value = !this.state.feedBack;\r\n    if(value){\r\n      connect.send('VKWebAppDisableSwipeBack');\r\n    }\r\n    else{\r\n      connect.send('VKWebAppEnableSwipeBack');\r\n    }\r\n\r\n    this.setState({feedBack: value});\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <Panel id={this.props.id}>\r\n    \t\t<PanelHeader\r\n    \t\t\tleft={<HeaderButton onClick={this.props.go} data-to=\"home\">\r\n    \t\t\t\t{osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n    \t\t\t</HeaderButton>}\r\n    \t\t>\r\n    \t\t\t–§–∏–ª—å–º\r\n    \t\t</PanelHeader>\r\n        <div style={{background: 'white'}}>\r\n            {!this.props.currentFilm && <Spinner size=\"large\" style={{marginTop: 30}}/>}\r\n            {this.props.currentFilm &&\r\n              <ClickImage back={settings.image_url + this.props.currentFilm.tmdbFullData.backdrop_path}\r\n                          front={this.props.currentFilm.image}\r\n                          title={this.props.currentFilm.title}\r\n              />\r\n            }\r\n            <Group style={{marginTop: 0, overflow: 'auto'}}>\r\n              <Div>\r\n                {this.props.currentFilm && this.props.currentFilm.tmdbFullData.vote_average > 0 &&\r\n                  <InfoRow style={{display: 'inline-block'}} title='–†–µ–π—Ç–∏–Ω–≥'>\r\n                    <span style={{color: '#528bcc', fontWeight: 'bold', fontSize: 20}}>\r\n                      {this.props.currentFilm.tmdbFullData.vote_average}\r\n                    </span>\r\n                  </InfoRow>\r\n                }\r\n\r\n                {this.props.currentFilm && this.props.currentFilm.tmdbFullData.runtime > 0 &&\r\n                  <InfoRow style={{display: 'inline-block', float: 'right'}} title='–ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å'>\r\n                    <span style={{color: 'grey', fontWeight: 'bold', fontSize: 20}}>\r\n                      {this.props.currentFilm.tmdbFullData.runtime} –º–∏–Ω\r\n                    </span>\r\n                  </InfoRow>\r\n                }\r\n              </Div>\r\n            </Group>\r\n\r\n            <Div>\r\n              {this.props.currentFilm && this.props.currentFilm.tmdbFullData.overview &&\r\n                <CustomTruncate\r\n                  text={this.props.currentFilm.tmdbFullData.overview}\r\n                />\r\n              }\r\n            </Div>\r\n\r\n            <div style={{width: '95%', margin: 'auto', display: 'flex', flexDirection: 'row', justifyContent: 'space-between'}}>\r\n              {this.props.currentFilm && !this.props.currentFilm.going && <Button size=\"xl\" style={{width: '100%', display: \"inline-block\", marginRight:'2%'}} level=\"primary\" onClick={() => { this.watch(this.props.authToken, this.props.currentFilm._id) }}>–ò–¥—É –Ω–∞ —Ñ–∏–ª—å–º</Button>}\r\n              {this.props.currentFilm && this.props.currentFilm.going && <Button size=\"xl\" style={{width: '100%', display: \"inline-block\",  marginRight:'2%'}} level=\"primary\" onClick={() => {  this.watch(this.props.authToken, this.props.currentFilm._id) }}>–£–¥–∞–ª–∏—Ç—å –∏–∑ —Å–ø–∏—Å–∫–∞</Button>}\r\n              {this.props.currentFilm && <Button size=\"xl\" onClick={this.QRModal} style={{width:\"18%\", display: \"inline-block\"}} level=\"secondary\"><Icon24Qr/></Button>}\r\n              {this.props.currentFilm && this.props.authToken && new Date(this.props.currentFilm.date) < new Date() && <Button size=\"xl\" onClick={this.feedBackModal} style={{width:\"18%\", display: \"inline-block\", marginLeft:'2%'}} level=\"secondary\"><Icon24LogoLivejournal/></Button>}\r\n            </div>\r\n\r\n            <Group>\r\n              <Div style={{display: 'flex', justifyContent: 'space-between', flexDirection: 'row' }}>\r\n                {this.props.currentFilm && this.props.currentFilm.watch > 0 &&\r\n                  <InfoRow style={{display: 'inline-block', textAlign: 'center'}} title='–ü–æ—Å–º–æ—Ç—Ä—è—Ç'>\r\n                    <span style={{color: 'grey', fontWeight: 'bold', fontSize: 20}}>\r\n                      {this.props.currentFilm.watch}\r\n                    </span>\r\n                  </InfoRow>\r\n                }\r\n                {this.props.currentFilm && this.props.currentFilm.feedbacks &&\r\n                  <InfoRow style={{display: 'inline-block', textAlign: 'center'}} title='–û—Ç–∑—ã–≤—ã'>\r\n                    <span style={{color: 'grey', fontWeight: 'bold', fontSize: 20}}>\r\n                      {this.props.currentFilm.feedbacks.length}\r\n                    </span>\r\n                  </InfoRow>\r\n                }\r\n              </Div>\r\n            </Group>\r\n\r\n            {this.props.currentFilm && this.props.currentFilm.video &&\r\n              <iframe width=\"100%\" height=\"204\" style={{margin:'auto'}} src={`https://www.youtube.com/embed/${this.props.currentFilm.video}`} frameBorder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowFullScreen/>\r\n            }\r\n          </div>\r\n          <Group>\r\n            <Div>\r\n              {this.props.currentFilm && (this.props.currentFilm.tmdbFullData.release_date) && <InfoRow title='–ü—Ä–µ–º—å–µ—Ä–∞'>{new Date(this.props.currentFilm.tmdbFullData.release_date).toLocaleString('ru', {year: 'numeric',month: 'long',day: 'numeric'})}</InfoRow>}\r\n            </Div>\r\n            <Div>\r\n              {this.props.currentFilm && (this.props.currentFilm.tmdbFullData.budget > 0) && <InfoRow title='–û–±—â–∏–π –±—é–¥–∂–µ—Ç'>{this.props.currentFilm.tmdbFullData.budget.toLocaleString('ru')}$</InfoRow>}\r\n            </Div>\r\n            <Div>\r\n              {this.props.currentFilm && (this.props.currentFilm.tmdbFullData.revenue > 0) && <InfoRow title='–°–±–æ—Ä—ã'>{this.props.currentFilm.tmdbFullData.revenue.toLocaleString('ru')}$</InfoRow>}\r\n            </Div>\r\n          </Group>\r\n\r\n          {this.props.currentFilm && this.props.currentFilm.playlist &&\r\n            <Group title='–ü–ª–µ–π–ª–∏—Å—Ç'>\r\n              <Div>\r\n                <VK>\r\n                  <Playlist ownerId={this.props.currentFilm.playlist.owner}\r\n                            playlistId={this.props.currentFilm.playlist.playlist}\r\n                            hash={'f61be84a9faff53712'}\r\n                  />\r\n                </VK>\r\n              </Div>\r\n            </Group>\r\n          }\r\n\r\n\r\n          {this.props.currentFilm && this.props.currentFilm.feedbacks.length > 0 &&\r\n            <div>\r\n            <Group style={{marginTop: \"40px\"}}>\r\n               <Header level=\"2\" indicator={<Counter>{this.props.currentFilm.feedbacks.length}</Counter>}>\r\n                 –û—Ç–∑—ã–≤—ã\r\n               </Header>\r\n             </Group>\r\n            {this.props.currentFilm.feedbacks.map(item =>{\r\n              return <FeedBackCard token={this.props.authToken} key={item._id}{...item}/>\r\n            })}\r\n            </div>\r\n          }\r\n\r\n          { this.state.qr &&\r\n            <DivBottom title='–ü–æ–¥–µ–ª–∏—Ç—å—Å—è —Ñ–∏–ª—å–º–æ–º' onClose={this.QRModal}>\r\n            <Div>\r\n              <InfoRow><div style={{width: '256px', margin: 'auto', marginBottom: '10px'}} dangerouslySetInnerHTML={{__html: qr.createQR(`https://vk.com/app6977050#film_${this.props.currentFilm.tmdbId}`, 256, 'qr-code-class', true)}}/></InfoRow>\r\n              <div style={{width: '256px', margin: 'auto', textAlign: 'center', color: 'grey', marginBottom: '20px'}}>–í—ã –º–æ–∂–µ—Ç–µ –ø–æ–¥–µ–ª–∏—Ç—å—Å—è –¥–∞–Ω–Ω–æ–π —Å—Ç–∞–Ω–∏—Ü–µ–π —Å–æ —Å–≤–æ–∏–º–∏ –¥—Ä—É–∑—å—è–º–∏. –ü—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ QR-–∫–æ–¥ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –¥–∞–Ω–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞</div>\r\n              <div style={{width: '90%', margin: 'auto', display: 'flex', flexDirection: 'column'}}>\r\n                <Button size=\"xl\" style={{width:\"100%\", marginBottom: '10px'}} level=\"primary\" onClick={() => { this.share(this.props.currentFilm.tmdbId) }}>–ü–æ–¥–µ–ª–∏—Ç—å—Å—è</Button>\r\n                <Button size=\"xl\" style={{width:\"100%\"}} component=\"a\" href=\"https://vk.com/wall-58810575_52712\" level=\"secondary\">–ö–∞–∫ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å?</Button>\r\n              </div>\r\n            </Div>\r\n            </DivBottom>\r\n          }\r\n\r\n          { this.state.feedBack &&\r\n            <DivBottom title='–ù–∞–ø–∏—Å–∞—Ç—å –æ—Ç–∑—ã–≤' onClose={this.feedBackModal}>\r\n              <FeedBackForm filmid={this.props.currentFilm._id} close={this.feedBackModal} token={this.props.authToken}/>\r\n            </DivBottom>\r\n          }\r\n      </Panel>\r\n  )}\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Panel, PanelHeader, HeaderButton, platform, IOS, Search, List, Cell} from '@vkontakte/vkui';\r\n\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\n\r\nconst osname = platform();\r\n\r\nclass Future extends React.Component {\r\n  constructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n      search: '',\r\n\t\t\tfutureList: [],\r\n\r\n\t\t};\r\n    this.onChange = this.onChange.bind(this);\r\n    this.searchRes = this.searchRes.bind(this);\r\n\t}\r\n\r\n  onChange (search) { this.setState({ search }); }\r\n\r\n  searchRes() {\r\n      const search = this.state.search.toLowerCase();\r\n      return this.state.futureList.filter(({title}) => title.toLowerCase().indexOf(search) > -1);\r\n    }\r\n\r\n  componentDidMount(){\r\n    fetch(`https://cinema.voloshinskii.ru/future/preview?limit=10000`)\r\n      .then(res => res.json())\r\n      .then(json => this.setState({ futureList: json }));\r\n  }\r\n\r\n\trender() {\r\n\t\treturn (\r\n      <Panel id={this.props.id}>\r\n    \t\t<PanelHeader\r\n    \t\t\tleft={<HeaderButton onClick={this.props.go} data-to=\"home\">\r\n    \t\t\t\t{osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n    \t\t\t</HeaderButton>}\r\n    \t\t>\r\n    \t\t\t–°–∫–æ—Ä–æ –≤ –∫–∏–Ω–æ\r\n    \t\t</PanelHeader>\r\n        <Search value={this.state.search} onChange={this.onChange}/>\r\n        {this.state.futureList.length > 0 &&\r\n          <List>\r\n            {this.searchRes().map(item => <Cell data-fid={item.tmdbId} key={item.tmdbId} onClick={this.props.openFilm}>{item.title}</Cell>)}\r\n          </List>\r\n        }\r\n    \t</Panel>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Future;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Panel, PanelHeader, HeaderButton, platform, IOS, Search, List, Cell} from '@vkontakte/vkui';\r\n\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\n\r\nconst osname = platform();\r\n\r\nclass Active extends React.Component {\r\n  constructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n      search: '',\r\n\t\t\tactiveList: [],\r\n\r\n\t\t};\r\n    this.onChange = this.onChange.bind(this);\r\n    this.searchRes = this.searchRes.bind(this);\r\n\t}\r\n\r\n  onChange (search) { this.setState({ search }); }\r\n\r\n  searchRes() {\r\n      const search = this.state.search.toLowerCase();\r\n      return this.state.activeList.filter(({title}) => title.toLowerCase().indexOf(search) > -1);\r\n    }\r\n\r\n  componentDidMount(){\r\n    fetch(`https://cinema.voloshinskii.ru/active/preview?limit=10000`)\r\n      .then(res => res.json())\r\n      .then(json => this.setState({ activeList: json }));\r\n  }\r\n\r\n\trender() {\r\n\t\treturn (\r\n      <Panel id={this.props.id}>\r\n    \t\t<PanelHeader\r\n    \t\t\tleft={<HeaderButton onClick={this.props.go} data-to=\"home\">\r\n    \t\t\t\t{osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n    \t\t\t</HeaderButton>}\r\n    \t\t>\r\n    \t\t\t–°–µ–π—á–∞—Å –≤ –∫–∏–Ω–æ\r\n    \t\t</PanelHeader>\r\n        <Search value={this.state.search} onChange={this.onChange}/>\r\n        {this.state.activeList.length > 0 &&\r\n          <List>\r\n            {this.searchRes().map(item => <Cell data-fid={item.tmdbId} key={item.tmdbId} onClick={this.props.openFilm}>{item.title}</Cell>)}\r\n          </List>\r\n        }\r\n    \t</Panel>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Active;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Panel, PanelHeader, HeaderButton, platform, IOS, Search, List, Cell, Spinner} from '@vkontakte/vkui';\r\nimport connect from '@vkontakte/vkui-connect';\r\n\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\n\r\nimport CenteredDiv from '../components/CenteredDiv';\r\nimport FilmListElem from '../components/FilmListElem';\r\n\r\nconst osname = platform();\r\n\r\nclass Featured extends React.Component {\r\n  constructor(props) {\r\n\t\tsuper(props);\r\n    this.state = {\r\n      list: [],\r\n      loaded: false\r\n    }\r\n\t}\r\n\r\n  componentDidMount(){\r\n\r\n    connect.subscribe((e) => {\r\n      switch (e.detail.type) {\r\n        case 'VKWebAppAccessTokenReceived':\r\n          this.setState({ tokenWithScope: e.detail.data, error: false });\r\n          fetch(`https://cinema.voloshinskii.ru/user/getwishlist?token=${e.detail.data.access_token}`)\r\n            .then(res => res.json())\r\n            .then(json => this.setState({ list: json.user && json.user.films, loaded: true }));\r\n          break;\r\n      }\r\n    });\r\n\r\n    if (this.props.token){\r\n      fetch(`https://cinema.voloshinskii.ru/user/getwishlist?token=${this.props.token}`)\r\n        .then(res => res.json())\r\n        .then(json => this.setState({ list: json.user && json.user.films, loaded: true }));\r\n    }\r\n    else{\r\n      this.setState({error: true})\r\n      connect.send(\"VKWebAppGetAuthToken\", {\"app_id\": 6977050, \"scope\": \"\"});\r\n    }\r\n  }\r\n\r\n\r\n\trender() {\r\n\t\treturn (\r\n      <Panel theme=\"white\" id={this.props.id}>\r\n    \t\t<PanelHeader>\r\n    \t\t\t–ú–æ–π —Å–ø–∏—Å–æ–∫\r\n    \t\t</PanelHeader>\r\n        {this.state.error && <CenteredDiv>–î–ª—è —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏–º–µ—Ç—å –¥–æ—Å—Ç—É–ø –∫ –í–∞—à–µ–º—É –ø—Ä–æ—Ñ–∏–ª—é</CenteredDiv>}\r\n        {!this.state.error && !this.state.loaded && <Spinner size=\"large\" style={{marginTop: 30}}/>}\r\n        {!this.state.error && this.state.loaded && this.state.list.length == 0 &&\r\n        <CenteredDiv>–í –í–∞—à–µ–º —Å–ø–∏—Å–∫–µ –ø–æ–∫–∞ —á—Ç–æ –Ω–µ—Ç –Ω–∏ –æ–¥–Ω–æ–≥–æ —Ñ–∏–ª—å–º–∞</CenteredDiv>}\r\n        {this.state.list && this.state.list.length > 0 && <div style={{paddingTop: '35px'}}>{this.state.list.map(item =>{\r\n          return <FilmListElem datafid={item.tmdbId} data-fid={item.tmdbId} onClick={this.props.openFilm} key={item._id} title={item.title} image={item.image}/>\r\n        })}</div>}\r\n    \t</Panel>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Featured;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Panel, PanelHeader, HeaderButton, platform, IOS, Spinner, Button, Group, Div, List, Cell, Switch} from '@vkontakte/vkui';\r\nimport connect from '@vkontakte/vkui-connect';\r\n\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\n\r\nconst osname = platform();\r\n\r\nclass Settings extends React.Component {\r\n  constructor(props) {\r\n\t\tsuper(props);\r\n    this.state = {\r\n      loaded: false\r\n    }\r\n    this.subscribe = this.subscribe.bind(this);\r\n\t}\r\n\r\n  componentDidMount() {\r\n\r\n    if (!this.props.token){\r\n      connect.send(\"VKWebAppGetAuthToken\", {\"app_id\": 6977050, \"scope\": \"\"});\r\n    }\r\n\r\n    connect.send(\"VKWebAppCallAPIMethod\", {\"method\": \"apps.isNotificationsAllowed\", \"params\": {\"v\":\"5.95\", \"access_token\":this.props.token}});\r\n\r\n    connect.subscribe((e) => {\r\n      switch (e.detail.type) {\r\n\r\n        case 'VKWebAppAccessTokenReceived':\r\n          this.setState({ tokenWithScope: e.detail.data, error: false });\r\n          this.props.token = e.detail.date.access_token\r\n          break;\r\n\r\n        case 'VKWebAppCallAPIMethodResult':\r\n          console.log(e.detail)\r\n          this.setState({notifications: e.detail.data.response.is_allowed})\r\n          break;\r\n\r\n        case 'VKWebAppAllowNotificationsResult':\r\n          if(e.detail.data.result){\r\n            connect.send(\"VKWebAppTapticNotificationOccurred\", {\"type\": \"success\"});\r\n            fetch(`https://cinema.voloshinskii.ru/user/subscribe?token=${this.props.token}`)\r\n            this.setState({notifications: true});\r\n          }\r\n            break;\r\n\r\n        case 'VKWebAppDenyNotificationsResult':\r\n          fetch(`https://cinema.voloshinskii.ru/user/unsubscribe?token=${this.props.token}`)\r\n          this.setState({notifications: false});\r\n          break;\r\n      }\r\n    });\r\n  }\r\n\r\n  subscribe(event){\r\n    connect.send(\"VKWebAppTapticImpactOccurred\", {\"style\": \"heavy\"});\r\n    if(!this.state.notifications){\r\n      connect.send(\"VKWebAppAllowNotifications\", {});\r\n\r\n    }\r\n    else{\r\n      connect.send(\"VKWebAppDenyNotifications\", {});\r\n      connect.send(\"VKWebAppTapticNotificationOccurred\", {\"type\": \"success\"});\r\n    }\r\n  }\r\n\r\n\trender() {\r\n\t\treturn (\r\n      <Panel theme=\"white\" id={this.props.id}>\r\n    \t\t<PanelHeader\r\n    \t\t>\r\n    \t\t\t–ù–∞—Å—Ç—Ä–æ–π–∫–∏\r\n    \t\t</PanelHeader>\r\n\r\n        <Group title=\"–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è\">\r\n        <List>\r\n        {this.state.notifications !== null &&\r\n          <Cell multiline={true} description={this.state.notifications ? \"–ú–æ–ª–æ–¥–µ—Ü, —Ç–∞–∫ –¥–µ—Ä–∂–∞—Ç—å! –¢–µ–ø–µ—Ä—å —Ç—ã –±—É–¥–µ—à—å –≤ –∫—É—Ä—Å–µ –≤—Å–µ—Ö –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏—Ö —Ç–µ–±—è –Ω–æ–≤–∏–Ω–æ–∫ üòé\" : \"–í–∫–ª—é—á–∏, —á—Ç–æ–±—ã –º—ã –º–æ–≥–ª–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Ç–µ–±–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –≤—ã—à–µ–¥—à–∏—Ö —Ñ–∏–ª—å–º–∞—Ö –∏–∑ —Ç–≤–æ–µ–≥–æ —Å–ø–∏—Å–∫–∞\"} asideContent={<Switch defaultChecked={this.state.notifications} onClick={this.subscribe}/>}>\r\n            –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è\r\n          </Cell>\r\n        }\r\n        </List>\r\n        </Group>\r\n        <p style={{color: 'grey', textAlign: 'center'}}>–ù–æ–º–µ—Ä —Å–±–æ—Ä–∫–∏: 1.0.3-3</p>\r\n    \t</Panel>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Settings;\r\n","import React from 'react';\nimport connect from '@vkontakte/vkui-connect';\nimport { View, Epic, Tabbar, TabbarItem, ConfigProvider } from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport Icon28Favorite from '@vkontakte/icons/dist/28/favorite';\nimport Icon24Home from '@vkontakte/icons/dist/24/home';\nimport Icon28Settings from '@vkontakte/icons/dist/28/settings';\nimport HashChange from \"react-hashchange\";\n\nimport Home from './panels/Home';\nimport Popular from './panels/Popular';\nimport Film from './panels/Film';\nimport Future from './panels/Future';\nimport Active from './panels/Active';\nimport Featured from './panels/Featured';\nimport Settings from './panels/Settings';\nimport history from './history';\n\nclass App extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tactivePanel: 'home',\n\t\t\tactivePreview: null,\n\t\t\tfuturePreview: null,\n\t\t\tcurrentFilm: null,\n\t\t\tauthToken: null,\n\t\t\ttokenWithScope: null,\n\t\t\tloaded: false,\n\t\t\thistoryv: ['home']\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tconnect.send('VKWebAppEnableSwipeBack');\n\n\t\tconnect.subscribe((e) => {\n\t\t\tswitch (e.detail.type) {\n\n\t\t\t\tcase 'VKWebAppGetUserInfoResult':\n\t\t\t\t\tthis.setState({ user: e.detail.data});\n\t\t\t\t\tvar hash = window.location.href.split('#');\n\n\t\t\t\t\tfetch(`https://cinema.voloshinskii.ru/user/active?id=${e.detail.data.id}`)\n\t\t\t\t\t\t.then(res => res.json())\n\t\t\t\t\t\t.then(json => {\n\t\t\t\t\t\t\tif(json.result){\n\t\t\t\t\t\t\t\tconnect.send(\"VKWebAppGetAuthToken\", {\"app_id\": 6977050, \"scope\": \"\"});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\tif(hash[1] && hash[1].split('_')[0] === 'film' && this.state.loaded === false){\n\n\t\t\t\t\t\tfetch(`https://cinema.voloshinskii.ru/film/gettmdb/${hash[1].split('_')[1]}?id=${this.state.user.id}`)\n\t\t\t\t\t\t\t.then(res => res.json())\n\t\t\t\t\t\t\t.then(json => this.setState({ currentFilm: json }));\n\n\t\t\t\t\t\tthis.setState({ historyv: ['home', 'film'], loaded: true, activePanel: 'film', filmid: hash[1].split('_')[1]})\n\t\t\t\t\t\tconnect.send(\"VKWebAppSetLocation\", {\"location\": \"home\"});\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'VKWebAppAccessTokenReceived':\n\t\t\t\t\tthis.setState({ authToken: e.detail.data.access_token, tokenWithScope: e.detail.data});\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\t\t});\n\n\t\tconnect.send(\"VKWebAppGetUserInfo\", {});\n\n\t\tfetch(`https://cinema.voloshinskii.ru/active/preview`)\n      .then(res => res.json())\n      .then(json => this.setState({ activePreview: json }));\n\n\t\tfetch(`https://cinema.voloshinskii.ru/future/preview`)\n\t    .then(res => res.json())\n\t    .then(json => this.setState({ futurePreview: json }));\n\t}\n\n\tgoBack = () => {\n    const historyv = [...this.state.historyv];\n    historyv.pop();\n    const activePanel = historyv[historyv.length - 1];\n    if (activePanel === 'home') {\n      connect.send('VKWebAppDisableSwipeBack');\n    }\n    this.setState({ historyv, activePanel, currentFilm: null });\n  }\n\n\tgo = (e) => {\n\t\tif(e.currentTarget.dataset.to === 'home'){\n\t\t\tthis.goBack()\n\t\t}\n\t\telse{\n\t\t\tconst historyv = [...this.state.historyv];\n\t    historyv.push(e.currentTarget.dataset.to);\n\t    if (this.state.activePanel === 'home') {\n\t      connect.send('VKWebAppEnableSwipeBack');\n\t    }\n\t    this.setState({ historyv, activePanel: e.currentTarget.dataset.to, currentFilm: null });\n\t\t\tconnect.send(\"VKWebAppSetLocation\", {\"location\": e.currentTarget.dataset.to});\n\t\t}\n\t};\n\n\tonStoryChange = (e) => {\n\t this.setState({ activePanel: e.currentTarget.dataset.story })\n }\n\n updateToken = (e) => {\n\t console.log(e);\n };\n\n\topenFilm = (e) => {\n\t\tconst historyv = [...this.state.historyv];\n    historyv.push(e.currentTarget.dataset.to);\n\n\t\tthis.setState({ historyv, activePanel: 'film',\n\t\t \t\t\t\t\t\t\t\tfilmid:      e.currentTarget.dataset.fid})\n\n\t\tfetch(`https://cinema.voloshinskii.ru/film/gettmdb/${e.currentTarget.dataset.fid}?id=${this.state.user.id}`)\n\t\t\t.then(res => res.json())\n\t\t\t.then(json => this.setState({ currentFilm: json }));\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<ConfigProvider>\n\t\t\t\t<Epic activeStory={this.state.activePanel} tabbar={\n\t\t\t\t\t['home', 'featured', 'settings'].includes(this.state.activePanel) &&\n\t        <Tabbar>\n\t          <TabbarItem\n\t            onClick={this.onStoryChange}\n\t            selected={this.state.activePanel === 'home'}\n\t            data-story=\"home\"\n\t            text=\"–ì–ª–∞–≤–Ω–∞—è\"\n\t          ><Icon24Home/></TabbarItem>\n\t\t\t\t\t\t<TabbarItem\n\t            onClick={this.onStoryChange}\n\t            selected={this.state.activePanel === 'featured'}\n\t            data-story=\"featured\"\n\t            text=\"–°–ø–∏—Å–æ–∫\"\n\t          ><Icon28Favorite/></TabbarItem>\n\t\t\t\t\t\t<TabbarItem\n\t\t\t\t\t\t\tonClick={this.onStoryChange}\n\t\t\t\t\t\t\tselected={this.state.activePanel === 'settings'}\n\t\t\t\t\t\t\tdata-story=\"settings\"\n\t\t\t\t\t\t\ttext=\"–ù–∞—Å—Ç—Ä–æ–π–∫–∏\"\n\t\t\t\t\t\t><Icon28Settings/></TabbarItem>\n\t        </Tabbar>\n\t      }>\n\n\t\t\t\t\t<View id=\"featured\" activePanel=\"featured\">\n\t\t\t\t\t\t<Featured openFilm={this.openFilm} token={this.state.authToken} id=\"featured\" go={this.go} />\n\t\t\t\t\t</View>\n\t\t\t\t\t<View id=\"settings\" activePanel=\"settings\">\n\t\t\t\t\t\t<Settings token={this.state.authToken} id=\"settings\" go={this.go} />\n\t\t\t\t\t</View>\n\t\t\t\t\t<View id=\"film\" activePanel=\"film\">\n\t\t\t\t\t\t<Film filmid={this.state.filmid} authToken={this.state.authToken} currentFilm={this.state.currentFilm} id=\"film\" go={this.go} />\n\t\t\t\t\t</View>\n\t\t\t\t\t<View id={this.state.activePanel} activePanel={this.state.activePanel} onSwipeBack={this.goBack} history={this.state.historyv}>\n\t\t\t\t\t\t<Home id=\"home\" activePreview={this.state.activePreview} futurePreview={this.state.futurePreview} go={this.go} openFilm={this.openFilm} setid={this.setid} />\n\t\t\t\t\t\t<Future id=\"future\" go={this.go} openFilm={this.openFilm} />\n\t\t\t\t\t\t<Active id=\"active\" go={this.go} openFilm={this.openFilm} />\n\t\t\t\t\t\t<Popular openFilm={this.openFilm} token={this.state.tokenWithScope} updateToken={this.updateToken} id=\"popular\" go={this.go} />\n\t\t\t\t\t</View>\n\t\t\t\t</Epic>\n\t\t\t</ConfigProvider>\n\t\t);\n\t}\n}\n\nexport default App;\n","import { createBrowserHistory } from 'history';\r\n\r\nexport default createBrowserHistory();\r\n","import 'core-js/es6/map';\nimport 'core-js/es6/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vkui-connect';\nimport App from './App';\nimport { Router, Route } from 'react-router-dom';\nimport history from './history';\n// import registerServiceWorker from './sw';\n\n// Init VK App\nconnect.send('VKWebAppInit', {});\n\n// –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ, —á—Ç–æ–±—ã –≤–∞—à–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–ª–æ –≤ –æ—Ñ—Ñ–ª–∞–π–Ω–µ –∏ –∑–∞–≥—Ä—É–∂–∞–ª–æ—Å—å –±—ã—Å—Ç—Ä–µ–µ,\n// —Ä–∞—Å—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —Å—Ç—Ä–æ–∫—É —Å registerServiceWorker();\n// –ù–æ –Ω–µ –∑–∞–±—ã–≤–∞–π—Ç–µ, —á—Ç–æ –Ω–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç —É —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –µ—Å—Ç—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–æ–¥–≤–æ–¥–Ω—ã—Ö –∫–∞–º–Ω–µ–π\n// –ü–æ–¥—Ä–æ–±–Ω–µ–µ –ø—Ä–æ —Å–µ—Ä–≤–∏—Å –≤–æ—Ä–∫–µ—Ä—ã –º–æ–∂–Ω–æ –ø–æ—á–∏—Ç–∞—Ç—å —Ç—É—Ç ‚Äî https://vk.cc/8MHpmT\n// registerServiceWorker();\nReactDOM.render(<App/>, document.getElementById('root'));\n"],"sourceRoot":""}