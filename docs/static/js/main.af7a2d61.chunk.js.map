{"version":3,"sources":["img/banner-1.png","components/RatingSpan.js","panels/Home.js","components/CenteredDiv.js","components/FilmListElem.js","panels/Popular.js","constants.js","components/ClickImage.js","components/CustomTruncate.js","components/DivBottom.js","components/Forms.js","components/FeedBackCard.js","components/Genres.js","panels/Film.js","panels/Future.js","panels/Active.js","panels/Featured.js","panels/Settings.js","panels/Genre.js","panels/Collection.js","panels/Collections.js","App.js","history.js","index.js"],"names":["module","exports","__webpack_require__","p","RatingSpan","react_default","a","createElement","style","padding","borderRadius","backgroundColor","position","right","top","fontWeight","fontSize","this","props","rating","React","Component","itemStyle","flexShrink","width","height","flexDirection","alignItems","paddingLeft","collectionStyle","margin","textAlign","background","imgStyle","nameStyle","marginTop","marginBottom","overflow","display","WebkitLineClamp","WebkitBoxOrient","Home","_ref","collections","id","openFilm","activePreview","go","futurePreview","setid","vkui","slideWidth","marginLeft","marginRight","bullets","autoplay","onClick","data-to","src","banner1","paddingBottom","level","aside","map","item","i","data-fid","tmdbId","key","Object","objectSpread","tmdbFullData","vote_average","RatingSpan_RatingSpan","image","size","title","data-data","_id","color","CenteredDiv","left","transform","children","FilmListElem","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","n","text_forms","n1","Math","abs","datafid","gridGap","gridTemplateColumns","verticalAlign","popularCount","s","osname","platform","Popular","_this","state","error","response","_this2","connect","subscribe","e","detail","type","setState","tokenWithScope","data","send","method","params","v","access_token","loaded","friends","fetch","headers","Accept","Content-Type","body","JSON","stringify","then","res","json","values","result","token","scope","search","app_id","_this3","theme","IOS","chevron_back_default","back_default","CenteredDiv_CenteredDiv","length","share","paddingTop","FilmListElem_FilmListElem","count","settings","image_url","server_url","ClickImage","back","filter","front","bottom","boxShadow","zIndex","CustomTruncate","expanded","expand","bind","assertThisInitialized","console","log","lib_default","line","truncateText","text","textTruncateChild","DivBottom","onClose","maxHeight","overflowY","cancel_default","borderBottom","FeedBackForm","_React$Component","rate","anon","submit","onChange","anonF","changeRate","inherits","createClass","value","_e$currentTarget","currentTarget","name","defineProperty","val","filmId","filmid","close","placeholder","min","max","concat","step","FeedBackCard","renderPreparedUser","renderUser","user","fields","user_ids","vkId","catch","first_name","last_name","photo_50","rateList","description","before","user_default","href","GenresRender","string","charAt","toUpperCase","slice","genres","to","data-search","genreStyle","capitalizeFirstLetter","Film","qr","feedBack","watch","QRModal","feedBackModal","location","currentFilm","going","authToken","message","ClickImage_ClickImage","backdrop_path","runtime","float","overview","CustomTruncate_CustomTruncate","justifyContent","qr_default","Date","date","logo_livejournal_default","feedbacks","Genres_GenresRender","video","frameBorder","allow","allowFullScreen","release_date","toLocaleString","year","month","day","budget","revenue","playlist","react_vk_umd_production_min_default","owner","react_vk_umd_production_min","ownerId","playlistId","hash","indicator","FeedBackCard_FeedBackCard","assign","DivBottom_DivBottom","dangerouslySetInnerHTML","__html","createQR","component","Forms_FeedBackForm","Future","futureList","searchRes","toLowerCase","indexOf","Active","activeList","Featured","list","films","Settings","_isMounted","connectPromise","notifications","is_allowed","event","multiline","asideContent","defaultChecked","Genre","Collection","cid","Collections","App","goBack","historyv","toConsumableArray","activePanel","filmhistory","pop","dataset","window","history","pushState","lol","push","additionalData","onStoryChange","story","fid","loading","info","hasError","onpopstate","preventDefault","split","isWebView","activeStory","tabbar","includes","selected","data-story","home_default","favorite_default","settings_default","panels_Featured","panels_Settings","Film_Film","onSwipeBack","panels_Home","panels_Future","panels_Active","panels_Collections","panels_Collection","panels_Genre","panels_Popular","updateToken","createBrowserHistory","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.af7a2d61.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/banner-1.be3b55c6.png\";","import React from 'react';\r\n\r\nexport default class RatingSpan extends React.Component{\r\n  render(){\r\n    return(\r\n      <span style={{\r\n        padding: '2px 10px',\r\n        borderRadius: 15,\r\n        backgroundColor: 'white',\r\n        position: 'absolute',\r\n        right: '20%',\r\n        top: '2%',\r\n        fontWeight: 'bold',\r\n        fontSize: 14\r\n      }}>\r\n        {this.props.rating}\r\n      </span>\r\n  )}\r\n\r\n}\r\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Panel, ListItem, Button, Group, Div, PanelHeader, Header, Link, HorizontalScroll, Avatar, Gallery } from '@vkontakte/vkui';\nimport banner1 from '../img/banner-1.png';\nimport RatingSpan from '../components/RatingSpan';\n\n\nconst itemStyle = {\n\tflexShrink: 0,\n\twidth: 130,\n\theight: 'auto',\n\tflexDirection: 'column',\n\talignItems: 'center',\n\tfontSize: 16,\n\tpaddingLeft: 4\n};\n\nconst collectionStyle = {\n\tflexShrink: 0,\n\twidth: \"80%\",\n\tmargin: \"auto\",\n\ttextAlign: \"center\",\n\tflexDirection: 'column',\n\talignItems: 'center',\n\tfontSize: 16,\n\tpaddingLeft: 4,\n\tbackground: '#f4f4f4',\n\tborderRadius: 6\n};\n\nconst imgStyle = {\n\twidth: 110,\n\theight: 150,\n\tborderRadius: 15\n};\n\nconst nameStyle = {\n\twidth: 100,\n\tmarginTop: 0,\n\tmarginBottom: 0,\n\tpadding: 3,\n\toverflow: 'hidden',\n\tdisplay: '-webkit-box',\n\tWebkitLineClamp: 2,\n\tWebkitBoxOrient: 'vertical'\n};\n\nconst genre = {\n\tcolor: \"grey\",\n\tfontSize: 14,\n};\n\nconst Home = ({collections, id, openFilm, activePreview, go, futurePreview, setid }) => (\n\n\n\t<Panel id={id}>\n\t\t<PanelHeader>Главная</PanelHeader>\n    <Gallery\n      slideWidth=\"100%\"\n      style={{ height: 150, borderRadius: 10, marginLeft: 15, marginRight: 15, marginTop: 15, marginBottom: 15 }}\n      bullets=\"dark\"\n\t\t\tautoplay={3000}\n    >\n\t\t<Link onClick={go} data-to=\"popular\"><img style={{height: 150, width:'100%'}} src={banner1}/></Link>\n    </Gallery>\n\t\t<Group style={{ paddingBottom: 8 }}>\n\t\t\t\t<Header level=\"2\" aside={<Link data-to='active' onClick={go}>Показать все</Link>}>\n\t\t\t\t\t\tСейчас в кино\n\t\t\t\t</Header>\n        <HorizontalScroll>\n          <div style={{ display: 'flex' }}>\n\t\t\t\t\t\t{\tactivePreview &&\n\t\t\t\t\t\t\tactivePreview.map(function(item, i){\n\t\t\t\t\t\t\t\treturn <Link onClick={openFilm} data-fid={item.tmdbId} data-to=\"film\" key={i} style={{ ...itemStyle }}>\n\t\t\t\t\t\t\t\t\t<div style={{position: 'relative'}}>\n\t\t\t\t\t\t\t\t\t\t{item.tmdbFullData.vote_average && <RatingSpan rating={item.tmdbFullData.vote_average}/>}\n\t\t\t              <img src={item.image} size={64} style={{...imgStyle, marginBottom: 8 }}></img>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{/*<p style={{...nameStyle, ...genre}}>{item.genre}</p>*/}\n\t\t\t\t\t\t\t\t\t<p style={nameStyle}>{item.title}</p>\n\t\t            </Link>\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n          </div>\n        </HorizontalScroll>\n      </Group>\n\t\t\t<Group style={{ paddingBottom: 8 }}>\n\t\t\t\t\t<Header level=\"2\" aside={<Link data-to='future' onClick={go}>Показать все</Link>}>\n\t\t\t\t\t\t\tСкоро в кино\n\t\t\t\t\t</Header>\n\t\t\t\t\t<HorizontalScroll>\n\t\t\t\t\t\t<div style={{ display: 'flex' }}>\n\t\t\t\t\t\t{\tfuturePreview &&\n\t\t\t\t\t\t\tfuturePreview.map(function(item, i){\n\t\t\t\t\t\t\t\treturn <Link onClick={openFilm} data-fid={item.tmdbId} data-to=\"film\" key={i} style={{ ...itemStyle }}>\n\t\t\t\t\t\t\t\t\t<div style={{display: 'relative'}}>\n\t\t\t\t\t\t\t\t\t\t<img src={item.image} size={64} style={{...imgStyle, marginBottom: 8 }}></img>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{/*<p style={{...nameStyle, ...genre}}>{item.genre}</p>*/}\n\t\t\t\t\t\t\t\t\t<p style={nameStyle}>{item.title}</p>\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</HorizontalScroll>\n\t\t\t\t</Group>\n\t\t\t\t<Group style={{ paddingBottom: 8 }}>\n\t\t\t\t\t\t<Header level=\"2\" aside={<Link data-to='collections' onClick={go}>Показать все</Link>}>\n\t\t\t\t\t\t\t\tКоллекции\n\t\t\t\t\t\t</Header>\n\t\t\t\t\t\t\t<div style={{ display: 'flex' }}>\n\t\t\t\t\t\t\t{\tcollections &&\n\t\t\t\t\t\t\t\tcollections.map(function(item, i){\n\t\t\t\t\t\t\t\t\treturn <div onClick={go} data-data={item._id} data-to=\"collection\" key={i} style={{ ...collectionStyle }}>\n\t\t\t\t\t\t\t\t\t\t{/*<p style={{...nameStyle, ...genre}}>{item.genre}</p>*/}\n\t\t\t\t\t\t\t\t\t\t<img style={{borderRadius: 3, marginTop: 20, width: 200, marginBottom: 8 }} src={item.image}/>\n\t\t\t\t\t\t\t\t\t\t<p style={{fontWeight: 'bold', color: \"#5a5a5a\"}}>{item.title}</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t</Group>\n\n\t</Panel>\n);\n\nexport default Home;\n","import React from 'react';\r\nimport TextTruncate from 'react-text-truncate';\r\n\r\nexport default class CenteredDiv extends React.Component{\r\n\r\n  render(){\r\n    return(\r\n      <div style={{\r\n        position: 'fixed',\r\n        top: \"50%\",\r\n        left: \"50%\",\r\n        transform: \"translate(-50%, -50%)\",\r\n        color: \"#656565\",\r\n        textAlign: \"center\"\r\n      }}>\r\n        {this.props.children}\r\n      </div>\r\n  )}\r\n\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default class FilmListElem extends React.Component{\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  s(n, text_forms){\r\n    n = Math.abs(n) % 100; var n1 = n % 10;\r\n    if (n > 10 && n < 20) { return text_forms[2]; }\r\n    if (n1 > 1 && n1 < 5) { return text_forms[1]; }\r\n    if (n1 == 1) { return text_forms[0]; }\r\n    return text_forms[2];\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <div data-fid={this.props.datafid} onClick={this.props.onClick} style={{padding: '10px', gridGap: \"20px\", display: 'grid', gridTemplateColumns: '23% 60%'}}>\r\n        <img style={{width:\"100%\", marginRight: 10, verticalAlign: 'top', borderRadius: 10}} src={this.props.image}/>\r\n        <div>\r\n          <div style={{verticalAlign: 'top', fontWeight: 'bold', fontSize: 16}}>\r\n            {this.props.title}\r\n          </div>\r\n          {this.props.popularCount &&\r\n            <div style={{fontSize: 14, color: 'grey'}}>{this.props.popularCount} {this.s(this.props.popularCount, ['друг хочет', 'друга хотят', 'друзей хотят'])} пойти на этот фильм</div>\r\n          }\r\n        </div>\r\n      </div>\r\n  )}\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Panel, PanelHeader, HeaderButton, platform, IOS, Spinner, Button} from '@vkontakte/vkui';\r\nimport connect from '@vkontakte/vkui-connect';\r\n\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\n\r\nimport CenteredDiv from '../components/CenteredDiv';\r\nimport FilmListElem from '../components/FilmListElem';\r\n\r\nconst osname = platform();\r\n\r\nclass Popular extends React.Component {\r\n  constructor(props) {\r\n\t\tsuper(props);\r\n    this.state = {\r\n      error: false,\r\n      response: [],\r\n    }\r\n\t}\r\n\r\n  componentDidMount() {\r\n\r\n    connect.subscribe((e) => {\r\n      switch (e.detail.type) {\r\n        case 'VKWebAppAccessTokenReceived':\r\n          this.setState({ tokenWithScope: e.detail.data, error: false });\r\n          connect.send(\"VKWebAppCallAPIMethod\", {\"method\": \"friends.getAppUsers\", \"params\": {\"v\": 5.95, \"access_token\":e.detail.data.access_token}});\r\n          break;\r\n\r\n        case 'VKWebAppCallAPIMethodResult':\r\n          if(this.state.loaded) break;\r\n          var friends = e.detail.data.response;\r\n          fetch('https://cinema.voloshinskii.ru/popular/friends', {\r\n            method: 'POST',\r\n            headers: {\r\n              'Accept': 'application/json',\r\n              'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({friends: friends})\r\n          }).then(res => res.json())\r\n            .then(json => this.setState({ response: Object.values(json.result), loaded: true }))\r\n          break;\r\n\r\n      }\r\n    });\r\n\r\n    if (!this.props.token || this.props.token.scope.search(\"friends\") === -1){\r\n      this.setState({error: true})\r\n      connect.send(\"VKWebAppGetAuthToken\", {\"app_id\": 6977050, \"scope\": \"friends\"});\r\n    }\r\n    else{\r\n      connect.send(\"VKWebAppCallAPIMethod\", {\"method\": \"friends.getAppUsers\", \"params\": {\"v\": 5.95, \"access_token\":this.props.token.access_token}});\r\n    }\r\n  }\r\n\r\n  share(){\r\n    connect.send(\"VKWebAppTapticImpactOccurred\", {\"style\": \"light\"});\r\n    connect.send(\"VKWebAppShare\");\r\n  }\r\n\r\n\trender() {\r\n\t\treturn (\r\n      <Panel theme=\"white\" id={this.props.id}>\r\n    \t\t<PanelHeader\r\n    \t\t\tleft={<HeaderButton onClick={this.props.go} data-to=\"home\">\r\n    \t\t\t\t{osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n    \t\t\t</HeaderButton>}\r\n    \t\t>\r\n    \t\t\tПопулярное\r\n    \t\t</PanelHeader>\r\n        {!this.state.error && !this.state.loaded && <Spinner size=\"large\" style={{marginTop: 30}}/>}\r\n        {this.state.error && <CenteredDiv>Для работы приложению необходимо иметь доступ к списку Ваших друзей</CenteredDiv>}\r\n        {!this.state.error && this.state.loaded && this.state.response.length == 0 &&\r\n          <CenteredDiv>\r\n            <span>Ни один из Ваших друзей ещё не пользуется нашим сервисом. Но это можно легко исправить!</span>\r\n            <Button onClick={this.share} size=\"xl\" style={{width:\"90%\", margin: \"auto\"}} level=\"secondary\">Давайте!</Button>\r\n          </CenteredDiv>\r\n        }\r\n        {!this.state.error && this.state.loaded && this.state.response.length > 0 && <div style={{paddingTop: '10px'}}>{this.state.response.map(item =>{\r\n          return <FilmListElem data-fid={item.data.tmdbId} datafid={item.data.tmdbId} onClick={this.props.openFilm} popularCount={item.count} key={item.data._id} title={item.data.title} image={item.data.image}/>\r\n        })}</div>}\r\n\r\n    \t</Panel>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Popular;\r\n","const settings = {\r\n  image_url:  'https://image.tmdb.org/t/p/original',\r\n  server_url: 'https://cinema.voloshinskii.ru'\r\n};\r\n\r\nexport default settings;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default class ClickImage extends React.Component{\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <div style={{position: 'relative'}}>\r\n      {this.props.back == 'https://image.tmdb.org/t/p/originalnull' && <img src=\"https://image.tmdb.org/t/p/original/pKDVywMKjM7TeU739z7cR9wu9Sf.jpg\" style={{width: '100%', filter: 'blur(15px)'}}/>}\r\n      {this.props.back != 'https://image.tmdb.org/t/p/originalnull' &&<img src={this.props.back} style={{width: '100%', filter: 'blur(2.2px)'}}/>}\r\n        <div style={{position: 'absolute', top: 0, left: 0, width: '100%', height: '101%', backgroundColor: 'rgba(0, 0, 0, 0.40)'}}>\r\n          <img\r\n            src={this.props.front}\r\n            style={{\r\n              width: '27%',\r\n              position: 'absolute',\r\n              bottom: '-5%',\r\n              left: '8%',\r\n              borderRadius: 10,\r\n              boxShadow: '0 12px 30px 0 rgba(35,39,42,.4)',\r\n              zIndex: 1000\r\n            }}\r\n          />\r\n          <span style={{\r\n            position: 'absolute',\r\n            top: '40%',\r\n            left: '40%',\r\n            color: 'white',\r\n            fontWeight: 'bold',\r\n            fontSize: 19\r\n          }}>\r\n            {this.props.title}\r\n          </span>\r\n        </div>\r\n      </div>\r\n  )}\r\n\r\n}\r\n\r\nClickImage.propTypes = {\r\n\tback: PropTypes.string.isRequired,\r\n  front: PropTypes.string.isRequired,\r\n  title: PropTypes.string.isRequired,\r\n};\r\n","import React from 'react';\r\nimport TextTruncate from 'react-text-truncate';\r\n\r\nexport default class CustomTruncate extends React.Component{\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      expanded: false\r\n    }\r\n    this.expand = this.expand.bind(this);\r\n  }\r\n\r\n  expand(){\r\n    var expand = !(this.state.expanded);\r\n    this.setState({expanded: expand});\r\n    console.log(this.state.expanded);\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <TextTruncate\r\n        line={this.state.expanded ? 9999999999 : 4}\r\n        truncateText={this.state.expanded ? '' : '...'}\r\n        text={this.props.text}\r\n        textTruncateChild={<a style={{color: '#528bcc'}} onClick={this.expand}>Показать больше</a>}\r\n      />\r\n  )}\r\n\r\n}\r\n","import React from 'react';\r\nimport TextTruncate from 'react-text-truncate';\r\nimport {Group, Div} from '@vkontakte/vkui';\r\n\r\nimport Icon24Cancel from '@vkontakte/icons/dist/24/cancel';\r\n\r\nexport default class DivBottom extends React.Component{\r\n\r\n  render(){\r\n    return(\r\n      <div>\r\n        <div onClick={this.props.onClose} style={{position: 'fixed', zIndex: '1999', background: 'rgba(0, 0, 0, 0.55)', width: '100%', height: '100%', bottom: 0}}/>\r\n        <div style={{\r\n          maxHeight:'89%',\r\n          overflowY: 'scroll',\r\n          position: 'fixed',\r\n          bottom: 0,\r\n          borderRadius: \"20px 20px 0 0\",\r\n          background: 'white',\r\n          width: '100%',\r\n          zIndex: '2000',\r\n          paddingBottom: '30px'\r\n        }}>\r\n\r\n          <div style={{display: 'relative', textAlign: 'center', fontWeight: 'bold', margin: '20px 0'}}>\r\n              {this.props.title}\r\n              <span style={{padding: 3, borderRadius: '50%', background: '#ebeef1', position: 'absolute', top: '15px', right: '20px'}}><Icon24Cancel onClick={this.props.onClose} style={{color: '#828a96'}}/></span>\r\n              <div style={{marginTop: '15px', borderBottom: '1px solid #d7d8d9'}}/>\r\n          </div>\r\n          {this.props.children}\r\n        </div>\r\n      </div>\r\n  )}\r\n\r\n}\r\n","import React from 'react';\r\nimport {FormLayout, Input, FormLayoutGroup, Select, Radio, Textarea, Checkbox, Link, Button, Slider, Div, FormStatus} from '@vkontakte/vkui';\r\nimport connect from '@vkontakte/vkui-connect';\r\n\r\nexport class FeedBackForm extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      text: '',\r\n      rate: 0,\r\n      anon: false\r\n    }\r\n    this.submit = this.submit.bind(this);\r\n    this.onChange = this.onChange.bind(this);\r\n    this.anonF = this.anonF.bind(this);\r\n    this.changeRate = this.changeRate.bind(this);\r\n  }\r\n\r\n  onChange(e) {\r\n    const { name, value } = e.currentTarget;\r\n    this.setState({ [name]: value });\r\n  }\r\n\r\n  anonF(){\r\n    connect.send(\"VKWebAppTapticImpactOccurred\", {\"style\": \"heavy\"});\r\n    var val = !this.state.anon;\r\n    this.setState({anon: val});\r\n  }\r\n\r\n  submit(){\r\n    fetch('https://cinema.voloshinskii.ru/feedback/post', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({filmId: this.props.filmid, token: this.props.token, ...this.state})\r\n    })\r\n    connect.send(\"VKWebAppTapticNotificationOccurred\", {\"type\": \"success\"});\r\n    this.props.close();\r\n  }\r\n\r\n  changeRate(rate){\r\n    if(rate.rate != this.state.rate) connect.send(\"VKWebAppTapticImpactOccurred\", {\"style\": \"medium\"});\r\n    this.setState({rate: rate.rate});\r\n  }\r\n\r\n  render() {\r\n    const rateList = [\"без оценки\", \"🤬 (1)\", \"🤮 (2)\", \"🤢 (3)\", \"😟 (4)\", \"😕 (5)\", \"😐 (6)\", \"🙂 (7)\", \"😃 (8)\", \"👍 (9)\", \"😍 (10)\"];\r\n    return (\r\n          <FormLayout>\r\n            <FormStatus title=\"Модерация\">\r\n              Ваш отзыв будет опубликован сразу же после прохождения модерации. Обычно она занимает не более часа\r\n            </FormStatus>\r\n            <Textarea\r\n                type=\"text\"\r\n                top=\"Отзыв\"\r\n                name=\"feedback\"\r\n                onChange={this.onChange}\r\n                placeholder=\"Напиши всё, что думаешь об этом фильме. В рамках приличия, конечно же\"\r\n            />\r\n            <Slider\r\n                min={0}\r\n                max={10}\r\n                onChange={rate => this.changeRate({rate})}\r\n                top={`Ваша оценка: ${rateList[this.state.rate]}`}\r\n                step={1}\r\n              />\r\n            <Checkbox\r\n              name=\"anon\"\r\n              onClick={this.anonF}\r\n            >\r\n              Анонимно\r\n            </Checkbox>\r\n            <Button size=\"xl\" onClick={this.submit}>Опубликовать</Button>\r\n          </FormLayout>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport {Cell, Avatar, Div, Group, Link} from '@vkontakte/vkui';\r\nimport connect from '@vkontakte/vkui-connect-promise';\r\nimport Icon28User from '@vkontakte/icons/dist/28/user';\r\n\r\nexport default class FeedBackCard extends React.Component{\r\n  constructor(props) {\r\n    super(props);\r\n    this.renderPreparedUser = this.renderPreparedUser.bind(this);\r\n    this.renderUser = this.renderUser.bind(this);\r\n    this.state = {\r\n      user: null\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n\r\n    if(!this.props.user.user){\r\n      connect.send(\"VKWebAppCallAPIMethod\", {\"method\": \"users.get\", \"params\": {\"fields\": \"photo_50\", \"user_ids\": this.props.user.vkId, \"v\":\"5.95\", \"access_token\":this.props.token}})\r\n      .then(data => this.setState({user: data.data.response[0]}))\r\n      .catch(() => this.setState({user: {id: 0, first_name: 'Приватный', last_name: 'аккаунт', photo_50: 'https://sun1-19.userapi.com/c847124/v847124728/335f9/8POFsScEtc8.jpg?ava=1'}}))\r\n    }\r\n  }\r\n\r\n  renderPreparedUser(rateList){\r\n    return(\r\n      <div>\r\n        <Cell description={rateList[this.props.rate]} before={<Avatar><Icon28User/></Avatar>}>\r\n          {this.props.user.user.first_name} {this.props.user.user.last_name}\r\n        </Cell>\r\n        <p style={{padding: \"0 12px\"}}>{this.props.text}</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderUser(rateList){\r\n    return(\r\n      <div>\r\n        <Cell description={rateList[this.props.rate]} before={<Avatar src={this.state.user.photo_50}/>}>\r\n          <Link style={{color: 'black'}} href={`https://vk.com/id${this.state.user.id}`}>{this.state.user.first_name} {this.state.user.last_name}</Link>\r\n        </Cell>\r\n        <p style={{padding: \"0 12px\"}}>{this.props.text}</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render(){\r\n    const rateList = [\"без оценки\", \"🤬 (1)\", \"🤮 (2)\", \"🤢 (3)\", \"😟 (4)\", \"😕 (5)\", \"😐 (6)\", \"🙂 (7)\", \"😃 (8)\", \"👍 (9)\", \"😍 (10)\"];\r\n    return(\r\n      <Group>\r\n        <Div>\r\n          {this.props.user.user && this.renderPreparedUser(rateList)}\r\n          {this.state.user && this.renderUser(rateList)}\r\n        </Div>\r\n      </Group>\r\n  )}\r\n\r\n}\r\n","import React from 'react';\r\nimport {Group, Link, HorizontalScroll} from '@vkontakte/vkui';\r\n\r\nexport default class GenresRender extends React.Component{\r\n\r\n  capitalizeFirstLetter(string) {\r\n    return string.charAt(0).toUpperCase() + string.slice(1);\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <div style={{marginTop: '15px'}}>\r\n        <HorizontalScroll style={{overflow: 'unset'}}>\r\n          <div style={{ display: 'flex', paddingLeft: '10px'}}>\r\n            {this.props.genres.map(item => {\r\n              return <div key={item.id} style={itemStyle}><div onClick={this.props.go} data-to={this.props.to} data-search={item.id} key={item.id} style={genreStyle}>{this.capitalizeFirstLetter(item.name)}</div></div>\r\n            })}\r\n          </div>\r\n        </HorizontalScroll>\r\n      </div>\r\n  )}\r\n\r\n}\r\n\r\nconst itemStyle = {\r\n  flexShrink: 0,\r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n  alignItems: 'center',\r\n};\r\n\r\nconst genreStyle = {\r\n  display: 'inline-block',\r\n\tbackgroundColor: '#f7f7f7',\r\n  padding: '12px 20px',\r\n  marginRight: '10px',\r\n  color: 'grey',\r\n  fontSize: 17,\r\n  fontWeight: 'bold',\r\n  borderRadius: 20,\r\n};\r\n","import React from 'react';\r\nimport {Panel, PanelHeader, HeaderButton, platform, IOS, Group, Button, Header, Div, InfoRow, List, Cell, Spinner, Counter, Link} from '@vkontakte/vkui';\r\nimport qr from '@vkontakte/vk-qr';\r\n\r\nimport settings from '../constants.js';\r\nimport connect from '@vkontakte/vkui-connect-promise';\r\nimport VK, { Playlist } from \"react-vk\";\r\n\r\n\r\nimport Icon24Qr from '@vkontakte/icons/dist/24/qr';\r\nimport Icon24Info from '@vkontakte/icons/dist/24/info';\r\nimport Icon24Like from '@vkontakte/icons/dist/24/like';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\nimport Icon24LogoLivejournal from '@vkontakte/icons/dist/24/logo_livejournal';\r\n\r\nimport ClickImage from '../components/ClickImage';\r\nimport CustomTruncate from '../components/CustomTruncate';\r\nimport DivBottom from '../components/DivBottom';\r\nimport {FeedBackForm} from '../components/Forms';\r\nimport FeedBackCard from '../components/FeedBackCard';\r\nimport {Genres} from '../components/Exporter';\r\n\r\nconst osname = platform();\r\n\r\n\r\nexport default class Film extends React.Component{\r\n  constructor(props) {\r\n\t\tsuper(props);\r\n\r\n    this.state = {\r\n      qr: false,\r\n      feedBack: false\r\n    }\r\n\r\n    this.watch = this.watch.bind(this);\r\n    this.QRModal = this.QRModal.bind(this);\r\n    this.feedBackModal = this.feedBackModal.bind(this);\r\n\t}\r\n\r\n  componentDidMount(){\r\n    connect.send('VKWebAppDisableSwipeBack');\r\n    connect.send(\"VKWebAppSetLocation\", {\"location\": `film_${this.props.filmid}`});\r\n  }\r\n\r\n  watch(token, filmid){\r\n    if(token){\r\n      connect.send(\"VKWebAppTapticNotificationOccurred\", {\"type\": \"success\"});\r\n      if(!this.props.currentFilm.going){\r\n      this.props.currentFilm.watch++;\r\n      fetch(`https://cinema.voloshinskii.ru/watch?token=${token}&filmId=${filmid}`)\r\n        .then(res => res.json())\r\n      }\r\n      else{\r\n        this.props.currentFilm.watch--;\r\n        fetch(`https://cinema.voloshinskii.ru/unwatch?token=${token}&filmId=${filmid}`)\r\n          .then(res => res.json())\r\n      }\r\n      this.props.currentFilm.going = !this.props.currentFilm.going;\r\n      this.setState({going: this.props.currentFilm.going});\r\n    }\r\n    else{\r\n      connect.send(\"VKWebAppGetAuthToken\", {\"app_id\": 6977050, \"scope\": \"\"}).then(data => {\r\n        this.watch(data.data.access_token, this.props.currentFilm._id);\r\n        this.props.authToken = data.data.access_token;\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n  share(filmid){\r\n    connect.send(\"VKWebAppTapticImpactOccurred\", {\"style\": \"light\"});\r\n      connect.send(\"VKWebAppShowWallPostBox\", {\"message\": `https://vk.com/app6977050#film_${filmid}`});\r\n  }\r\n\r\n  QRModal(){\r\n    var value = !this.state.qr;\r\n    if(value){\r\n      connect.send('VKWebAppDisableSwipeBack');\r\n    }\r\n    else{\r\n      connect.send('VKWebAppEnableSwipeBack');\r\n    }\r\n\r\n    this.setState({qr: value});\r\n  }\r\n\r\n  feedBackModal(){\r\n    var value = !this.state.feedBack;\r\n    if(value){\r\n      connect.send('VKWebAppDisableSwipeBack');\r\n    }\r\n    else{\r\n      connect.send('VKWebAppEnableSwipeBack');\r\n    }\r\n\r\n    this.setState({feedBack: value});\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <Panel id={this.props.id}>\r\n    \t\t<PanelHeader\r\n    \t\t\tleft={<HeaderButton onClick={this.props.go} data-to=\"home\">\r\n    \t\t\t\t{osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n    \t\t\t</HeaderButton>}\r\n    \t\t>\r\n    \t\t\tФильм\r\n    \t\t</PanelHeader>\r\n        <div style={{background: 'white'}}>\r\n            {!this.props.currentFilm && <div style={{zIndex: 10000, position: 'absolute', background: 'white', top: 0, width: '100%', height: '100%'}}><Spinner size=\"large\" style={{marginTop: 30}}/></div>}\r\n            {this.props.currentFilm &&\r\n              <ClickImage back={settings.image_url + this.props.currentFilm.tmdbFullData.backdrop_path}\r\n                          front={this.props.currentFilm.image}\r\n                          title={this.props.currentFilm.title}\r\n              />\r\n            }\r\n            <Group style={{marginTop: 0, overflow: 'auto'}}>\r\n              <Div>\r\n                {this.props.currentFilm && this.props.currentFilm.tmdbFullData.vote_average > 0 &&\r\n                  <InfoRow style={{display: 'inline-block'}} title='Рейтинг'>\r\n                    <span style={{color: '#528bcc', fontWeight: 'bold', fontSize: 20}}>\r\n                      {this.props.currentFilm.tmdbFullData.vote_average}\r\n                    </span>\r\n                  </InfoRow>\r\n                }\r\n\r\n                {this.props.currentFilm && this.props.currentFilm.tmdbFullData.runtime > 0 &&\r\n                  <InfoRow style={{display: 'inline-block', float: 'right'}} title='Продолжительность'>\r\n                    <span style={{color: 'grey', fontWeight: 'bold', fontSize: 20}}>\r\n                      {this.props.currentFilm.tmdbFullData.runtime} мин\r\n                    </span>\r\n                  </InfoRow>\r\n                }\r\n              </Div>\r\n            </Group>\r\n\r\n            <Div>\r\n              {this.props.currentFilm && this.props.currentFilm.tmdbFullData.overview &&\r\n                <CustomTruncate\r\n                  text={this.props.currentFilm.tmdbFullData.overview}\r\n                />\r\n              }\r\n            </Div>\r\n\r\n            <div style={{width: '95%', margin: 'auto', display: 'flex', flexDirection: 'row', justifyContent: 'space-between'}}>\r\n              {this.props.currentFilm && !this.props.currentFilm.going && <Button size=\"xl\" style={{width: '100%', display: \"inline-block\", marginRight:'2%'}} level=\"primary\" onClick={() => { this.watch(this.props.authToken, this.props.currentFilm._id) }}>Иду на фильм</Button>}\r\n              {this.props.currentFilm && this.props.currentFilm.going && <Button size=\"xl\" style={{width: '100%', display: \"inline-block\",  marginRight:'2%'}} level=\"primary\" onClick={() => {  this.watch(this.props.authToken, this.props.currentFilm._id) }}>Удалить из списка</Button>}\r\n              {this.props.currentFilm && <Button size=\"xl\" onClick={this.QRModal} style={{width:\"18%\", display: \"inline-block\"}} level=\"secondary\"><Icon24Qr/></Button>}\r\n              {this.props.currentFilm && this.props.authToken && new Date(this.props.currentFilm.date) < new Date() && <Button size=\"xl\" onClick={this.feedBackModal} style={{width:\"18%\", display: \"inline-block\", marginLeft:'2%'}} level=\"secondary\"><Icon24LogoLivejournal/></Button>}\r\n            </div>\r\n\r\n            <Group>\r\n              <Div style={{display: 'flex', justifyContent: 'space-between', flexDirection: 'row' }}>\r\n                {this.props.currentFilm && this.props.currentFilm.watch > 0 &&\r\n                  <InfoRow style={{display: 'inline-block', textAlign: 'center'}} title='Посмотрят'>\r\n                    <span style={{color: 'grey', fontWeight: 'bold', fontSize: 20}}>\r\n                      {this.props.currentFilm.watch}\r\n                    </span>\r\n                  </InfoRow>\r\n                }\r\n                {this.props.currentFilm && this.props.currentFilm.feedbacks &&\r\n                  <InfoRow style={{display: 'inline-block', textAlign: 'center'}} title='Отзывы'>\r\n                    <span style={{color: 'grey', fontWeight: 'bold', fontSize: 20}}>\r\n                      {this.props.currentFilm.feedbacks.length}\r\n                    </span>\r\n                  </InfoRow>\r\n                }\r\n              </Div>\r\n            </Group>\r\n            {this.props.currentFilm && this.props.currentFilm.tmdbFullData.genres && <Genres to=\"genre\" go={this.props.go} data-to=\"genre\" genres={this.props.currentFilm.tmdbFullData.genres}/>}\r\n          </div>\r\n\r\n          {this.props.currentFilm && this.props.currentFilm.video && <Group title='Трейлер' style={{marginTop: '30px'}}>\r\n            <iframe width=\"100%\" height=\"204\" style={{margin:'auto'}} src={`https://www.youtube.com/embed/${this.props.currentFilm.video}`} frameBorder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowFullScreen/>\r\n          </Group>\r\n          }\r\n\r\n          <Group>\r\n            <Div>\r\n              {this.props.currentFilm && (this.props.currentFilm.tmdbFullData.release_date) && <InfoRow title='Премьера'>{new Date(this.props.currentFilm.tmdbFullData.release_date).toLocaleString('ru', {year: 'numeric',month: 'long',day: 'numeric'})}</InfoRow>}\r\n            </Div>\r\n            <Div>\r\n              {this.props.currentFilm && (this.props.currentFilm.tmdbFullData.budget > 0) && <InfoRow title='Общий бюджет'>{this.props.currentFilm.tmdbFullData.budget.toLocaleString('ru')}$</InfoRow>}\r\n            </Div>\r\n            <Div>\r\n              {this.props.currentFilm && (this.props.currentFilm.tmdbFullData.revenue > 0) && <InfoRow title='Сборы'>{this.props.currentFilm.tmdbFullData.revenue.toLocaleString('ru')}$</InfoRow>}\r\n            </Div>\r\n          </Group>\r\n\r\n          {this.props.currentFilm && this.props.currentFilm.playlist &&\r\n            <Group title='Плейлист'>\r\n              <Div>\r\n                <VK>\r\n                  <Link href={`https://vk.com/audio?z=audio_playlist-${this.props.currentFilm.playlist.owner}_${this.props.currentFilm.playlist.playlist}`}>\r\n                  <Playlist ownerId={this.props.currentFilm.playlist.owner}\r\n                            playlistId={this.props.currentFilm.playlist.playlist}\r\n                            hash={this.props.currentFilm.playlist.hash}\r\n                  />\r\n                  </Link>\r\n                </VK>\r\n              </Div>\r\n            </Group>\r\n          }\r\n\r\n\r\n          {this.props.currentFilm && this.props.currentFilm.feedbacks.length > 0 &&\r\n            <div>\r\n            <Group style={{marginTop: \"40px\"}}>\r\n               <Header level=\"2\" indicator={<Counter>{this.props.currentFilm.feedbacks.length}</Counter>}>\r\n                 Отзывы\r\n               </Header>\r\n             </Group>\r\n            {this.props.currentFilm.feedbacks.map(item =>{\r\n              return <FeedBackCard token={this.props.authToken} key={item._id}{...item}/>\r\n            })}\r\n            </div>\r\n          }\r\n\r\n          { this.props.currentFilm && this.state.qr &&\r\n            <DivBottom title='Поделиться фильмом' onClose={this.QRModal}>\r\n            <Div>\r\n              <InfoRow><div style={{width: '256px', margin: 'auto', marginBottom: '10px'}} dangerouslySetInnerHTML={{__html: qr.createQR(`https://vk.com/app6977050#film_${this.props.currentFilm.tmdbId}`, 256, 'qr-code-class', true)}}/></InfoRow>\r\n              <div style={{width: '256px', margin: 'auto', textAlign: 'center', color: 'grey', marginBottom: '20px'}}>Вы можете поделиться данной станицей со своими друзьями. При наведении на QR-код откроется данная страница</div>\r\n              <div style={{width: '90%', margin: 'auto', display: 'flex', flexDirection: 'column'}}>\r\n                <Button size=\"xl\" style={{width:\"100%\", marginBottom: '10px'}} level=\"primary\" onClick={() => { this.share(this.props.currentFilm.tmdbId) }}>Поделиться</Button>\r\n                <Button size=\"xl\" style={{width:\"100%\"}} component=\"a\" href=\"https://vk.com/wall-58810575_52712\" level=\"secondary\">Как сканировать?</Button>\r\n              </div>\r\n            </Div>\r\n            </DivBottom>\r\n          }\r\n\r\n          { this.props.currentFilm && this.state.feedBack &&\r\n            <DivBottom title='Написать отзыв' onClose={this.feedBackModal}>\r\n              <FeedBackForm filmid={this.props.currentFilm._id} close={this.feedBackModal} token={this.props.authToken}/>\r\n            </DivBottom>\r\n          }\r\n      </Panel>\r\n  )}\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Panel, PanelHeader, HeaderButton, platform, IOS, Search, List, Cell, Spinner} from '@vkontakte/vkui';\r\n\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\nimport {CenteredDiv} from '../components/Exporter';\r\n\r\nconst osname = platform();\r\n\r\nclass Future extends React.Component {\r\n  constructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n      search: '',\r\n\t\t\tfutureList: [],\r\n\r\n\t\t};\r\n    this.onChange = this.onChange.bind(this);\r\n    this.searchRes = this.searchRes.bind(this);\r\n\t}\r\n\r\n  onChange (search) { this.setState({ search }); }\r\n\r\n  searchRes() {\r\n      const search = this.state.search.toLowerCase();\r\n      return this.state.futureList.filter(({title}) => title.toLowerCase().indexOf(search) > -1);\r\n    }\r\n\r\n  componentDidMount(){\r\n    fetch(`https://cinema.voloshinskii.ru/future/preview?limit=10000`)\r\n      .then(res => res.json())\r\n      .then(json => this.setState({ futureList: json }));\r\n  }\r\n\r\n\trender() {\r\n\t\treturn (\r\n      <Panel id={this.props.id}>\r\n    \t\t<PanelHeader\r\n    \t\t\tleft={<HeaderButton onClick={this.props.go} data-to=\"home\">\r\n    \t\t\t\t{osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n    \t\t\t</HeaderButton>}\r\n    \t\t>\r\n    \t\t\tСкоро в кино\r\n    \t\t</PanelHeader>\r\n        <Search value={this.state.search} onChange={this.onChange}/>\r\n        {this.state.futureList.length == 0 && <Spinner size=\"large\" style={{marginTop: 30}}/>}\r\n        {this.state.futureList.length > 0 &&\r\n          <List>\r\n            {this.searchRes().length === 0 && <CenteredDiv>Поиск не дал результатов</CenteredDiv>}\r\n            {this.searchRes().map(item => <Cell data-fid={item.tmdbId} key={item.tmdbId} onClick={this.props.openFilm}>{item.title}</Cell>)}\r\n          </List>\r\n        }\r\n    \t</Panel>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Future;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Panel, PanelHeader, HeaderButton, platform, IOS, Search, List, Cell, Spinner} from '@vkontakte/vkui';\r\n\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\nimport {CenteredDiv} from '../components/Exporter';\r\n\r\nconst osname = platform();\r\n\r\nclass Active extends React.Component {\r\n  constructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n      search: '',\r\n\t\t\tactiveList: [],\r\n\r\n\t\t};\r\n    this.onChange = this.onChange.bind(this);\r\n    this.searchRes = this.searchRes.bind(this);\r\n\t}\r\n\r\n  onChange (search) { this.setState({ search }); }\r\n\r\n  searchRes() {\r\n      const search = this.state.search.toLowerCase();\r\n      return this.state.activeList.filter(({title}) => title.toLowerCase().indexOf(search) > -1);\r\n    }\r\n\r\n  componentDidMount(){\r\n    fetch(`https://cinema.voloshinskii.ru/active/preview?limit=10000`)\r\n      .then(res => res.json())\r\n      .then(json => this.setState({ activeList: json }));\r\n  }\r\n\r\n\trender() {\r\n\t\treturn (\r\n      <Panel id={this.props.id}>\r\n    \t\t<PanelHeader\r\n    \t\t\tleft={<HeaderButton onClick={this.props.go} data-to=\"home\">\r\n    \t\t\t\t{osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n    \t\t\t</HeaderButton>}\r\n    \t\t>\r\n    \t\t\tСейчас в кино\r\n    \t\t</PanelHeader>\r\n        <Search value={this.state.search} onChange={this.onChange}/>\r\n        {this.state.activeList.length == 0 && <Spinner size=\"large\" style={{marginTop: 30}}/>}\r\n        {this.state.activeList.length > 0 &&\r\n          <List>\r\n            {this.searchRes().length === 0 && <CenteredDiv>Поиск не дал результатов</CenteredDiv>}\r\n            {this.searchRes().map(item => <Cell data-fid={item.tmdbId} key={item.tmdbId} onClick={this.props.openFilm}>{item.title}</Cell>)}\r\n          </List>\r\n        }\r\n    \t</Panel>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Active;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Panel, PanelHeader, HeaderButton, platform, IOS, Search, List, Cell, Spinner} from '@vkontakte/vkui';\r\nimport connect from '@vkontakte/vkui-connect';\r\n\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\n\r\nimport CenteredDiv from '../components/CenteredDiv';\r\nimport FilmListElem from '../components/FilmListElem';\r\n\r\nconst osname = platform();\r\n\r\nclass Featured extends React.Component {\r\n  constructor(props) {\r\n\t\tsuper(props);\r\n    this.state = {\r\n      list: [],\r\n      loaded: false\r\n    }\r\n\t}\r\n\r\n  componentDidMount(){\r\n\r\n    connect.subscribe((e) => {\r\n      switch (e.detail.type) {\r\n        case 'VKWebAppAccessTokenReceived':\r\n          this.setState({ tokenWithScope: e.detail.data, error: false });\r\n          fetch(`https://cinema.voloshinskii.ru/user/getwishlist?token=${e.detail.data.access_token}`)\r\n            .then(res => res.json())\r\n            .then(json => this.setState({ list: json.user && json.user.films, loaded: true }));\r\n          break;\r\n      }\r\n    });\r\n\r\n    if (this.props.token){\r\n      fetch(`https://cinema.voloshinskii.ru/user/getwishlist?token=${this.props.token}`)\r\n        .then(res => res.json())\r\n        .then(json => this.setState({ list: json.user && json.user.films, loaded: true }));\r\n    }\r\n    else{\r\n      this.setState({error: true});\r\n      connect.send(\"VKWebAppGetAuthToken\", {\"app_id\": 6977050, \"scope\": \"\"});\r\n    }\r\n  }\r\n\r\n\r\n\trender() {\r\n\t\treturn (\r\n      <Panel theme=\"white\" id={this.props.id}>\r\n    \t\t<PanelHeader>\r\n    \t\t\tМой список\r\n    \t\t</PanelHeader>\r\n        {this.state.error && <CenteredDiv>Для работы приложению необходимо иметь доступ к Вашему профилю</CenteredDiv>}\r\n        {!this.state.error && !this.state.loaded && <Spinner size=\"large\" style={{marginTop: 30}}/>}\r\n        {!this.state.error && this.state.loaded && this.state.list.length == 0 &&\r\n        <CenteredDiv>В Вашем списке пока что нет ни одного фильма</CenteredDiv>}\r\n        {this.state.list && this.state.list.length > 0 && <div style={{paddingTop: '10px'}}>{this.state.list.map(item =>{\r\n          return <FilmListElem datafid={item.tmdbId} data-fid={item.tmdbId} onClick={this.props.openFilm} key={item._id} title={item.title} image={item.image}/>\r\n        })}</div>}\r\n    \t</Panel>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Featured;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Panel, PanelHeader, HeaderButton, platform, IOS, Spinner, Button, Group, Div, List, Cell, Switch} from '@vkontakte/vkui';\r\nimport connect from '@vkontakte/vkui-connect';\r\nimport connectPromise from '@vkontakte/vkui-connect-promise';\r\n\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\n\r\nconst osname = platform();\r\n\r\nclass Settings extends React.Component {\r\n  constructor(props) {\r\n\t\tsuper(props);\r\n    this.state = {\r\n      loaded: false\r\n    }\r\n    this._isMounted = false;\r\n    this.subscribe = this.subscribe.bind(this);\r\n\t}\r\n\r\n  componentDidMount() {\r\n    this._isMounted = true;\r\n\r\n    if (!this.props.token){\r\n      connectPromise.send(\"VKWebAppGetAuthToken\", {\"app_id\": 6977050, \"scope\": \"\"}).then(data => {\r\n        console.log(data);\r\n        this.setState({ tokenWithScope: data.data, error: false });\r\n        this.props.token = data.data.access_token;\r\n      });\r\n    }\r\n\r\n    else{\r\n      connect.send(\"VKWebAppCallAPIMethod\", {\"method\": \"apps.isNotificationsAllowed\", \"params\": {\"v\":\"5.95\", \"access_token\":this.props.token}});\r\n    }\r\n\r\n    connect.subscribe((e) => {\r\n      switch (e.detail.type) {\r\n\r\n        case 'VKWebAppCallAPIMethodResult':\r\n          this._isMounted && this.setState({notifications: e.detail.data.response.is_allowed})\r\n          break;\r\n\r\n        case 'VKWebAppAllowNotificationsResult':\r\n          if(e.detail.data.result){\r\n            connect.send(\"VKWebAppTapticNotificationOccurred\", {\"type\": \"success\"});\r\n            fetch(`https://cinema.voloshinskii.ru/user/subscribe?token=${this.props.token}`)\r\n            this._isMounted && this.setState({notifications: true});\r\n          }\r\n            break;\r\n\r\n        case 'VKWebAppDenyNotificationsResult':\r\n          fetch(`https://cinema.voloshinskii.ru/user/unsubscribe?token=${this.props.token}`)\r\n          this._isMounted && this.setState({notifications: false});\r\n          break;\r\n      }\r\n    });\r\n  }\r\n\r\n  componentWillUnmount(){\r\n    this._isMounted = false;\r\n  }\r\n\r\n  subscribe(event){\r\n    connect.send(\"VKWebAppTapticImpactOccurred\", {\"style\": \"heavy\"});\r\n    if(!this.state.notifications){\r\n      connect.send(\"VKWebAppAllowNotifications\", {});\r\n\r\n    }\r\n    else{\r\n      connect.send(\"VKWebAppDenyNotifications\", {});\r\n      connect.send(\"VKWebAppTapticNotificationOccurred\", {\"type\": \"success\"});\r\n    }\r\n  }\r\n\r\n\trender() {\r\n\t\treturn (\r\n      <Panel theme=\"white\" id={this.props.id}>\r\n    \t\t<PanelHeader\r\n    \t\t>\r\n    \t\t\tНастройки\r\n    \t\t</PanelHeader>\r\n\r\n        <Group title=\"Настройки профиля\">\r\n        <List>\r\n        {this.state.notifications !== null &&\r\n          <Cell multiline={true} description={this.state.notifications ? \"Молодец, так держать! Теперь ты будешь в курсе всех интересующих тебя новинок 😎\" : \"Включи, чтобы мы могли отправлять тебе уведомления о вышедших фильмах из твоего списка\"} asideContent={<Switch defaultChecked={this.state.notifications} onClick={this.subscribe}/>}>\r\n            Уведомления\r\n          </Cell>\r\n        }\r\n        </List>\r\n        </Group>\r\n        <p style={{color: 'grey', textAlign: 'center'}}>Номер сборки: 1.0.1</p>\r\n        <p style={{color: 'grey', textAlign: 'center'}}>Данные о фильмах взяты с помощью API TMDb</p>\r\n    \t</Panel>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Settings;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Panel, PanelHeader, HeaderButton, platform, IOS, Search, List, Cell, Spinner} from '@vkontakte/vkui';\r\n\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\nimport {CenteredDiv} from '../components/Exporter';\r\n\r\nconst osname = platform();\r\n\r\nclass Genre extends React.Component {\r\n  constructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n      search: '',\r\n\t\t\tfutureList: [],\r\n\r\n\t\t};\r\n    this.onChange = this.onChange.bind(this);\r\n    this.searchRes = this.searchRes.bind(this);\r\n\t}\r\n\r\n  onChange (search) { this.setState({ search }); }\r\n\r\n  searchRes() {\r\n      const search = this.state.search.toLowerCase();\r\n      return this.state.futureList.filter(({title}) => title.toLowerCase().indexOf(search) > -1);\r\n    }\r\n\r\n  componentDidMount(){\r\n    fetch(`https://cinema.voloshinskii.ru/search/genre/${this.props.search}`)\r\n      .then(res => res.json())\r\n      .then(json => this.setState({ futureList: json }));\r\n  }\r\n\r\n\trender() {\r\n\t\treturn (\r\n      <Panel id={this.props.id}>\r\n    \t\t<PanelHeader\r\n    \t\t\tleft={<HeaderButton onClick={this.props.go} data-to=\"home\">\r\n    \t\t\t\t{osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n    \t\t\t</HeaderButton>}\r\n    \t\t>\r\n    \t\t\tПоиск по жанру\r\n    \t\t</PanelHeader>\r\n        <Search value={this.state.search} onChange={this.onChange}/>\r\n        {this.state.futureList.length == 0 && <Spinner size=\"large\" style={{marginTop: 30}}/>}\r\n        {this.state.futureList.length > 0 &&\r\n          <List>\r\n            {this.searchRes().length === 0 && <CenteredDiv>Поиск не дал результатов</CenteredDiv>}\r\n            {this.searchRes().map(item => <Cell data-fid={item.tmdbId} key={item.tmdbId} onClick={this.props.openFilm}>{item.title}</Cell>)}\r\n          </List>\r\n        }\r\n    \t</Panel>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Genre;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Panel, PanelHeader, HeaderButton, platform, IOS, Search, List, Cell, Spinner} from '@vkontakte/vkui';\r\nimport connect from '@vkontakte/vkui-connect';\r\n\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\n\r\nimport CenteredDiv from '../components/CenteredDiv';\r\nimport FilmListElem from '../components/FilmListElem';\r\n\r\nconst osname = platform();\r\n\r\nclass Collection extends React.Component {\r\n  constructor(props) {\r\n\t\tsuper(props);\r\n    this.state = {\r\n      list: [],\r\n      loaded: false,\r\n      title: \"Загрузка...\"\r\n    }\r\n\t}\r\n\r\n  componentDidMount(){\r\n\r\n    fetch(`https://cinema.voloshinskii.ru/collection/getInfo/${this.props.cid}`)\r\n      .then(res => res.json())\r\n      .then(json => this.setState({ title: json.title, list: json.films, loaded: true }));\r\n\r\n  }\r\n\r\n\r\n\trender() {\r\n\t\treturn (\r\n      <Panel theme=\"white\" id={this.props.id}>\r\n\r\n        <PanelHeader\r\n          left={<HeaderButton onClick={this.props.go} data-to=\"home\">\r\n            {osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n          </HeaderButton>}\r\n        >\r\n    \t\t\tКоллекция\r\n    \t\t</PanelHeader>\r\n        {!this.state.error && !this.state.loaded && <Spinner size=\"large\" style={{marginTop: 30}}/>}\r\n        {this.state.list && this.state.list.length > 0 && <div style={{paddingTop: '10px'}}>{this.state.list.map(item =>{\r\n          return <FilmListElem datafid={item.tmdbId} data-fid={item.tmdbId} onClick={this.props.openFilm} key={item._id} title={item.title} image={item.image}/>\r\n        })}</div>}\r\n    \t</Panel>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Collection;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Panel, PanelHeader, HeaderButton, platform, IOS, Search, List, Cell, Spinner} from '@vkontakte/vkui';\r\n\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\nimport {CenteredDiv} from '../components/Exporter';\r\nconst osname = platform();\r\n\r\nclass Collections extends React.Component {\r\n  constructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n      search: '',\r\n\t\t\tfutureList: [],\r\n\r\n\t\t};\r\n    this.onChange = this.onChange.bind(this);\r\n    this.searchRes = this.searchRes.bind(this);\r\n\t}\r\n\r\n  onChange (search) { this.setState({ search }); }\r\n\r\n  searchRes() {\r\n      const search = this.state.search.toLowerCase();\r\n      return this.state.futureList.filter(({title}) => title.toLowerCase().indexOf(search) > -1);\r\n    }\r\n\r\n  componentDidMount(){\r\n    fetch(`https://cinema.voloshinskii.ru/collection/getList`)\r\n      .then(res => res.json())\r\n      .then(json => this.setState({ futureList: json }));\r\n  }\r\n\r\n\trender() {\r\n\t\treturn (\r\n      <Panel id={this.props.id}>\r\n    \t\t<PanelHeader\r\n    \t\t\tleft={<HeaderButton onClick={this.props.go} data-to=\"home\">\r\n    \t\t\t\t{osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n    \t\t\t</HeaderButton>}\r\n    \t\t>\r\n    \t\t\tКоллекции\r\n    \t\t</PanelHeader>\r\n        <Search value={this.state.search} onChange={this.onChange}/>\r\n        {this.state.futureList.length == 0 && <Spinner size=\"large\" style={{marginTop: 30}}/>}\r\n        {this.state.futureList.length > 0 &&\r\n          <List>\r\n            {this.searchRes().length === 0 && <CenteredDiv>Поиск не дал результатов</CenteredDiv>}\r\n            {this.searchRes().map(item => <Cell data-to=\"collection\" data-data={item._id} key={item._id} onClick={this.props.go}>{item.title}</Cell>)}\r\n          </List>\r\n        }\r\n    \t</Panel>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Collections;\r\n","import React from 'react';\r\nimport connect from '@vkontakte/vkui-connect';\r\nimport { View, Epic, Tabbar, TabbarItem, ConfigProvider } from '@vkontakte/vkui';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport Icon28Favorite from '@vkontakte/icons/dist/28/favorite';\r\nimport Icon24Home from '@vkontakte/icons/dist/24/home';\r\nimport Icon28Settings from '@vkontakte/icons/dist/28/settings';\r\nimport HashChange from \"react-hashchange\";\r\n\r\nimport Home from './panels/Home';\r\nimport Popular from './panels/Popular';\r\nimport Film from './panels/Film';\r\nimport Future from './panels/Future';\r\nimport Active from './panels/Active';\r\nimport Featured from './panels/Featured';\r\nimport Settings from './panels/Settings';\r\nimport Genre from './panels/Genre';\r\nimport Collection from './panels/Collection';\r\nimport Collections from './panels/Collections';\r\n\r\nimport CenteredDiv from './components/CenteredDiv';\r\n\r\nclass App extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tactivePanel: 'home',\r\n\t\t\tactivePreview: null,\r\n\t\t\tfuturePreview: null,\r\n\t\t\tcurrentFilm: null,\r\n\t\t\tloading: true,\r\n\t\t\tauthToken: null,\r\n\t\t\ttokenWithScope: null,\r\n\t\t\tloaded: false,\r\n\t\t\tcollections: null,\r\n\t\t\thistoryv: ['home'],\r\n\t\t\tsearch: null,\r\n\t\t\tfilmhistory: [],\r\n\t\t\tadditionalData: null\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidCatch(error, info) {\r\n    this.setState({ hasError: true });\r\n  }\r\n\r\n\tcomponentDidUpdate(){\r\n\t\twindow.onpopstate  = (e) => {\r\n\t\t\tif(this.state.historyv !== ['home']){\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tthis.goBack();\r\n\t\t\t}\r\n\t\t }\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconnect.send('VKWebAppEnableSwipeBack');\r\n\r\n\t\tconnect.subscribe((e) => {\r\n\t\t\tswitch (e.detail.type) {\r\n\r\n\t\t\t\tcase 'VKWebAppGetUserInfoResult':\r\n\t\t\t\t\tthis.setState({ user: e.detail.data});\r\n\t\t\t\t\tvar hash = window.location.href.split('#');\r\n\r\n\t\t\t\t\tfetch(`https://cinema.voloshinskii.ru/user/active?id=${e.detail.data.id}`)\r\n\t\t\t\t\t\t.then(res => res.json())\r\n\t\t\t\t\t\t.then(json => {\r\n\t\t\t\t\t\t\tif(json.result){\r\n\t\t\t\t\t\t\t\tconnect.send(\"VKWebAppGetAuthToken\", {\"app_id\": 6977050, \"scope\": \"\"});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\tif(hash[1] && hash[1].split('_')[0] === 'film' && this.state.loaded === false){\r\n\r\n\t\t\t\t\t\tfetch(`https://cinema.voloshinskii.ru/film/gettmdb/${hash[1].split('_')[1]}?id=${this.state.user.id}`)\r\n\t\t\t\t\t\t\t.then(res => res.json())\r\n\t\t\t\t\t\t\t.then(json => this.setState({ currentFilm: json }));\r\n\r\n\t\t\t\t\t\tconst filmhistory = [...this.state.filmhistory];\r\n\t\t\t\t\t\tfilmhistory.push(hash[1].split('_')[1]);\r\n\r\n\t\t\t\t\t\tthis.setState({ filmhistory, historyv: ['home', 'film'], loaded: true, activePanel: 'film', filmid: hash[1].split('_')[1]})\r\n\t\t\t\t\t\tconnect.send(\"VKWebAppSetLocation\", {\"location\": \"home\"});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'VKWebAppAccessTokenReceived':\r\n\t\t\t\t\tthis.setState({ authToken: e.detail.data.access_token, tokenWithScope: e.detail.data});\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tconnect.send(\"VKWebAppGetUserInfo\", {});\r\n\r\n\t\tfetch(`https://cinema.voloshinskii.ru/active/preview`)\r\n      .then(res => res.json())\r\n      .then(json => this.setState({ activePreview: json }));\r\n\r\n\t\tfetch(`https://cinema.voloshinskii.ru/future/preview`)\r\n\t    .then(res => res.json())\r\n\t    .then(json => this.setState({ futurePreview: json }));\r\n\r\n\t\tfetch(`https://cinema.voloshinskii.ru/collection/getList`)\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(json => this.setState({ collections: json }));\r\n\t}\r\n\r\n\tgoBack = () => {\r\n    const historyv = [...this.state.historyv];\r\n\r\n\t\tconst from = this.state.activePanel;\r\n\t\tif (from === 'film'){\r\n\t\t\tvar filmhistory = [...this.state.filmhistory];\r\n\t\t\tfilmhistory.pop();\r\n\t\t\tthis.setState({ filmhistory: filmhistory, currentFilm: null })\r\n\t\t}\r\n\r\n    historyv.pop();\r\n\r\n    const activePanel = historyv[historyv.length - 1];\r\n    if (activePanel === 'home') {\r\n      connect.send('VKWebAppDisableSwipeBack');\r\n\t\t\tthis.setState({ historyv, activePanel });\r\n    }\r\n\t\telse if (activePanel === 'film'){\r\n\t\t\tconst filmhistory = [...this.state.filmhistory];\r\n\t\t\tfetch(`https://cinema.voloshinskii.ru/film/gettmdb/${filmhistory.slice(-1)[0]}?id=${this.state.user.id}`)\r\n\t\t\t\t.then(res => res.json())\r\n\t\t\t\t.then(json => this.setState({ historyv, activePanel, currentFilm: json }));\r\n\t\t}\r\n\t\telse{\r\n\t\t\tthis.setState({ historyv, activePanel });\r\n\t\t}\r\n  }\r\n\r\n\tgo = (e) => {\r\n\t\tif(e.currentTarget.dataset.to === 'home'){\r\n\t\t\tthis.goBack();\r\n\t\t}\r\n\t\telse{\r\n\t\t\twindow.history.pushState({lol: 1}, \"lol 1\");\r\n\t\t\tconst historyv = [...this.state.historyv];\r\n\t    historyv.push(e.currentTarget.dataset.to);\r\n\t    if (this.state.activePanel === 'home') {\r\n\t      connect.send('VKWebAppEnableSwipeBack');\r\n\t    }\r\n\t    this.setState({ historyv, currentFilm: null, activePanel: e.currentTarget.dataset.to, search: e.currentTarget.dataset.search});\r\n\t\t\tif(e.currentTarget.dataset.data) this.setState({additionalData: e.currentTarget.dataset.data});\r\n\t\t\tconnect.send(\"VKWebAppSetLocation\", {\"location\": e.currentTarget.dataset.to});\r\n\t\t}\r\n\t};\r\n\r\n\tonStoryChange = (e) => {\r\n\t this.setState({ activePanel: e.currentTarget.dataset.story })\r\n }\r\n\r\n\topenFilm = (e) => {\r\n\t\twindow.history.pushState({lol: 1}, \"lol 1\");\r\n\t\tconst historyv = [...this.state.historyv];\r\n    historyv.push('film');\r\n\r\n\t\tconst filmhistory = [...this.state.filmhistory];\r\n\t\tfilmhistory.push(e.currentTarget.dataset.fid);\r\n\r\n\t\tthis.setState({ filmhistory: filmhistory, historyv, activePanel: 'film', filmid: e.currentTarget.dataset.fid});\r\n\r\n\t\tfetch(`https://cinema.voloshinskii.ru/film/gettmdb/${e.currentTarget.dataset.fid}?id=${this.state.user.id}`)\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(json => this.setState({ currentFilm: json }));\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<ConfigProvider isWebView={true}>\r\n\t\t\t{this.state.hasError && <CenteredDiv>Нам неприятно это осозновать, но что-то вызвало непредвиденную ошибку в работе приложения :(<br/><br/> Пожалуйста, нажмите в правом верхнем углу три точки => очистить кеш, чтобы дать нам второй шанс</CenteredDiv>}\r\n\t\t\t{!this.state.hasError &&\r\n\t\t\t <Epic activeStory={this.state.activePanel} tabbar={\r\n\t        ['home', 'featured', 'settings'].includes(this.state.activePanel) && <Tabbar>\r\n\t          <TabbarItem\r\n\t            onClick={this.onStoryChange}\r\n\t            selected={this.state.activePanel === 'home'}\r\n\t            data-story=\"home\"\r\n\t            text=\"Главная\"\r\n\t          ><Icon24Home/></TabbarItem>\r\n\t\t\t\t\t\t<TabbarItem\r\n\t            onClick={this.onStoryChange}\r\n\t            selected={this.state.activePanel === 'featured'}\r\n\t            data-story=\"featured\"\r\n\t            text=\"Список\"\r\n\t          ><Icon28Favorite/></TabbarItem>\r\n\t\t\t\t\t\t<TabbarItem\r\n\t\t\t\t\t\t\tonClick={this.onStoryChange}\r\n\t\t\t\t\t\t\tselected={this.state.activePanel === 'settings'}\r\n\t\t\t\t\t\t\tdata-story=\"settings\"\r\n\t\t\t\t\t\t\ttext=\"Настройки\"\r\n\t\t\t\t\t\t><Icon28Settings/></TabbarItem>\r\n\t        </Tabbar>\r\n\t      }>\r\n\r\n\t\t\t\t\t<View id=\"featured\" activePanel=\"featured\">\r\n\t\t\t\t\t\t<Featured openFilm={this.openFilm} token={this.state.authToken} id=\"featured\" go={this.go} />\r\n\t\t\t\t\t</View>\r\n\t\t\t\t\t<View id=\"settings\" activePanel=\"settings\">\r\n\t\t\t\t\t\t<Settings token={this.state.authToken} id=\"settings\" go={this.go} />\r\n\t\t\t\t\t</View>\r\n\t\t\t\t\t<View id=\"film\" activePanel=\"film\">\r\n\t\t\t\t\t\t<Film filmid={this.state.filmid} authToken={this.state.authToken} currentFilm={this.state.currentFilm} id=\"film\" go={this.go} />\r\n\t\t\t\t\t</View>\r\n\t\t\t\t\t<View id={this.state.activePanel} activePanel={this.state.activePanel} onSwipeBack={this.goBack} history={this.state.historyv}>\r\n\t\t\t\t\t\t<Home collections={this.state.collections} id=\"home\" activePreview={this.state.activePreview} futurePreview={this.state.futurePreview} go={this.go} openFilm={this.openFilm} setid={this.setid} />\r\n\t\t\t\t\t\t<Future id=\"future\" go={this.go} openFilm={this.openFilm} />\r\n\t\t\t\t\t\t<Active id=\"active\" go={this.go} openFilm={this.openFilm} />\r\n\t\t\t\t\t\t<Collections id=\"collections\" go={this.go}/>\r\n\t\t\t\t\t\t<Collection id=\"collection\" cid={this.state.additionalData} go={this.go} openFilm={this.openFilm} />\r\n\t\t\t\t\t\t<Film filmid={this.state.filmid} authToken={this.state.authToken} currentFilm={this.state.currentFilm} id=\"film\" go={this.go} />\r\n\t\t\t\t\t\t<Genre id=\"genre\" search={this.state.search} go={this.go} openFilm={this.openFilm} />\r\n\t\t\t\t\t\t<Popular openFilm={this.openFilm} token={this.state.tokenWithScope} updateToken={this.updateToken} id=\"popular\" go={this.go} />\r\n\t\t\t\t\t</View>\r\n\t\t\t\t</Epic>}\r\n\t\t\t</ConfigProvider>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default App;\r\n","import { createBrowserHistory } from 'history';\r\n\r\nexport default createBrowserHistory();\r\n","import 'core-js/es6/map';\r\nimport 'core-js/es6/set';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport connect from '@vkontakte/vkui-connect';\r\nimport App from './App';\r\nimport { Router, Route } from 'react-router-dom';\r\nimport history from './history';\r\n// import registerServiceWorker from './sw';\r\n\r\n// Init VK App\r\nconnect.send('VKWebAppInit', {});\r\n\r\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\r\n// расскомментируйте строку с registerServiceWorker();\r\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\r\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT\r\n// registerServiceWorker();\r\nReactDOM.render(<App/>, document.getElementById('root'));\r\n"],"sourceRoot":""}