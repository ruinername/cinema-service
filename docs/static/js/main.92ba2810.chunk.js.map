{"version":3,"sources":["components/RatingSpan.js","components/DatePreview.js","panels/Home.js","components/CenteredDiv.js","components/FilmListElem.js","panels/Popular.js","constants.js","components/ClickImage.js","components/CustomTruncate.js","components/DivBottom.js","components/Forms.js","components/FeedBackCard.js","components/Genres.js","panels/Film.js","panels/Future.js","panels/FuturePopular.js","panels/Active.js","panels/Featured.js","panels/Settings.js","panels/Genre.js","panels/Collection.js","panels/Collections.js","App.js","history.js","index.js"],"names":["RatingSpan","react_default","a","createElement","style","padding","borderRadius","backgroundColor","position","right","top","fontWeight","fontSize","this","props","rating","React","Component","DatePreview","color","marginLeft","Date","date","toLocaleString","month","day","itemStyle","flexShrink","width","height","flexDirection","alignItems","paddingLeft","collectionStyle","margin","textAlign","background","paddingBottom","imgStyle","nameStyle","marginTop","marginBottom","overflow","display","WebkitLineClamp","WebkitBoxOrient","Home","_ref","_ref2","_ref3","_ref4","collections","id","openFilm","activePreview","go","futurePreview","futurePopular","setid","activePopular","vkui","slideWidth","bullets","autoplay","href","Object","defineProperty","onClick","data-to","level","aside","map","item","i","data-fid","tmdbId","key","objectSpread","tmdbFullData","vote_average","RatingSpan_RatingSpan","src","image","size","title","boxShadow","DatePreview_DatePreview","data-data","_id","CenteredDiv","left","transform","children","FilmListElem","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","n","text_forms","n1","Math","abs","datafid","gridGap","gridTemplateColumns","marginRight","verticalAlign","popularCount","s","osname","platform","Popular","_this","state","error","response","_this2","connect","subscribe","e","detail","type","data","scope","search","setState","tokenWithScope","send","method","params","v","access_token","loaded","friends","fetch","headers","Accept","Content-Type","body","JSON","stringify","then","res","json","values","result","token","app_id","_this3","theme","IOS","chevron_back_default","back_default","CenteredDiv_CenteredDiv","length","share","paddingTop","FilmListElem_FilmListElem","count","settings","image_url","server_url","ClickImage","back","filter","front","bottom","zIndex","paddingRight","CustomTruncate","expanded","expand","bind","assertThisInitialized","console","log","lib_default","line","truncateText","text","textTruncateChild","DivBottom","onClose","cancel_default","borderBottom","overflowY","FeedBackForm","_React$Component","feedback","rate","anon","submit","onChange","anonF","changeRate","inherits","createClass","value","_this$setState","_e$currentTarget","currentTarget","name","val","_submit","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","loading","filmId","filmid","sent","loadeddata","ok","close","stop","apply","arguments","placeholder","min","max","concat","step","disabled","FeedBackCard","renderPreparedUser","renderUser","user","fields","user_ids","vkId","catch","first_name","last_name","photo_50","rateList","description","before","user_default","GenresRender","string","charAt","toUpperCase","slice","genres","to","data-search","genreStyle","capitalizeFirstLetter","Film","qr","feedBack","watchLoaded","watch","QRModal","feedBackModal","location","currentFilm","going","authToken","message","ClickImage_ClickImage","backdrop_path","justifyContent","runtime","overview","CustomTruncate_CustomTruncate","align","qr_default","logo_livejournal_default","feedbacks","Genres_GenresRender","year","budget","revenue","video","frameBorder","allow","allowFullScreen","playlist","owner","hack","react_vk_umd_production_min_default","react_vk_umd_production_min","pointerEvents","ownerId","playlistId","hash","FeedBackCard_FeedBackCard","assign","DivBottom_DivBottom","dangerouslySetInnerHTML","__html","createQR","component","Forms_FeedBackForm","Future","futureList","searchRes","toLowerCase","indexOf","FuturePopular","Active","activeList","_this4","Featured","list","films","Settings","_isMounted","connectPromise","notifications","is_allowed","event","multiline","asideContent","checked","defaultChecked","Genre","Collection","cid","Collections","App","goBack","historyv","toConsumableArray","activePanel","filmhistory","pop","includes","dataset","window","history","pushState","lol","push","additionalData","onStoryChange","story","fid","info","hasError","onpopstate","preventDefault","split","isWebView","reload","activeStory","tabbar","selected","data-story","home_default","favorite_default","settings_default","panels_Featured","panels_Settings","onSwipeBack","panels_Home","panels_Popular","updateToken","panels_Future","panels_FuturePopular","panels_Active","panels_Collections","panels_Collection","Film_Film","panels_Genre","createBrowserHistory","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.92ba2810.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nexport default class RatingSpan extends React.Component{\r\n  render(){\r\n    return(\r\n      <span style={{\r\n        padding: '2px 10px',\r\n        borderRadius: 15,\r\n        backgroundColor: 'white',\r\n        position: 'absolute',\r\n        right: '20%',\r\n        top: '2%',\r\n        fontWeight: 'bold',\r\n        fontSize: 14\r\n      }}>\r\n        {this.props.rating}\r\n      </span>\r\n  )}\r\n\r\n}\r\n","import React from 'react';\r\n\r\nexport default class DatePreview extends React.Component{\r\n  render(){\r\n    return(\r\n      <span style={{\r\n        borderRadius: 15,\r\n        fontWeight: '600',\r\n        fontSize: 14,\r\n        color: 'grey',\r\n        marginLeft: '3px'\r\n      }}>\r\n         {new Date(this.props.date).toLocaleString('ru', {month: 'long', day: 'numeric'})}\r\n      </span>\r\n  )}\r\n\r\n}\r\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Panel, ListItem, Button, Group, Div, PanelHeader, Header, Link, HorizontalScroll, Avatar, Gallery } from '@vkontakte/vkui';\nimport RatingSpan from '../components/RatingSpan';\nimport DatePreview from '../components/DatePreview';\n\n\nconst itemStyle = {\n\tflexShrink: 0,\n\twidth: 130,\n\theight: 'auto',\n\tflexDirection: 'column',\n\talignItems: 'center',\n\tfontSize: 16,\n\tpaddingLeft: 4\n};\n\nconst collectionStyle = {\n\tflexShrink: 0,\n\twidth: \"80%\",\n\tmargin: \"auto\",\n\ttextAlign: \"center\",\n\tflexDirection: 'column',\n\talignItems: 'center',\n\tfontSize: 16,\n\tpaddingLeft: 4,\n\tbackground: '#f4f4f4',\n\tborderRadius: 6,\n\tpaddingBottom: 5\n};\n\nconst imgStyle = {\n\twidth: 110,\n\theight: 150,\n\tborderRadius: 15\n};\n\nconst nameStyle = {\n\twidth: 100,\n\tmarginTop: 0,\n\tmarginBottom: 0,\n\tpadding: 3,\n\tpaddingBottom: 0,\n\toverflow: 'hidden',\n\tdisplay: '-webkit-box',\n\tWebkitLineClamp: 2,\n\tWebkitBoxOrient: 'vertical'\n};\n\nconst genre = {\n\tcolor: \"grey\",\n\tfontSize: 14,\n};\n\nconst Home = ({collections, id, openFilm, activePreview, go, futurePreview, setid, futurePopular, activePopular }) => (\n\n\n\t<Panel id={id}>\n\t\t<PanelHeader></PanelHeader>\n    <Gallery\n      slideWidth=\"100%\"\n      style={{ height: 150, marginTop: 15, marginBottom: 15 }}\n      bullets=\"dark\"\n\t\t\tautoplay={5000}\n    >\n\t\t<Link href=\"https://vk.com/findfilmapp?w=wall-182657745_9\" style={{display: 'relative', borderRadius: 15}}>\n\t\t\t<div style={{height: 'auto', width: '90%', marginLeft: '5%', height: '100%', background: 'linear-gradient(to right, #606c88, #3f4c6b)', borderRadius: 15}}>\n\t\t\t\t<span style={{marginTop: 5, paddingLeft: 15}}>\n\t\t\t\t\t<h2 style={{paddingLeft: 15, color: 'white'}}> </h2>\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t</Link>\n\t\t<Link onClick={go} data-to=\"popular\" style={{display: 'relative', borderRadius: 15}}>\n\t\t\t<div style={{height: 'auto', width: '90%', marginLeft: '5%', height: '100%', background: 'linear-gradient(to right, #606c88, #3f4c6b)', borderRadius: 15}}>\n\t\t\t\t<span style={{width: \"80%\", marginTop: 5, paddingLeft: 15}}>\n\t\t\t\t\t<h2 style={{paddingLeft: 15, color: 'white'}}>  </h2>\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t</Link>\n\t\t<Link href=\"https://vk.com/findfilmgroup\" style={{display: 'relative', borderRadius: 15}}>\n\t\t\t<div style={{height: 'auto', width: '90%', marginLeft: '5%', height: '100%', background: 'linear-gradient(to right, #606c88, #3f4c6b)', borderRadius: 15}}>\n\t\t\t\t<span style={{marginTop: 5, paddingLeft: 15}}>\n\t\t\t\t\t<h2 style={{paddingLeft: 15, color: 'white'}}> </h2>\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t</Link>\n    </Gallery>\n\t\t<Group style={{ paddingBottom: 8 }}>\n\t\t\t\t<Header level=\"2\" aside={<Link data-to='active' onClick={go}> </Link>}>\n\t\t\t\t\t\t  \n\t\t\t\t</Header>\n        <HorizontalScroll>\n          <div style={{ display: 'flex' }}>\n\t\t\t\t\t\t{\tactivePreview &&\n\t\t\t\t\t\t\tactivePreview.map(function(item, i){\n\t\t\t\t\t\t\t\treturn <Link onClick={openFilm} data-fid={item.tmdbId} data-to=\"film\" key={i} style={{ ...itemStyle }}>\n\t\t\t\t\t\t\t\t\t<div style={{position: 'relative'}}>\n\t\t\t\t\t\t\t\t\t\t{item.tmdbFullData.vote_average && <RatingSpan rating={item.tmdbFullData.vote_average}/>}\n\t\t\t              <img src={item.image} size={64} style={{...imgStyle, marginBottom: 8 }}></img>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{/*<p style={{...nameStyle, ...genre}}>{item.genre}</p>*/}\n\t\t\t\t\t\t\t\t\t<p style={nameStyle}>{item.title}</p>\n\t\t            </Link>\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n          </div>\n        </HorizontalScroll>\n      </Group>\n\t\t\t{/*<Group style={{ paddingBottom: 8 }}>\n\t\t\t\t\t<Header level=\"2\" aside={<Link data-to='active' onClick={go}> </Link>}>\n\t\t\t\t\t\t\t  \n\t\t\t\t\t</Header>\n\t\t\t\t\t<HorizontalScroll>\n\t\t\t\t\t\t<div style={{ display: 'flex' }}>\n\t\t\t\t\t\t\t{\tactivePopular &&\n\t\t\t\t\t\t\t\tactivePopular.map(function(item, i){\n\t\t\t\t\t\t\t\t\treturn <Link onClick={openFilm} data-fid={item.tmdbId} data-to=\"film\" key={i} style={{ ...itemStyle }}>\n\t\t\t\t\t\t\t\t\t\t<div style={{position: 'relative'}}>\n\t\t\t\t\t\t\t\t\t\t\t{item.tmdbFullData.vote_average && <RatingSpan rating={item.tmdbFullData.vote_average}/>}\n\t\t\t\t\t\t\t\t\t\t\t<img src={item.image} size={64} style={{...imgStyle, marginBottom: 8 }}></img>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<p style={nameStyle}>{item.title}</p>\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</HorizontalScroll>\n\t\t\t\t</Group>*/}\n\t\t\t<Group style={{ paddingBottom: 8 }}>\n\t\t\t\t\t<Header level=\"2\" aside={<Link data-to='future' onClick={go}> </Link>}>\n\t\t\t\t\t\t\t  \n\t\t\t\t\t</Header>\n\t\t\t\t\t<HorizontalScroll>\n\t\t\t\t\t\t<div style={{ display: 'flex' }}>\n\t\t\t\t\t\t{\tfuturePreview &&\n\t\t\t\t\t\t\tfuturePreview.map(function(item, i){\n\t\t\t\t\t\t\t\treturn <Link onClick={openFilm} data-fid={item.tmdbId} data-to=\"film\" key={i} style={{ ...itemStyle }}>\n\t\t\t\t\t\t\t\t\t<div style={{position: 'relative'}}>\n\t\t\t\t\t\t\t\t\t\t<img src={item.image} size={64} style={{...imgStyle, marginBottom: 8, boxShadow: \"inset 0px 0px 10px rgba(0,0,0,0.9)\" }}></img>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{/*<p style={{...nameStyle, ...genre}}>{item.genre}</p>*/}\n\t\t\t\t\t\t\t\t\t{item.date && <DatePreview date={item.date}/>}\n\t\t\t\t\t\t\t\t\t<p style={nameStyle}>{item.title}</p>\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</HorizontalScroll>\n\t\t\t\t</Group>\n\t\t\t\t\t<Group style={{ paddingBottom: 8 }}>\n\t\t\t\t\t\t\t<Header level=\"2\" aside={<Link data-to='futurepopular' onClick={go}> </Link>}>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</Header>\n\t\t\t\t\t\t\t<HorizontalScroll>\n\t\t\t\t\t\t\t\t<div style={{ display: 'flex' }}>\n\t\t\t\t\t\t\t\t{\tfuturePopular &&\n\t\t\t\t\t\t\t\t\tfuturePopular.map(function(item, i){\n\t\t\t\t\t\t\t\t\t\treturn <Link onClick={openFilm} data-fid={item.tmdbId} data-to=\"film\" key={i} style={{ ...itemStyle }}>\n\t\t\t\t\t\t\t\t\t\t\t<div style={{position: 'relative'}}>\n\t\t\t\t\t\t\t\t\t\t\t\t<img src={item.image} size={64} style={{...imgStyle, marginBottom: 8}}></img>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t{/*<p style={{...nameStyle, ...genre}}>{item.genre}</p>*/}\n\t\t\t\t\t\t\t\t\t\t\t{item.date && <DatePreview date={item.date}/>}\n\t\t\t\t\t\t\t\t\t\t\t<p style={nameStyle}>{item.title}</p>\n\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</HorizontalScroll>\n\t\t\t\t\t\t</Group>\n\t\t\t\t<Group style={{ paddingBottom: 8 }}>\n\t\t\t\t\t\t<Header level=\"2\" aside={<Link data-to='collections' onClick={go}> </Link>}>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t</Header>\n\t\t\t\t\t\t\t<div style={{ display: 'flex', flexDirection: 'column', }}>\n\t\t\t\t\t\t\t{\tcollections &&\n\t\t\t\t\t\t\t\tcollections.map(function(item, i){\n\t\t\t\t\t\t\t\t\treturn <div>\n\t\t\t\t\t\t\t\t\t\t<div onClick={go} data-data={item._id} data-to=\"collection\" key={i} style={{ ...collectionStyle }}>\n\t\t\t\t\t\t\t\t\t\t\t{/*<p style={{...nameStyle, ...genre}}>{item.genre}</p>*/}\n\t\t\t\t\t\t\t\t\t\t\t<img style={{borderRadius: 3, marginTop: 20, width: 200, marginBottom: 8 }} src={item.image}/>\n\t\t\t\t\t\t\t\t\t\t\t<p style={{fontWeight: 'bold', color: \"#5a5a5a\"}}>{item.title}</p>\n\t\t\t\t\t\t\t\t\t\t</div><br/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t</Group>\n\n\t</Panel>\n);\n\nexport default Home;\n","import React from 'react';\r\nimport TextTruncate from 'react-text-truncate';\r\n\r\nexport default class CenteredDiv extends React.Component{\r\n\r\n  render(){\r\n    return(\r\n      <div style={{\r\n        position: 'fixed',\r\n        top: \"50%\",\r\n        left: \"50%\",\r\n        transform: \"translate(-50%, -50%)\",\r\n        color: \"#656565\",\r\n        textAlign: \"center\",\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        flexDirection: \"column\"\r\n      }}>\r\n        {this.props.children}\r\n      </div>\r\n  )}\r\n\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default class FilmListElem extends React.Component{\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  s(n, text_forms){\r\n    n = Math.abs(n) % 100; var n1 = n % 10;\r\n    if (n > 10 && n < 20) { return text_forms[2]; }\r\n    if (n1 > 1 && n1 < 5) { return text_forms[1]; }\r\n    if (n1 == 1) { return text_forms[0]; }\r\n    return text_forms[2];\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <div data-fid={this.props.datafid} onClick={this.props.onClick} style={{padding: '10px', gridGap: \"20px\", display: 'grid', gridTemplateColumns: '23% 60%'}}>\r\n        <img style={{width:\"100%\", marginRight: 10, verticalAlign: 'top', borderRadius: 10}} src={this.props.image}/>\r\n        <div>\r\n          <div style={{verticalAlign: 'top', fontWeight: 'bold', fontSize: 16}}>\r\n            {this.props.title}\r\n          </div>\r\n          {this.props.popularCount &&\r\n            <div style={{fontSize: 14, color: 'grey'}}>{this.props.popularCount} {this.s(this.props.popularCount, [' ', ' ', ' '])}    </div>\r\n          }\r\n        </div>\r\n      </div>\r\n  )}\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Panel, PanelHeader, HeaderButton, platform, IOS, Spinner, Button} from '@vkontakte/vkui';\r\nimport connect from '@vkontakte/vkui-connect';\r\n\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\n\r\nimport CenteredDiv from '../components/CenteredDiv';\r\nimport FilmListElem from '../components/FilmListElem';\r\n\r\nconst osname = platform();\r\n\r\nclass Popular extends React.Component {\r\n  constructor(props) {\r\n\t\tsuper(props);\r\n    this.state = {\r\n      error: false,\r\n      response: [],\r\n    }\r\n\t}\r\n\r\n  componentDidMount() {\r\n\r\n    connect.subscribe((e) => {\r\n      switch (e.detail.type) {\r\n        case 'VKWebAppAccessTokenReceived':\r\n          if(e.detail.data.scope.search(\"friends\") === -1){\r\n            break;\r\n          }\r\n          this.setState({ tokenWithScope: e.detail.data, error: false });\r\n          connect.send(\"VKWebAppCallAPIMethod\", {\"method\": \"friends.getAppUsers\", \"params\": {\"v\": 5.95, \"access_token\":e.detail.data.access_token}});\r\n          break;\r\n\r\n        case 'VKWebAppCallAPIMethodResult':\r\n          if(this.state.loaded) break;\r\n          var friends = e.detail.data.response;\r\n          fetch('https://cinema.voloshinskii.ru/popular/friends', {\r\n            method: 'POST',\r\n            headers: {\r\n              'Accept': 'application/json',\r\n              'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({friends: friends})\r\n          }).then(res => res.json())\r\n            .then(json => this.setState({ response: Object.values(json.result), loaded: true }))\r\n          break;\r\n\r\n      }\r\n    });\r\n\r\n    if (!this.props.token || this.props.token.scope.search(\"friends\") === -1){\r\n      this.setState({error: true})\r\n      connect.send(\"VKWebAppGetAuthToken\", {\"app_id\": 6977050, \"scope\": \"friends\"});\r\n    }\r\n    else{\r\n      connect.send(\"VKWebAppCallAPIMethod\", {\"method\": \"friends.getAppUsers\", \"params\": {\"v\": 5.95, \"access_token\":this.props.token.access_token}});\r\n    }\r\n  }\r\n\r\n  share(){\r\n    connect.send(\"VKWebAppTapticImpactOccurred\", {\"style\": \"light\"});\r\n    connect.send(\"VKWebAppShare\");\r\n  }\r\n\r\n\trender() {\r\n\t\treturn (\r\n      <Panel theme=\"white\" id={this.props.id}>\r\n    \t\t<PanelHeader\r\n    \t\t\tleft={<HeaderButton onClick={this.props.go} data-to=\"home\">\r\n    \t\t\t\t{osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n    \t\t\t</HeaderButton>}\r\n    \t\t>\r\n    \t\t\t\r\n    \t\t</PanelHeader>\r\n        {!this.state.error && !this.state.loaded && <Spinner size=\"large\" style={{marginTop: 30}}/>}\r\n        {this.state.error && <CenteredDiv>         </CenteredDiv>}\r\n        {!this.state.error && this.state.loaded && this.state.response.length == 0 &&\r\n          <CenteredDiv>\r\n            <span style={{paddingBottom: '20px'}}>         .     !</span>\r\n            <Button onClick={this.share} size=\"xl\" style={{width:\"90%\", margin: \"auto\"}} level=\"secondary\">!</Button>\r\n          </CenteredDiv>\r\n        }\r\n        {!this.state.error && this.state.loaded && this.state.response.length > 0 && <div style={{paddingTop: '10px'}}>{this.state.response.map(item =>{\r\n          return <FilmListElem data-fid={item.data.tmdbId} datafid={item.data.tmdbId} onClick={this.props.openFilm} popularCount={item.count} key={item.data._id} title={item.data.title} image={item.data.image}/>\r\n        })}</div>}\r\n\r\n    \t</Panel>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Popular;\r\n","const settings = {\r\n  image_url:  'https://image.tmdb.org/t/p/original',\r\n  server_url: 'https://cinema.voloshinskii.ru'\r\n};\r\n\r\nexport default settings;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default class ClickImage extends React.Component{\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <div style={{position: 'relative', marginBottom: 30}}>\r\n      {this.props.back == 'https://image.tmdb.org/t/p/originalnull' && <img src=\"https://image.tmdb.org/t/p/original/pKDVywMKjM7TeU739z7cR9wu9Sf.jpg\" style={{width: '100%', filter: 'blur(15px)'}}/>}\r\n      {this.props.back != 'https://image.tmdb.org/t/p/originalnull' &&<img src={this.props.back} style={{width: '100%', filter: 'blur(2.2px)'}}/>}\r\n        <div style={{position: 'absolute', top: 0, left: 0, width: '100%', height: '101%', backgroundColor: 'rgba(0, 0, 0, 0.40)'}}>\r\n\r\n        { this.props.front != 'https://image.tmdb.org/t/p/originalnull' &&\r\n          <img\r\n            src={this.props.front}\r\n            style={{\r\n              width: '27%',\r\n              position: 'absolute',\r\n              bottom: '-5%',\r\n              left: '8%',\r\n              borderRadius: 10,\r\n              boxShadow: '0 12px 30px 0 rgba(35,39,42,.4)',\r\n              zIndex: 1000\r\n            }}\r\n          />\r\n        }\r\n          <span style={{\r\n            position: 'absolute',\r\n            top: '40%',\r\n            left: '40%',\r\n            color: 'white',\r\n            fontWeight: 'bold',\r\n            fontSize: 19,\r\n            paddingRight: 20,\r\n          }}>\r\n            {this.props.title}\r\n          </span>\r\n        </div>\r\n      </div>\r\n  )}\r\n\r\n}\r\n\r\nClickImage.propTypes = {\r\n\tback: PropTypes.string.isRequired,\r\n  front: PropTypes.string.isRequired,\r\n  title: PropTypes.string.isRequired,\r\n};\r\n","import React from 'react';\r\nimport TextTruncate from 'react-text-truncate';\r\n\r\nexport default class CustomTruncate extends React.Component{\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      expanded: false\r\n    }\r\n    this.expand = this.expand.bind(this);\r\n  }\r\n\r\n  expand(){\r\n    var expand = !(this.state.expanded);\r\n    this.setState({expanded: expand});\r\n    console.log(this.state.expanded);\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <TextTruncate\r\n        line={this.state.expanded ? 9999999999 : 4}\r\n        truncateText={this.state.expanded ? '' : '...'}\r\n        text={this.props.text}\r\n        textTruncateChild={<a style={{color: '#528bcc'}} onClick={this.expand}> </a>}\r\n      />\r\n  )}\r\n\r\n}\r\n","import React from 'react';\r\nimport TextTruncate from 'react-text-truncate';\r\nimport {Group, Div} from '@vkontakte/vkui';\r\n\r\nimport Icon24Cancel from '@vkontakte/icons/dist/24/cancel';\r\n\r\nexport default class DivBottom extends React.Component{\r\n\r\n  render(){\r\n    return(\r\n      <div>\r\n        <div onClick={this.props.onClose} style={{position: 'fixed', zIndex: '1999', background: 'rgba(0, 0, 0, 0.55)', width: '100%', height: '100%', bottom: 0}}/>\r\n        <div id=\"fixed\" style={{\r\n          height:'80%',\r\n          position: 'fixed',\r\n          bottom: 0,\r\n          borderRadius: \"20px 20px 0 0\",\r\n          background: 'white',\r\n          width: '100%',\r\n          zIndex: '2000',\r\n          paddingBottom: '30px'\r\n        }}>\r\n          <div style={{display: 'relative', textAlign: 'center', fontWeight: 'bold', margin: '20px 0'}}>\r\n              {this.props.title}\r\n              <span style={{padding: 3, borderRadius: '50%', background: '#ebeef1', position: 'absolute', top: '15px', right: '20px'}}><Icon24Cancel onClick={this.props.onClose} style={{color: '#828a96'}}/></span>\r\n              <div style={{marginTop: '15px', borderBottom: '1px solid #d7d8d9'}}/>\r\n          </div>\r\n          <div style={{position: 'fixed', bottom: '30px', overflowY: 'scroll', height: '70%', width: '100%'}}>\r\n            {this.props.children}\r\n          </div>\r\n        </div>\r\n      </div>\r\n  )}\r\n}\r\n","import React from 'react';\r\nimport {FormLayout, Input, FormLayoutGroup, Select, Radio, Textarea, Checkbox, Link, Button, Slider, Div, FormStatus, Spinner} from '@vkontakte/vkui';\r\nimport connect from '@vkontakte/vkui-connect';\r\n\r\nexport class FeedBackForm extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      feedback: '',\r\n      rate: 0,\r\n      anon: false\r\n    }\r\n    this.submit = this.submit.bind(this);\r\n    this.onChange = this.onChange.bind(this);\r\n    this.anonF = this.anonF.bind(this);\r\n    this.changeRate = this.changeRate.bind(this);\r\n  }\r\n\r\n  onChange(e) {\r\n    const { name, value } = e.currentTarget;\r\n    if(value.length <= 420) this.setState({ [name]: value, error: false});\r\n  }\r\n\r\n  anonF(){\r\n    connect.send(\"VKWebAppTapticImpactOccurred\", {\"style\": \"heavy\"});\r\n    var val = !this.state.anon;\r\n    this.setState({anon: val, error: false});\r\n  }\r\n\r\n  async submit(){\r\n    await this.setState({loading: true});\r\n    var response = await fetch('https://cinema.voloshinskii.ru/feedback/post', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({filmId: this.props.filmid, token: this.props.token, ...this.state})\r\n    });\r\n    await this.setState({loadeddata: true});\r\n    var data = await response.json();\r\n    console.log(data);\r\n    if(data.ok){\r\n      await connect.send(\"VKWebAppTapticNotificationOccurred\", {\"type\": \"success\"});\r\n      this.props.close();\r\n    }\r\n    else if(data.error === \"Wrong request\" || data.error === \"empty\"){\r\n      await connect.send(\"VKWebAppTapticNotificationOccurred\", {\"type\": \"error\"});\r\n      await this.setState({loading: false, loadeddata: false, error: '         '});\r\n    }\r\n  }\r\n\r\n  changeRate(rate){\r\n    if(rate.rate != this.state.rate) connect.send(\"VKWebAppTapticImpactOccurred\", {\"style\": \"medium\"});\r\n    this.setState({rate: rate.rate, error: false});\r\n  }\r\n\r\n  render() {\r\n    const rateList = [\" \", \" (1)\", \" (2)\", \" (3)\", \" (4)\", \" (5)\", \" (6)\", \" (7)\", \" (8)\", \" (9)\", \" (10)\"];\r\n    return (\r\n      <div>\r\n          {!this.state.loadeddata && <FormLayout>\r\n            {!this.state.error && <FormStatus style={{zIndex: -1}} title=\"\">\r\n                      .      \r\n            </FormStatus>\r\n            }\r\n            {this.state.error && <FormStatus style={{zIndex: -1}} state=\"error\" title=\"\">\r\n              {this.state.error}\r\n            </FormStatus>\r\n            }\r\n            <div>\r\n              <Textarea\r\n                  type=\"text\"\r\n                  top=\"\"\r\n                  name=\"feedback\"\r\n                  value={this.state.feedback}\r\n                  onChange={this.onChange}\r\n                  placeholder=\" ,     .   ,  \"\r\n              />\r\n              <div style={{textAlign: 'right', marginRight: '12px', color: 'grey', marginTop: '5px'}}>{420 - this.state.feedback.length}</div>\r\n            </div>\r\n            <Slider\r\n                min={0}\r\n                max={10}\r\n                onChange={rate => this.changeRate({rate})}\r\n                top={` : ${rateList[this.state.rate]}`}\r\n                step={1}\r\n              />\r\n            <Checkbox\r\n              name=\"anon\"\r\n              onClick={this.anonF}\r\n            >\r\n              \r\n            </Checkbox>\r\n            <Button size=\"xl\" disabled={this.state.loading || this.state.error} onClick={this.submit}>{this.state.loading? <Spinner size=\"regular\"/> :\"\"}</Button>\r\n          </FormLayout>}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport {Cell, Avatar, Div, Group, Link} from '@vkontakte/vkui';\r\nimport connect from '@vkontakte/vkui-connect-promise';\r\nimport Icon28User from '@vkontakte/icons/dist/28/user';\r\n\r\nexport default class FeedBackCard extends React.Component{\r\n  constructor(props) {\r\n    super(props);\r\n    this.renderPreparedUser = this.renderPreparedUser.bind(this);\r\n    this.renderUser = this.renderUser.bind(this);\r\n    this.state = {\r\n      user: null\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n\r\n    if(!this.props.user.user){\r\n      connect.send(\"VKWebAppCallAPIMethod\", {\"method\": \"users.get\", \"params\": {\"fields\": \"photo_50\", \"user_ids\": this.props.user.vkId, \"v\":\"5.95\", \"access_token\":this.props.token}})\r\n      .then(data => this.setState({user: data.data.response[0]}))\r\n      .catch(() => this.setState({user: {id: 0, first_name: '', last_name: '', photo_50: 'https://sun1-19.userapi.com/c847124/v847124728/335f9/8POFsScEtc8.jpg?ava=1'}}))\r\n    }\r\n  }\r\n\r\n  renderPreparedUser(rateList){\r\n    return(\r\n      <div>\r\n        <Cell description={rateList[this.props.rate]} before={<Avatar><Icon28User/></Avatar>}>\r\n          {this.props.user.user.first_name} {this.props.user.user.last_name}\r\n        </Cell>\r\n        <p style={{padding: \"0 12px\"}}>{this.props.text}</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderUser(rateList){\r\n    return(\r\n      <div>\r\n      {this.props.token &&\r\n        <Link style={{color: 'black'}} href={this.state.user.id != 0 && `https://vk.com/id${this.state.user.id}`}>\r\n          <Cell description={rateList[this.props.rate]} before={<Avatar src={this.state.user.photo_50}/>}>\r\n            {this.state.user.first_name} {this.state.user.last_name}\r\n          </Cell>\r\n        </Link>\r\n      }\r\n      {!this.props.token &&\r\n        <Cell description={rateList[this.props.rate]} before={<Avatar src={this.state.user.photo_50}/>}>\r\n          {this.state.user.first_name} {this.state.user.last_name}\r\n        </Cell>\r\n      }\r\n        <p style={{padding: \"0 12px\"}}>{this.props.text}</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render(){\r\n    const rateList = [\" \", \" (1)\", \" (2)\", \" (3)\", \" (4)\", \" (5)\", \" (6)\", \" (7)\", \" (8)\", \" (9)\", \" (10)\"];\r\n    return(\r\n      <Group>\r\n        <Div>\r\n          {this.props.user.user && this.renderPreparedUser(rateList)}\r\n          {this.state.user && this.renderUser(rateList)}\r\n        </Div>\r\n      </Group>\r\n  )}\r\n\r\n}\r\n","import React from 'react';\r\nimport {Group, Link, HorizontalScroll} from '@vkontakte/vkui';\r\n\r\nexport default class GenresRender extends React.Component{\r\n\r\n  capitalizeFirstLetter(string) {\r\n    return string.charAt(0).toUpperCase() + string.slice(1);\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <div style={{marginTop: '15px'}}>\r\n        <HorizontalScroll style={{overflow: 'unset'}}>\r\n          <div style={{ display: 'flex', paddingLeft: '10px'}}>\r\n            {this.props.genres.map(item => {\r\n              return <div key={item.id} style={itemStyle}><div onClick={this.props.go} data-to={this.props.to} data-search={item.id} key={item.id} style={genreStyle}>{this.capitalizeFirstLetter(item.name)}</div></div>\r\n            })}\r\n          </div>\r\n        </HorizontalScroll>\r\n      </div>\r\n  )}\r\n\r\n}\r\n\r\nconst itemStyle = {\r\n  flexShrink: 0,\r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n  alignItems: 'center',\r\n};\r\n\r\nconst genreStyle = {\r\n  display: 'inline-block',\r\n\tbackgroundColor: '#f7f7f7',\r\n  padding: '12px 20px',\r\n  marginRight: '10px',\r\n  color: 'grey',\r\n  fontSize: 17,\r\n  fontWeight: 'bold',\r\n  borderRadius: 20,\r\n};\r\n","import React from 'react';\r\nimport {Panel, PanelHeader, HeaderButton, platform, IOS, Group, Button, Header, Div, InfoRow, List, Cell, Spinner, Counter, Link} from '@vkontakte/vkui';\r\nimport qr from '@vkontakte/vk-qr';\r\nimport settings from '../constants.js';\r\nimport connect from '@vkontakte/vkui-connect-promise';\r\nimport VK, { Playlist } from \"react-vk\";\r\nimport TextTruncate from 'react-text-truncate';\r\n\r\n\r\nimport Icon24Qr from '@vkontakte/icons/dist/24/qr';\r\nimport Icon24Info from '@vkontakte/icons/dist/24/info';\r\nimport Icon24Like from '@vkontakte/icons/dist/24/like';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\nimport Icon24LogoLivejournal from '@vkontakte/icons/dist/24/logo_livejournal';\r\n\r\nimport ClickImage from '../components/ClickImage';\r\nimport CustomTruncate from '../components/CustomTruncate';\r\nimport DivBottom from '../components/DivBottom';\r\nimport {FeedBackForm} from '../components/Forms';\r\nimport FeedBackCard from '../components/FeedBackCard';\r\nimport {Genres} from '../components/Exporter';\r\n\r\nconst osname = platform();\r\n\r\n\r\nexport default class Film extends React.Component{\r\n  constructor(props) {\r\n\t\tsuper(props);\r\n\r\n    this.state = {\r\n      qr: false,\r\n      feedBack: false,\r\n      watchLoaded: true\r\n    }\r\n\r\n    this.watch = this.watch.bind(this);\r\n    this.QRModal = this.QRModal.bind(this);\r\n    this.feedBackModal = this.feedBackModal.bind(this);\r\n\t}\r\n\r\n  componentDidMount(){\r\n    connect.send(\"VKWebAppSetLocation\", {\"location\": `film_${this.props.filmid}`});\r\n  }\r\n\r\n  watch(token, filmid){\r\n    this.setState({watchLoaded: false});\r\n    if(token){\r\n      connect.send(\"VKWebAppTapticNotificationOccurred\", {\"type\": \"success\"});\r\n      if(!this.props.currentFilm.going){\r\n      this.props.currentFilm.watch++;\r\n      fetch(`https://cinema.voloshinskii.ru/watch?token=${token}&filmId=${filmid}`)\r\n        .then(res => this.setState({watchLoaded: true}))\r\n      }\r\n      else{\r\n        this.props.currentFilm.watch--;\r\n        fetch(`https://cinema.voloshinskii.ru/unwatch?token=${token}&filmId=${filmid}`)\r\n          .then(res => this.setState({watchLoaded: true}))\r\n      }\r\n      this.props.currentFilm.going = !this.props.currentFilm.going;\r\n      this.setState({going: this.props.currentFilm.going});\r\n    }\r\n    else{\r\n      connect.send(\"VKWebAppGetAuthToken\", {\"app_id\": 6977050, \"scope\": \"\"}).then(data => {\r\n        this.watch(data.data.access_token, this.props.currentFilm._id);\r\n        this.props.authToken = data.data.access_token;\r\n      }).catch(()=> this.setState({watchLoaded: true}));\r\n    }\r\n  }\r\n\r\n\r\n  share(filmid, title){\r\n    connect.send(\"VKWebAppTapticImpactOccurred\", {\"style\": \"light\"});\r\n      connect.send(\"VKWebAppShowWallPostBox\", {\"message\": `   : ${title}! https://vk.com/app6977050#film_${filmid}.    ?`});\r\n  }\r\n\r\n  QRModal(){\r\n    var value = !this.state.qr;\r\n    if(value){\r\n      connect.send('VKWebAppEnableSwipeBack');\r\n    }\r\n    else{\r\n      connect.send('VKWebAppDisableSwipeBack');\r\n    }\r\n\r\n    this.setState({qr: value});\r\n  }\r\n\r\n  feedBackModal(){\r\n    var value = !this.state.feedBack;\r\n    if(value){\r\n      connect.send('VKWebAppEnableSwipeBack');\r\n    }\r\n    else{\r\n      connect.send('VKWebAppDisableSwipeBack');\r\n    }\r\n\r\n    this.setState({feedBack: value});\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <Panel id={this.props.id}>\r\n    \t\t<PanelHeader\r\n    \t\t\tleft={!this.state.qr && !this.state.feedBack && <HeaderButton onClick={this.props.go} data-to=\"home\">\r\n    \t\t\t\t{osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n    \t\t\t</HeaderButton>}\r\n    \t\t>\r\n    \t\t\t\r\n    \t\t</PanelHeader>\r\n        <div style={{background: 'white'}}>\r\n            {!this.props.currentFilm && <div style={{zIndex: 10000, position: 'absolute', background: 'white', top: 0, width: '100%', height: '100%'}}><Spinner size=\"large\" style={{marginTop: 30}}/></div>}\r\n            {this.props.currentFilm &&\r\n              <ClickImage back={settings.image_url + this.props.currentFilm.tmdbFullData.backdrop_path}\r\n                          front={this.props.currentFilm.image}\r\n                          title={this.props.currentFilm.title}\r\n              />\r\n            }\r\n            <Group>\r\n              <Div style={{display: 'flex', justifyContent: 'space-between', flexDirection: 'row' }}>\r\n                {this.props.currentFilm && this.props.currentFilm.tmdbFullData.vote_average > 0 &&\r\n                  <InfoRow style={{display: 'inline-block'}} title=''>\r\n                    <span style={{color: '#528bcc', fontWeight: 'bold', fontSize: 20}}>\r\n                      {this.props.currentFilm.tmdbFullData.vote_average}\r\n                    </span>\r\n                  </InfoRow>\r\n                }\r\n\r\n                {this.props.currentFilm && this.props.currentFilm.tmdbFullData.runtime > 0 &&\r\n                  <InfoRow style={{display: 'inline-block'}} title=''>\r\n                    <span style={{color: 'grey', fontWeight: 'bold', fontSize: 20}}>\r\n                      {this.props.currentFilm.tmdbFullData.runtime} \r\n                    </span>\r\n                  </InfoRow>\r\n                }\r\n                {this.props.currentFilm && this.props.currentFilm.date && new Date(this.props.currentFilm.date) > new Date() &&\r\n                  <InfoRow style={{display: 'inline-block'}} title=''>\r\n                    <span style={{color: 'grey', fontWeight: 'bold', fontSize: 20}}>\r\n                      {new Date(this.props.currentFilm.date).toLocaleString('ru', {month: 'long', day: 'numeric'})}\r\n                    </span>\r\n                  </InfoRow>\r\n                }\r\n              </Div>\r\n            </Group>\r\n\r\n            <Div>\r\n              {this.props.currentFilm && this.props.currentFilm.tmdbFullData.overview &&\r\n                <CustomTruncate\r\n                  text={this.props.currentFilm.tmdbFullData.overview}\r\n                />\r\n              }\r\n            </Div>\r\n\r\n            <div style={{width: '95%', margin: 'auto', display: 'flex', flexDirection: 'row', justifyContent: 'space-between'}}>\r\n              {this.props.currentFilm && !this.props.currentFilm.going && <Button align='left' size=\"xl\" style={{width: '100%', display: \"inline-block\", marginRight:'1%'}}  disabled={!this.state.watchLoaded} level=\"primary\" onClick={() => { this.watch(this.props.authToken, this.props.currentFilm._id) }}>{this.state.watchLoaded ? \"  \" : <Spinner size=\"regular\"/>}</Button>}\r\n              {this.props.currentFilm && this.props.currentFilm.going && <Button  align='left' size=\"xl\" style={{width: '100%', display: \"inline-block\",  marginRight:'1%'}} disabled={!this.state.watchLoaded} level=\"primary\" onClick={() => {  this.watch(this.props.authToken, this.props.currentFilm._id) }}>{this.state.watchLoaded ? \"  \" : <Spinner size=\"regular\"/>}</Button>}\r\n              {this.props.currentFilm && <Button size=\"xl\" onClick={this.QRModal} style={{width:\"16%\", display: \"inline-block\"}} level=\"secondary\"><Icon24Qr/></Button>}\r\n              {this.props.currentFilm && this.props.authToken && new Date(this.props.currentFilm.date) < new Date() && <Button size=\"xl\" onClick={this.feedBackModal} style={{width:\"16%\", display: \"inline-block\", marginLeft:'1%'}} level=\"secondary\"><Icon24LogoLivejournal/></Button>}\r\n            </div>\r\n\r\n            <Group>\r\n              <Div style={{display: 'flex', justifyContent: 'space-between', flexDirection: 'row' }}>\r\n                {this.props.currentFilm && this.props.currentFilm.watch > 0 &&\r\n                  <InfoRow style={{display: 'inline-block', textAlign: 'center'}} title=''>\r\n                    <span style={{color: 'grey', fontWeight: 'bold', fontSize: 20}}>\r\n                      {this.props.currentFilm.watch}\r\n                    </span>\r\n                  </InfoRow>\r\n                }\r\n                {this.props.currentFilm && this.props.currentFilm.feedbacks &&\r\n                  <InfoRow style={{display: 'inline-block', textAlign: 'center'}} title=''>\r\n                    <span style={{color: 'grey', fontWeight: 'bold', fontSize: 20}}>\r\n                      {this.props.currentFilm.feedbacks.length}\r\n                    </span>\r\n                  </InfoRow>\r\n                }\r\n              </Div>\r\n            </Group>\r\n            {this.props.currentFilm && this.props.currentFilm.tmdbFullData.genres.length !== 0 && <Genres to=\"genre\" go={this.props.go} data-to=\"genre\" genres={this.props.currentFilm.tmdbFullData.genres}/>}\r\n          </div>\r\n\r\n          <Group>\r\n            {this.props.currentFilm &&  !(this.props.currentFilm.date && new Date(this.props.currentFilm.date) > new Date()) && <Div><InfoRow title=''>{new Date(this.props.currentFilm.date).toLocaleString('ru', {year: 'numeric',month: 'long',day: 'numeric'})}</InfoRow></Div>}\r\n            {this.props.currentFilm && (this.props.currentFilm.tmdbFullData.budget > 0)   && <Div><InfoRow title=' '>{this.props.currentFilm.tmdbFullData.budget.toLocaleString('ru')}$</InfoRow></Div>}\r\n            {this.props.currentFilm && (this.props.currentFilm.tmdbFullData.revenue > 0)  && <Div><InfoRow title=''>{this.props.currentFilm.tmdbFullData.revenue.toLocaleString('ru')}$</InfoRow></Div>}\r\n          </Group>\r\n\r\n          {this.props.currentFilm && this.props.currentFilm.video && <Group title='' style={{marginTop: '30px'}}>\r\n            <iframe width=\"100%\" height=\"204\" style={{margin:'auto'}} src={`https://www.youtube.com/embed/${this.props.currentFilm.video}`} frameBorder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowFullScreen/>\r\n          </Group>\r\n          }\r\n\r\n          {this.props.currentFilm && this.props.currentFilm.playlist &&\r\n            <Group title=''>\r\n                <Div style={{position: 'relative'}}>\r\n                  <a style={{display: 'block', position: 'absolute', top: 0, width: '95%', height: '100%'}} href={`https://vk.com/audio?z=audio_playlist-${this.props.currentFilm.playlist.owner}_${this.props.currentFilm.playlist.playlist}/${this.props.currentFilm.playlist.hack}`}/>\r\n                  <VK>\r\n                    <Playlist style={{pointerEvents: 'none'}}\r\n                              ownerId={this.props.currentFilm.playlist.owner}\r\n                              playlistId={this.props.currentFilm.playlist.playlist}\r\n                              hash={this.props.currentFilm.playlist.hash}\r\n                    />\r\n                  </VK>\r\n                </Div>\r\n            </Group>\r\n          }\r\n\r\n\r\n          {this.props.currentFilm && this.props.currentFilm.feedbacks.length > 0 &&\r\n            <div>\r\n            <Group style={{marginTop: \"40px\"}}>\r\n               <Header level=\"2\">\r\n                 \r\n               </Header>\r\n             </Group>\r\n            {this.props.currentFilm.feedbacks.map(item =>{\r\n              return <FeedBackCard token={this.props.authToken} key={item._id}{...item}/>\r\n            })}\r\n            </div>\r\n          }\r\n\r\n          { this.props.currentFilm && this.state.qr &&\r\n            <DivBottom title=' ' onClose={this.QRModal}>\r\n            <Div>\r\n              <InfoRow><div style={{width: '256px', margin: 'auto', marginBottom: '10px'}} dangerouslySetInnerHTML={{__html: qr.createQR(`https://vk.com/app6977050#film_${this.props.currentFilm.tmdbId}`, 256, 'qr-code-class', true)}}/></InfoRow>\r\n              <div style={{width: '256px', margin: 'auto', textAlign: 'center', color: 'grey', marginBottom: '20px'}}>       .    QR-   </div>\r\n              <div style={{width: '90%', margin: 'auto', display: 'flex', flexDirection: 'column'}}>\r\n                <Button size=\"xl\" style={{width:\"100%\", marginBottom: '10px'}} level=\"primary\" onClick={() => { this.share(this.props.currentFilm.tmdbId, this.props.currentFilm.title) }}></Button>\r\n                <Button size=\"xl\" style={{width:\"100%\"}} component=\"a\" href=\"https://vk.com/wall-58810575_52712\" level=\"secondary\"> ?</Button>\r\n              </div>\r\n            </Div>\r\n            </DivBottom>\r\n          }\r\n\r\n          { this.props.currentFilm && this.state.feedBack &&\r\n            <DivBottom title=' ' onClose={this.feedBackModal}>\r\n              <FeedBackForm filmid={this.props.currentFilm._id} close={this.feedBackModal} token={this.props.authToken}/>\r\n            </DivBottom>\r\n          }\r\n      </Panel>\r\n  )}\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Panel, PanelHeader, HeaderButton, platform, IOS, Search, List, Cell, Spinner} from '@vkontakte/vkui';\r\n\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\nimport {CenteredDiv} from '../components/Exporter';\r\n\r\nconst osname = platform();\r\n\r\nclass Future extends React.Component {\r\n  constructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n      search: '',\r\n\t\t\tfutureList: [],\r\n\r\n\t\t};\r\n    this.onChange = this.onChange.bind(this);\r\n    this.searchRes = this.searchRes.bind(this);\r\n\t}\r\n\r\n  onChange (search) { this.setState({ search }); }\r\n\r\n  searchRes() {\r\n      const search = this.state.search.toLowerCase();\r\n      return this.state.futureList.filter(({title}) => title.toLowerCase().indexOf(search) > -1);\r\n    }\r\n\r\n  componentDidMount(){\r\n    fetch(`https://cinema.voloshinskii.ru/future/preview?limit=10000`)\r\n      .then(res => res.json())\r\n      .then(json => this.setState({ futureList: json }));\r\n  }\r\n\r\n\trender() {\r\n\t\treturn (\r\n      <Panel id={this.props.id}>\r\n    \t\t<PanelHeader\r\n    \t\t\tleft={<HeaderButton onClick={this.props.go} data-to=\"home\">\r\n    \t\t\t\t{osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n    \t\t\t</HeaderButton>}\r\n    \t\t>\r\n    \t\t\t  \r\n    \t\t</PanelHeader>\r\n        <Search value={this.state.search} onChange={this.onChange}/>\r\n        {this.state.futureList.length == 0 && <Spinner size=\"large\" style={{marginTop: 30}}/>}\r\n        {this.state.futureList.length > 0 &&\r\n          <div>\r\n            {this.searchRes().length === 0 && <p style={{marginTop: '20px', textAlign: 'center', fontSize: 16, color: 'grey'}}>   </p>}\r\n            <List>\r\n              {this.searchRes().map(item => <Cell data-fid={item.tmdbId} key={item.tmdbId} onClick={this.props.openFilm}>{item.title}</Cell>)}\r\n            </List>\r\n          </div>\r\n        }\r\n    \t</Panel>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Future;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Panel, PanelHeader, HeaderButton, platform, IOS, Search, List, Cell, Spinner} from '@vkontakte/vkui';\r\n\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\nimport {CenteredDiv} from '../components/Exporter';\r\n\r\nconst osname = platform();\r\n\r\nclass FuturePopular extends React.Component {\r\n  constructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n      search: '',\r\n\t\t\tfutureList: [],\r\n\r\n\t\t};\r\n    this.onChange = this.onChange.bind(this);\r\n    this.searchRes = this.searchRes.bind(this);\r\n\t}\r\n\r\n  onChange (search) { this.setState({ search }); }\r\n\r\n  searchRes() {\r\n      const search = this.state.search.toLowerCase();\r\n      return this.state.futureList.filter(({title}) => title.toLowerCase().indexOf(search) > -1);\r\n    }\r\n\r\n  componentDidMount(){\r\n    fetch(`https://cinema.voloshinskii.ru/future/popular?limit=10000`)\r\n      .then(res => res.json())\r\n      .then(json => this.setState({ futureList: json }));\r\n  }\r\n\r\n\trender() {\r\n\t\treturn (\r\n      <Panel id={this.props.id}>\r\n    \t\t<PanelHeader\r\n    \t\t\tleft={<HeaderButton onClick={this.props.go} data-to=\"home\">\r\n    \t\t\t\t{osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n    \t\t\t</HeaderButton>}\r\n    \t\t>\r\n    \t\t\t\r\n    \t\t</PanelHeader>\r\n        <Search value={this.state.search} onChange={this.onChange}/>\r\n        {this.state.futureList.length == 0 && <Spinner size=\"large\" style={{marginTop: 30}}/>}\r\n        {this.state.futureList.length > 0 &&\r\n          <div>\r\n            {this.searchRes().length === 0 && <p style={{marginTop: '20px', textAlign: 'center', fontSize: 16, color: 'grey'}}>   </p>}\r\n            <List>\r\n              {this.searchRes().map(item => <Cell data-fid={item.tmdbId} key={item.tmdbId} onClick={this.props.openFilm}>{item.title}</Cell>)}\r\n            </List>\r\n          </div>\r\n        }\r\n    \t</Panel>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default FuturePopular;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Panel, PanelHeader, HeaderButton, platform, IOS, Search, List, Cell, Spinner} from '@vkontakte/vkui';\r\n\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\nimport {CenteredDiv} from '../components/Exporter';\r\n\r\nconst osname = platform();\r\n\r\nclass Active extends React.Component {\r\n  constructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n      search: '',\r\n\t\t\tactiveList: [],\r\n\r\n\t\t};\r\n    this.onChange = this.onChange.bind(this);\r\n    this.searchRes = this.searchRes.bind(this);\r\n\t}\r\n\r\n  onChange (search) {\r\n    if(this.state.activeList.length == 0){\r\n      fetch(`https://cinema.voloshinskii.ru/active/preview?limit=10000`)\r\n        .then(res => res.json())\r\n        .then(json => this.setState({ activeList: json }));\r\n    }\r\n    this.setState({ search });\r\n  }\r\n\r\n  searchRes() {\r\n      const search = this.state.search.toLowerCase();\r\n      return this.state.activeList.filter(({title}) => title.toLowerCase().indexOf(search) > -1);\r\n    }\r\n\r\n  componentDidMount(){\r\n    fetch(`https://cinema.voloshinskii.ru/active/preview?limit=10000`)\r\n      .then(res => res.json())\r\n      .then(json => this.setState({ activeList: json }));\r\n  }\r\n\r\n\trender() {\r\n\t\treturn (\r\n      <Panel id={this.props.id}>\r\n    \t\t<PanelHeader\r\n    \t\t\tleft={<HeaderButton onClick={this.props.go} data-to=\"home\">\r\n    \t\t\t\t{osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n    \t\t\t</HeaderButton>}\r\n    \t\t>\r\n    \t\t\t  \r\n    \t\t</PanelHeader>\r\n        <Search value={this.state.search} onChange={this.onChange}/>\r\n        {this.state.activeList.length == 0 && <Spinner size=\"large\" style={{marginTop: 30}}/>}\r\n        {this.state.activeList.length > 0 &&\r\n          <div>\r\n            {this.searchRes().length === 0 && <p style={{marginTop: '20px', textAlign: 'center', fontSize: 16, color: 'grey'}}>   </p>}\r\n            <List>\r\n              {this.searchRes().map(item => <Cell data-fid={item.tmdbId} key={item.tmdbId} onClick={this.props.openFilm}>{item.title}</Cell>)}\r\n            </List>\r\n          </div>\r\n        }\r\n    \t</Panel>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Active;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Panel, PanelHeader, HeaderButton, platform, IOS, Search, List, Cell, Spinner} from '@vkontakte/vkui';\r\nimport connect from '@vkontakte/vkui-connect';\r\n\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\n\r\nimport CenteredDiv from '../components/CenteredDiv';\r\nimport FilmListElem from '../components/FilmListElem';\r\n\r\nconst osname = platform();\r\n\r\nclass Featured extends React.Component {\r\n  constructor(props) {\r\n\t\tsuper(props);\r\n    this.state = {\r\n      list: [],\r\n      loaded: false\r\n    }\r\n\t}\r\n\r\n  componentDidMount(){\r\n\r\n    connect.subscribe((e) => {\r\n      switch (e.detail.type) {\r\n        case 'VKWebAppAccessTokenReceived':\r\n          this.setState({ tokenWithScope: e.detail.data, error: false });\r\n          fetch(`https://cinema.voloshinskii.ru/user/getwishlist?token=${e.detail.data.access_token}`)\r\n            .then(res => res.json())\r\n            .then(json => this.setState({ list: json.user && json.user.films, loaded: true }));\r\n          break;\r\n      }\r\n    });\r\n\r\n    if (this.props.token){\r\n      fetch(`https://cinema.voloshinskii.ru/user/getwishlist?token=${this.props.token}`)\r\n        .then(res => res.json())\r\n        .then(json => this.setState({ list: json.user && json.user.films, loaded: true }));\r\n    }\r\n    else{\r\n      this.setState({error: true});\r\n      connect.send(\"VKWebAppGetAuthToken\", {\"app_id\": 6977050, \"scope\": \"\"});\r\n    }\r\n  }\r\n\r\n\r\n\trender() {\r\n\t\treturn (\r\n      <Panel theme=\"white\" id={this.props.id}>\r\n    \t\t<PanelHeader>\r\n    \t\t\t \r\n    \t\t</PanelHeader>\r\n        {this.state.error && <CenteredDiv>        </CenteredDiv>}\r\n        {!this.state.error && !this.state.loaded && <Spinner size=\"large\" style={{marginTop: 30}}/>}\r\n        {!this.state.error && this.state.loaded && this.state.list.length === 0 &&\r\n          <CenteredDiv style={{marginTop: '20px'}}>        </CenteredDiv>\r\n        }\r\n        {this.state.list && this.state.list.length > 0 && <div style={{paddingTop: '10px'}}>{this.state.list.map(item =>{\r\n          return <FilmListElem datafid={item.tmdbId} data-fid={item.tmdbId} onClick={this.props.openFilm} key={item._id} title={item.title} image={item.image}/>\r\n        })}</div>}\r\n    \t</Panel>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Featured;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Panel, PanelHeader, HeaderButton, platform, IOS, Spinner, Button, Group, Div, List, Cell, Switch} from '@vkontakte/vkui';\r\nimport connect from '@vkontakte/vkui-connect';\r\nimport connectPromise from '@vkontakte/vkui-connect-promise';\r\n\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\n\r\nconst osname = platform();\r\n\r\nclass Settings extends React.Component {\r\n  constructor(props) {\r\n\t\tsuper(props);\r\n    this.state = {\r\n      loaded: false\r\n    }\r\n    this._isMounted = false;\r\n    this.subscribe = this.subscribe.bind(this);\r\n\t}\r\n\r\n  componentDidMount() {\r\n    this._isMounted = true;\r\n\r\n    if (!this.props.token){\r\n      connectPromise.send(\"VKWebAppGetAuthToken\", {\"app_id\": 6977050, \"scope\": \"\"}).then(data => {\r\n        console.log(data);\r\n        this.setState({ tokenWithScope: data.data, error: false });\r\n        this.props.token = data.data.access_token;\r\n      });\r\n    }\r\n\r\n    else{\r\n      connect.send(\"VKWebAppCallAPIMethod\", {\"method\": \"apps.isNotificationsAllowed\", \"params\": {\"v\":\"5.95\", \"access_token\":this.props.token}});\r\n    }\r\n\r\n    connect.subscribe((e) => {\r\n      switch (e.detail.type) {\r\n\r\n        case 'VKWebAppCallAPIMethodResult':\r\n          this._isMounted && this.setState({notifications: e.detail.data.response.is_allowed})\r\n          break;\r\n\r\n        case 'VKWebAppAllowNotificationsResult':\r\n          if(e.detail.data.result){\r\n            connect.send(\"VKWebAppTapticNotificationOccurred\", {\"type\": \"success\"});\r\n            fetch(`https://cinema.voloshinskii.ru/user/subscribe?token=${this.props.token}`)\r\n            this._isMounted && this.setState({notifications: true});\r\n          }\r\n            break;\r\n\r\n        case 'VKWebAppDenyNotificationsResult':\r\n          fetch(`https://cinema.voloshinskii.ru/user/unsubscribe?token=${this.props.token}`)\r\n          this._isMounted && this.setState({notifications: false});\r\n          break;\r\n      }\r\n    });\r\n  }\r\n\r\n  componentWillUnmount(){\r\n    this._isMounted = false;\r\n  }\r\n\r\n  subscribe(event){\r\n    connect.send(\"VKWebAppTapticImpactOccurred\", {\"style\": \"heavy\"});\r\n    if(!this.state.notifications){\r\n      connect.send(\"VKWebAppAllowNotifications\", {});\r\n\r\n    }\r\n    else{\r\n      connect.send(\"VKWebAppDenyNotifications\", {});\r\n      connect.send(\"VKWebAppTapticNotificationOccurred\", {\"type\": \"success\"});\r\n    }\r\n  }\r\n\r\n\trender() {\r\n\t\treturn (\r\n      <Panel theme=\"white\" id={this.props.id}>\r\n    \t\t<PanelHeader\r\n    \t\t>\r\n    \t\t\t\r\n    \t\t</PanelHeader>\r\n\r\n        <Group title=\" \">\r\n        <List>\r\n        {this.state.notifications !== null &&\r\n          <Cell multiline={true} description={this.state.notifications ? \",  !          \" : \",            \"} asideContent={<Switch checked={this.state.notifications} defaultChecked={this.state.notifications} onClick={this.subscribe}/>}>\r\n            \r\n          </Cell>\r\n        }\r\n        </List>\r\n        </Group>\r\n        <p style={{color: 'grey', textAlign: 'center'}}> : 1.1.1-3</p>\r\n        <p style={{color: 'grey', textAlign: 'center'}}>      API TMDb</p>\r\n    \t</Panel>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Settings;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Panel, PanelHeader, HeaderButton, platform, IOS, Search, List, Cell, Spinner} from '@vkontakte/vkui';\r\n\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\nimport {CenteredDiv} from '../components/Exporter';\r\n\r\nconst osname = platform();\r\n\r\nclass Genre extends React.Component {\r\n  constructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n      search: '',\r\n\t\t\tfutureList: [],\r\n\r\n\t\t};\r\n    this.onChange = this.onChange.bind(this);\r\n    this.searchRes = this.searchRes.bind(this);\r\n\t}\r\n\r\n  onChange (search) {\r\n    if(this.state.futureList.length == 0){\r\n      fetch(`https://cinema.voloshinskii.ru/search/genre/${this.props.search}`)\r\n        .then(res => res.json())\r\n        .then(json => this.setState({ futureList: json }));\r\n    }\r\n    this.setState({ search });\r\n  }\r\n\r\n  searchRes() {\r\n      const search = this.state.search.toLowerCase();\r\n      return this.state.futureList.filter(({title}) => title.toLowerCase().indexOf(search) > -1);\r\n    }\r\n\r\n  componentDidMount(){\r\n    fetch(`https://cinema.voloshinskii.ru/search/genre/${this.props.search}`)\r\n      .then(res => res.json())\r\n      .then(json => this.setState({ futureList: json }));\r\n  }\r\n\r\n\trender() {\r\n\t\treturn (\r\n      <Panel id={this.props.id}>\r\n    \t\t<PanelHeader\r\n    \t\t\tleft={<HeaderButton onClick={this.props.go} data-to=\"home\">\r\n    \t\t\t\t{osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n    \t\t\t</HeaderButton>}\r\n    \t\t>\r\n    \t\t\t  \r\n    \t\t</PanelHeader>\r\n        <Search value={this.state.search} onChange={this.onChange}/>\r\n        {this.state.futureList.length == 0 && <Spinner size=\"large\" style={{marginTop: 30}}/>}\r\n        {this.state.futureList.length > 0 &&\r\n          <div>\r\n            {this.searchRes().length === 0 && <p style={{marginTop: '20px', textAlign: 'center', fontSize: 16, color: 'grey'}}>   </p>}\r\n            <List>\r\n              {this.searchRes().map(item => <Cell data-fid={item.tmdbId} key={item.tmdbId} onClick={this.props.openFilm}>{item.title}</Cell>)}\r\n            </List>\r\n          </div>\r\n        }\r\n    \t</Panel>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Genre;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Panel, PanelHeader, HeaderButton, platform, IOS, Search, List, Cell, Spinner} from '@vkontakte/vkui';\r\nimport connect from '@vkontakte/vkui-connect';\r\n\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\n\r\nimport CenteredDiv from '../components/CenteredDiv';\r\nimport FilmListElem from '../components/FilmListElem';\r\n\r\nconst osname = platform();\r\n\r\nclass Collection extends React.Component {\r\n  constructor(props) {\r\n\t\tsuper(props);\r\n    this.state = {\r\n      list: [],\r\n      loaded: false,\r\n      title: \"...\"\r\n    }\r\n\t}\r\n\r\n  componentDidMount(){\r\n\r\n    fetch(`https://cinema.voloshinskii.ru/collection/getInfo/${this.props.cid}`)\r\n      .then(res => res.json())\r\n      .then(json => this.setState({ title: json.title, list: json.films, loaded: true }));\r\n\r\n  }\r\n\r\n\r\n\trender() {\r\n\t\treturn (\r\n      <Panel theme=\"white\" id={this.props.id}>\r\n\r\n        <PanelHeader\r\n          left={<HeaderButton onClick={this.props.go} data-to=\"home\">\r\n            {osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n          </HeaderButton>}\r\n        >\r\n    \t\t\t\r\n    \t\t</PanelHeader>\r\n        {!this.state.error && !this.state.loaded && <Spinner size=\"large\" style={{marginTop: 30}}/>}\r\n        {this.state.list && this.state.list.length > 0 && <div style={{paddingTop: '10px'}}>{this.state.list.map(item =>{\r\n          return <FilmListElem datafid={item.tmdbId} data-fid={item.tmdbId} onClick={this.props.openFilm} key={item._id} title={item.title} image={item.image}/>\r\n        })}</div>}\r\n    \t</Panel>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Collection;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Panel, PanelHeader, HeaderButton, platform, IOS, Search, List, Cell, Spinner} from '@vkontakte/vkui';\r\n\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\nimport {CenteredDiv} from '../components/Exporter';\r\nconst osname = platform();\r\n\r\nclass Collections extends React.Component {\r\n  constructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n      search: '',\r\n\t\t\tfutureList: [],\r\n\r\n\t\t};\r\n    this.onChange = this.onChange.bind(this);\r\n    this.searchRes = this.searchRes.bind(this);\r\n\t}\r\n\r\n  onChange (search) {\r\n    if(this.state.futureList.length == 0){\r\n      fetch(`https://cinema.voloshinskii.ru/collection/getList`)\r\n        .then(res => res.json())\r\n        .then(json => this.setState({ futureList: json }));\r\n    }\r\n    this.setState({ search });\r\n  }\r\n\r\n  searchRes() {\r\n      const search = this.state.search.toLowerCase();\r\n      return this.state.futureList.filter(({title}) => title.toLowerCase().indexOf(search) > -1);\r\n    }\r\n\r\n  componentDidMount(){\r\n    fetch(`https://cinema.voloshinskii.ru/collection/getList`)\r\n      .then(res => res.json())\r\n      .then(json => this.setState({ futureList: json }));\r\n  }\r\n\r\n\trender() {\r\n\t\treturn (\r\n      <Panel id={this.props.id}>\r\n    \t\t<PanelHeader\r\n    \t\t\tleft={<HeaderButton onClick={this.props.go} data-to=\"home\">\r\n    \t\t\t\t{osname === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n    \t\t\t</HeaderButton>}\r\n    \t\t>\r\n    \t\t\t\r\n    \t\t</PanelHeader>\r\n        <Search value={this.state.search} onChange={this.onChange}/>\r\n        {this.state.futureList.length == 0 && <Spinner size=\"large\" style={{marginTop: 30}}/>}\r\n        {this.state.futureList.length > 0 &&\r\n          <div>\r\n            {this.searchRes().length === 0 && <p style={{marginTop: '20px', textAlign: 'center', fontSize: 16, color: 'grey'}}>   </p>}\r\n            <List>\r\n              {this.searchRes().map(item => <Cell data-to=\"collection\" data-data={item._id} key={item._id} onClick={this.props.go}>{item.title}</Cell>)}\r\n            </List>\r\n          </div>\r\n        }\r\n    \t</Panel>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Collections;\r\n","import React from 'react';\r\nimport connect from '@vkontakte/vkui-connect';\r\nimport { View, Epic, Tabbar, TabbarItem, ConfigProvider, Button } from '@vkontakte/vkui';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport Icon28Favorite from '@vkontakte/icons/dist/28/favorite';\r\nimport Icon24Home from '@vkontakte/icons/dist/24/home';\r\nimport Icon28Settings from '@vkontakte/icons/dist/28/settings';\r\nimport HashChange from \"react-hashchange\";\r\n\r\nimport Home from './panels/Home';\r\nimport Popular from './panels/Popular';\r\nimport Film from './panels/Film';\r\nimport Future from './panels/Future';\r\nimport FuturePopular from './panels/FuturePopular';\r\nimport Active from './panels/Active';\r\nimport Featured from './panels/Featured';\r\nimport Settings from './panels/Settings';\r\nimport Genre from './panels/Genre';\r\nimport Collection from './panels/Collection';\r\nimport Collections from './panels/Collections';\r\n\r\nimport CenteredDiv from './components/CenteredDiv';\r\n\r\nclass App extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tactivePanel: 'home',\r\n\t\t\tactivePreview: null,\r\n\t\t\tfuturePreview: null,\r\n\t\t\tcurrentFilm: null,\r\n\t\t\tloading: true,\r\n\t\t\tauthToken: null,\r\n\t\t\ttokenWithScope: null,\r\n\t\t\tloaded: false,\r\n\t\t\tcollections: null,\r\n\t\t\thistoryv: ['home'],\r\n\t\t\tsearch: null,\r\n\t\t\tfilmhistory: [],\r\n\t\t\tadditionalData: null,\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidCatch(error, info) {\r\n    this.setState({ hasError: true });\r\n  }\r\n\r\n\tcomponentDidUpdate(){\r\n\t\twindow.onpopstate  = (e) => {\r\n\t\t\tif(this.state.historyv !== ['home']){\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tthis.goBack();\r\n\t\t\t}\r\n\t\t }\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconnect.send('VKWebAppEnableSwipeBack');\r\n\r\n\t\tconnect.subscribe((e) => {\r\n\t\t\tswitch (e.detail.type) {\r\n\r\n\t\t\t\tcase 'VKWebAppGetUserInfoResult':\r\n\t\t\t\t\tthis.setState({ user: e.detail.data});\r\n\t\t\t\t\tvar hash = window.location.href.split('#');\r\n\r\n\t\t\t\t\tfetch(`https://cinema.voloshinskii.ru/user/active?id=${e.detail.data.id}`)\r\n\t\t\t\t\t\t.then(res => res.json())\r\n\t\t\t\t\t\t.then(json => {\r\n\t\t\t\t\t\t\tif(json.result){\r\n\t\t\t\t\t\t\t\tconnect.send(\"VKWebAppGetAuthToken\", {\"app_id\": 6977050, \"scope\": \"\"});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\tif(hash[1] && hash[1].split('_')[0] === 'film' && this.state.loaded === false){\r\n\r\n\t\t\t\t\t\tfetch(`https://cinema.voloshinskii.ru/film/gettmdb/${hash[1].split('_')[1]}?id=${this.state.user.id}`)\r\n\t\t\t\t\t\t\t.then(res => res.json())\r\n\t\t\t\t\t\t\t.then(json => this.setState({ currentFilm: json }));\r\n\r\n\t\t\t\t\t\tconst filmhistory = [...this.state.filmhistory];\r\n\t\t\t\t\t\tfilmhistory.push(hash[1].split('_')[1]);\r\n\r\n\t\t\t\t\t\tthis.setState({ filmhistory, historyv: ['home', 'film'], loaded: true, activePanel: 'film', filmid: hash[1].split('_')[1]})\r\n\t\t\t\t\t\tconnect.send(\"VKWebAppSetLocation\", {\"location\": \"home\"});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\telse if(hash[1] && hash[1].split('_')[0] === 'collection' && this.state.loaded === false){\r\n\t\t\t\t\t\tthis.setState({ historyv: ['home', 'collection'], loaded: true, activePanel: 'collection', additionalData: hash[1].split('_')[1]})\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'VKWebAppAccessTokenReceived':\r\n\t\t\t\t\tfetch(`https://cinema.voloshinskii.ru/user/createUser?token=${e.detail.data.access_token}`);\r\n\t\t\t\t\tthis.setState({ authToken: e.detail.data.access_token, tokenWithScope: e.detail.data});\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tconnect.send(\"VKWebAppGetUserInfo\", {});\r\n\r\n\t\tfetch(`https://cinema.voloshinskii.ru/active/preview`)\r\n      .then(res => res.json())\r\n      .then(json => this.setState({ activePreview: json }));\r\n\r\n\t\tfetch(`https://cinema.voloshinskii.ru/future/preview`)\r\n\t    .then(res => res.json())\r\n\t    .then(json => this.setState({ futurePreview: json }));\r\n\r\n\t\tfetch(`https://cinema.voloshinskii.ru/active/popular`)\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(json => this.setState({ activePopular: json }));\r\n\r\n\t\tfetch(`https://cinema.voloshinskii.ru/future/popular`)\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(json => this.setState({ futurePopular: json }));\r\n\r\n\t\tfetch(`https://cinema.voloshinskii.ru/collection/getList`)\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(json => this.setState({ collections: json }));\r\n\t}\r\n\r\n\tgoBack = () => {\r\n    const historyv = [...this.state.historyv];\r\n\r\n\t\tconst from = this.state.activePanel;\r\n\t\tif (from === 'film'){\r\n\t\t\tvar filmhistory = [...this.state.filmhistory];\r\n\t\t\tfilmhistory.pop();\r\n\t\t\tthis.setState({ filmhistory: filmhistory, currentFilm: null })\r\n\t\t}\r\n\r\n    historyv.pop();\r\n\r\n    const activePanel = historyv[historyv.length - 1];\r\n    if (['home', 'featured', 'settings'].includes(activePanel)) {\r\n      connect.send('VKWebAppDisableSwipeBack');\r\n\t\t\tthis.setState({ historyv, activePanel });\r\n    }\r\n\t\telse if (activePanel === 'film'){\r\n\t\t\tconst filmhistory = [...this.state.filmhistory];\r\n\t\t\tfetch(`https://cinema.voloshinskii.ru/film/gettmdb/${filmhistory.slice(-1)[0]}?id=${this.state.user.id}`)\r\n\t\t\t\t.then(res => res.json())\r\n\t\t\t\t.then(json => this.setState({ historyv, activePanel, currentFilm: json }));\r\n\t\t}\r\n\t\telse{\r\n\t\t\tthis.setState({ historyv, activePanel });\r\n\t\t}\r\n  }\r\n\r\n\tgo = (e) => {\r\n\t\tif(e)\r\n\t\tif(e.currentTarget.dataset.to === 'home'){\r\n\t\t\tthis.goBack();\r\n\t\t}\r\n\t\telse{\r\n\t\t\twindow.history.pushState({lol: 1}, \"lol 1\");\r\n\t\t\tconst historyv = [...this.state.historyv];\r\n\t    historyv.push(e.currentTarget.dataset.to);\r\n\r\n\t    if (this.state.activePanel === 'home') connect.send('VKWebAppEnableSwipeBack');\r\n\r\n\t    this.setState({ historyv, currentFilm: null, activePanel: e.currentTarget.dataset.to, search: e.currentTarget.dataset.search});\r\n\t\t\tif(e.currentTarget.dataset.data) this.setState({additionalData: e.currentTarget.dataset.data});\r\n\t\t\tconnect.send(\"VKWebAppSetLocation\", {\"location\": e.currentTarget.dataset.to});\r\n\t\t}\r\n\t};\r\n\r\n\tonStoryChange = (e) => {\r\n\t var historyv = [...this.state.historyv];\r\n\t historyv[0] = e.currentTarget.dataset.story;\r\n\t this.setState({ historyv, activePanel: e.currentTarget.dataset.story })\r\n }\r\n\r\n\topenFilm = (e) => {\r\n\t\twindow.history.pushState({lol: 1}, \"lol 1\");\r\n\t\tconst historyv = [...this.state.historyv];\r\n    historyv.push('film');\r\n\t\tconnect.send('VKWebAppDisableSwipeBack');\r\n\t\tconst filmhistory = [...this.state.filmhistory];\r\n\t\tfilmhistory.push(e.currentTarget.dataset.fid);\r\n\r\n\t\tthis.setState({ filmhistory, historyv, activePanel: 'film', filmid: e.currentTarget.dataset.fid});\r\n\r\n\t\tfetch(`https://cinema.voloshinskii.ru/film/gettmdb/${e.currentTarget.dataset.fid}?id=${this.state.user.id}`)\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(json => this.setState({ currentFilm: json }));\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<ConfigProvider isWebView={true}>\r\n\t\t\t{this.state.hasError && <CenteredDiv><span style={{paddingBottom: '20px'}}>   ,  -       :(</span><Button onClick={() => window.location.reload()} size=\"xl\" style={{width:\"90%\", margin: \"auto\"}} level=\"secondary\"> </Button></CenteredDiv>}\r\n\t\t\t{!this.state.hasError &&\r\n\t\t\t <Epic activeStory={this.state.activePanel} tabbar={\r\n\t        ['home', 'featured', 'settings'].includes(this.state.activePanel) && <Tabbar>\r\n\t          <TabbarItem\r\n\t            onClick={this.onStoryChange}\r\n\t            selected={this.state.activePanel === 'home'}\r\n\t            data-story=\"home\"\r\n\t            text=\"\"\r\n\t          ><Icon24Home/></TabbarItem>\r\n\t\t\t\t\t\t<TabbarItem\r\n\t            onClick={this.onStoryChange}\r\n\t            selected={this.state.activePanel === 'featured'}\r\n\t            data-story=\"featured\"\r\n\t            text=\"\"\r\n\t          ><Icon28Favorite/></TabbarItem>\r\n\t\t\t\t\t\t<TabbarItem\r\n\t\t\t\t\t\t\tonClick={this.onStoryChange}\r\n\t\t\t\t\t\t\tselected={this.state.activePanel === 'settings'}\r\n\t\t\t\t\t\t\tdata-story=\"settings\"\r\n\t\t\t\t\t\t\ttext=\"\"\r\n\t\t\t\t\t\t><Icon28Settings/></TabbarItem>\r\n\t        </Tabbar>\r\n\t      }>\r\n\r\n\t\t\t\t\t<View id=\"featured\" activePanel=\"featured\">\r\n\t\t\t\t\t\t<Featured openFilm={this.openFilm} token={this.state.authToken} id=\"featured\" go={this.go} />\r\n\t\t\t\t\t</View>\r\n\t\t\t\t\t<View id=\"settings\" activePanel=\"settings\">\r\n\t\t\t\t\t\t<Settings token={this.state.authToken} id=\"settings\" go={this.go} />\r\n\t\t\t\t\t</View>\r\n\t\t\t\t\t<View id={this.state.activePanel} activePanel={this.state.activePanel} onSwipeBack={this.state.activePanel !== 'film' && this.goBack} history={this.state.historyv}>\r\n\t\t\t\t\t\t<Home collections={this.state.collections} id=\"home\" activePreview={this.state.activePreview} activePopular={this.state.activePopular} futurePopular={this.state.futurePopular} futurePreview={this.state.futurePreview} go={this.go} openFilm={this.openFilm} setid={this.setid} />\r\n\t\t\t\t\t\t<Featured openFilm={this.openFilm} token={this.state.authToken} id=\"featured\" go={this.go} />\r\n\t\t\t\t\t\t<Popular openFilm={this.openFilm} token={this.state.tokenWithScope} updateToken={this.updateToken} id=\"popular\" go={this.go} />\r\n\t\t\t\t\t\t<Future id=\"future\" go={this.go} openFilm={this.openFilm} />\r\n\t\t\t\t\t\t<FuturePopular id=\"futurepopular\" go={this.go} openFilm={this.openFilm} />\r\n\t\t\t\t\t\t<Active id=\"active\" go={this.go} openFilm={this.openFilm} />\r\n\t\t\t\t\t\t<Collections id=\"collections\" go={this.go}/>\r\n\t\t\t\t\t\t<Collection id=\"collection\" cid={this.state.additionalData} go={this.go} openFilm={this.openFilm} />\r\n\t\t\t\t\t\t<Film filmid={this.state.filmid} authToken={this.state.authToken} currentFilm={this.state.currentFilm} id=\"film\" go={this.go} />\r\n\t\t\t\t\t\t<Genre id=\"genre\" search={this.state.search} go={this.go} openFilm={this.openFilm} />\r\n\t\t\t\t\t</View>\r\n\t\t\t\t</Epic>}\r\n\t\t\t</ConfigProvider>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default App;\r\n","import { createBrowserHistory } from 'history';\r\n\r\nexport default createBrowserHistory();\r\n","import 'core-js/es6/map';\r\nimport 'core-js/es6/set';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport connect from '@vkontakte/vkui-connect';\r\nimport App from './App';\r\nimport { Router, Route } from 'react-router-dom';\r\nimport history from './history';\r\n// import registerServiceWorker from './sw';\r\n\r\n// Init VK App\r\nconnect.send('VKWebAppInit', {});\r\n\r\n//   ,   -      ,\r\n//    registerServiceWorker();\r\n//   ,          \r\n//         https://vk.cc/8MHpmT\r\n// registerServiceWorker();\r\nReactDOM.render(<App/>, document.getElementById('root'));\r\n"],"sourceRoot":""}